var PluginCustomFrameworkImport=function(St,O,fe,L){"use strict";/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ce=>ce.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vr=(...ce)=>ce.filter((_e,i,T)=>!!_e&&_e.trim()!==""&&T.indexOf(_e)===i).join(" ").trim();/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=fe.forwardRef(({color:ce="currentColor",size:_e=24,strokeWidth:i=2,absoluteStrokeWidth:T,className:S="",children:m,iconNode:o,...l},n)=>fe.createElement("svg",{ref:n,...Yr,width:_e,height:_e,stroke:ce,strokeWidth:T?Number(i)*24/Number(_e):i,className:vr("lucide",S),...l},[...o.map(([e,t])=>fe.createElement(e,t)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(ce,_e)=>{const i=fe.forwardRef(({className:T,...S},m)=>fe.createElement(Gr,{ref:m,iconNode:_e,className:vr(`lucide-${Xr(ce)}`,T),...S}));return i.displayName=`${ce}`,i};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=at("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=at("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=at("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=at("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=at("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=at("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=at("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=at("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=at("CircleDotDashed",[["path",{d:"M10.1 2.18a9.93 9.93 0 0 1 3.8 0",key:"1qdqn0"}],["path",{d:"M17.6 3.71a9.95 9.95 0 0 1 2.69 2.7",key:"1bq7p6"}],["path",{d:"M21.82 10.1a9.93 9.93 0 0 1 0 3.8",key:"1rlaqf"}],["path",{d:"M20.29 17.6a9.95 9.95 0 0 1-2.7 2.69",key:"1xk03u"}],["path",{d:"M13.9 21.82a9.94 9.94 0 0 1-3.8 0",key:"l7re25"}],["path",{d:"M6.4 20.29a9.95 9.95 0 0 1-2.69-2.7",key:"1v18p6"}],["path",{d:"M2.18 13.9a9.93 9.93 0 0 1 0-3.8",key:"xdo6bj"}],["path",{d:"M3.71 6.4a9.95 9.95 0 0 1 2.7-2.69",key:"1jjmaz"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=at("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=at("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=at("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=at("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=at("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=at("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=at("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=at("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=at("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=at("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=at("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=at("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=at("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=at("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=at("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=at("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=at("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=at("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=at("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=at("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=at("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=at("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=at("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),At={small:"11px",medium:"13px",large:"16px"},Ue={primary:"#13715B",primaryHover:"#0f604d",success:"#059669",successHover:"#047857",warning:"#D97706",warningHover:"#B45309",error:"#DB504A",errorHover:"#B91C1C",info:"#3B82F6",infoHover:"#2563EB"},Qe={primary:"#1A1919",secondary:"#344054",muted:"#475467",disabled:"#9CA3AF",theme:"#0f604d",error:"#DB504A"},Ct={default:"#ffffff",subtle:"#f8fafc",hover:"#f5f5f5",gradient:"linear-gradient(180deg, #f9fafb 0%, #f3f4f6 100%)",modalHeader:"linear-gradient(180deg, #F8FAFB 0%, #F3F5F8 100%)",modalFooter:"linear-gradient(180deg, #F3F5F8 0%, #F8FAFB 100%)"},vt={default:"#d0d5dd",light:"#E0E4E9",input:"#D0D5DD"},fr={medium:{height:32,fontSize:"13px",padding:"8px 16px",minHeight:32}},Kt={primary:{contained:{...fr.medium,backgroundColor:Ue.primary,color:"#fff",boxShadow:"none",textTransform:"inherit",borderRadius:"4px",border:"none",fontWeight:500,transition:"all 0.2s ease","&:hover":{backgroundColor:Ue.primaryHover,boxShadow:"none"},"&.Mui-disabled":{backgroundColor:"#E5E7EB",color:"#9CA3AF"}},outlined:{...fr.medium,backgroundColor:"transparent",color:Ue.primary,border:`1px solid ${Ue.primary}`,boxShadow:"none",textTransform:"inherit",borderRadius:"4px",fontWeight:500,transition:"all 0.2s ease","&:hover":{backgroundColor:`${Ue.primary}08`,borderColor:Ue.primaryHover,boxShadow:"none"},"&.Mui-disabled":{borderColor:"#E5E7EB",color:"#9CA3AF"}}},error:{contained:{...fr.medium,backgroundColor:Ue.error,color:"#fff",boxShadow:"none",textTransform:"inherit",borderRadius:"4px",border:"none",fontWeight:500,transition:"all 0.2s ease","&:hover":{backgroundColor:Ue.errorHover,boxShadow:"none"}}}},on={frame:{border:`1px solid ${vt.default}`,borderRadius:"4px","& td, & th":{border:0}},header:{row:{textTransform:"uppercase",borderBottom:`1px solid ${vt.default}`,background:Ct.gradient},cell:{color:Qe.muted,fontSize:At.medium,fontWeight:600,padding:"12px 16px",whiteSpace:"nowrap"}},body:{row:{textTransform:"none",borderBottom:`1px solid ${vt.default}`,backgroundColor:Ct.default,transition:"background-color 0.2s ease","&:last-child":{borderBottom:"none"},"&:hover":{backgroundColor:Ct.hover,cursor:"pointer"}},cell:{fontSize:At.medium,padding:"12px 16px",color:Qe.secondary}}},pr={default:{border:`1px solid ${vt.default}`,borderRadius:"4px",backgroundColor:Ct.default,padding:"16px"},gradient:{border:`1px solid ${vt.default}`,borderRadius:"4px",background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",padding:"16px"}},an={success:{color:"#079455",backgroundColor:"#ecfdf3",borderColor:"#12715B"},error:{color:"#f04438",backgroundColor:"#f9eced",borderColor:"#f04438"},warning:{color:"#DC6803",backgroundColor:"#fffcf5",borderColor:"#fec84b"},info:{color:"#0288d1",backgroundColor:"#e5f6fd",borderColor:"#d0d5dd"}},mr=["Not started","Draft","In progress","Awaiting review","Awaiting approval","Implemented","Audited","Needs rework"],Fr={"Not started":{color:"#9CA3AF",bg:"#f1f5f9"},Draft:{color:"#D97706",bg:"#fffbeb"},"In progress":{color:"#3b82f6",bg:"#eff6ff"},"Awaiting review":{color:"#3B82F6",bg:"#EFF6FF"},"Awaiting approval":{color:"#8B5CF6",bg:"#f5f3ff"},Implemented:{color:"#13715B",bg:"#ecfdf5"},Audited:{color:"#06b6d4",bg:"#ecfeff"},"Needs rework":{color:"#EA580C",bg:"#fef2f2"}},ln={default:{fontSize:At.small,fontWeight:500,borderRadius:"4px",padding:"2px 8px",height:"auto"},organizational:{backgroundColor:`${Ue.primary}15`,color:Ue.primary,border:`1px solid ${Ue.primary}30`},project:{backgroundColor:"#f3f4f6",color:Qe.secondary,border:"1px solid #e5e7eb"}},Jt={container:{textAlign:"center",padding:"48px 24px"},icon:{color:Qe.muted,marginBottom:"16px"},title:{fontSize:At.large,fontWeight:600,color:Qe.primary,marginBottom:"8px"},description:{fontSize:At.medium,color:Qe.muted,marginBottom:"24px"}},cn={colors:{primary:{main:Ue.primary,light:"#1a8a70",dark:Ue.primaryHover,contrastText:"#FFFFFF",bg:"#e6f4f0"},success:{main:Ue.success,light:"#34d399",dark:Ue.successHover,bg:"#ecfdf5"},warning:{main:Ue.warning,light:"#fbbf24",dark:Ue.warningHover,bg:"#fffbeb"},error:{main:Ue.error,light:"#f87171",dark:Ue.errorHover,bg:"#fef2f2"},info:{main:Ue.info,light:"#60a5fa",dark:Ue.infoHover,bg:"#eff6ff"},text:Qe,background:Ct,border:vt},typography:{fontSizes:At},buttons:Kt,tables:on,cards:pr,alerts:an,chips:ln,emptyState:Jt,status:Fr,shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},borderRadius:{sm:"4px",md:"8px",lg:"12px",full:"9999px"}},kt={primary:{frame:{border:"1px solid #d0d5dd",borderRadius:"4px",boxShadow:"none","& td, & th":{border:0}},header:{row:{textTransform:"uppercase",borderBottom:"1px solid #d0d5dd",background:"linear-gradient(180deg, #f9fafb 0%, #f3f4f6 100%)"},cell:{color:"#475467",fontSize:"13px",fontWeight:400,padding:"12px 10px",whiteSpace:"nowrap"}},body:{row:{textTransform:"none",borderBottom:"1px solid #d0d5dd",backgroundColor:"white",transition:"background-color 0.3s ease-in-out","&:last-child":{borderBottom:"none"},"&:hover td":{backgroundColor:"#f5f5f5"},"&:hover":{cursor:"pointer"}},cell:{fontSize:"13px",padding:"12px 10px",color:"#344054"}}},pagination:{fontSize:"12px",color:"#475467",borderTop:"1px solid #d0d5dd","& .MuiTablePagination-selectLabel, & .MuiTablePagination-displayedRows":{fontSize:"12px",color:"#475467"},"& .MuiTablePagination-select":{fontSize:"12px"}}},Or=({frameworks:ce,onViewDetails:_e,showPagination:i=!0,rowsPerPageOptions:T=[5,10,25]})=>{const[S,m]=fe.useState(0),[o,l]=fe.useState(10),n=(a,r)=>{m(r)},e=a=>{l(parseInt(a.target.value,10)),m(0)},t=i?ce.slice(S*o,S*o+o):ce;return O.jsxs(L.TableContainer,{component:L.Paper,sx:kt.primary.frame,children:[O.jsxs(L.Table,{children:[O.jsx(L.TableHead,{sx:{background:kt.primary.header.row.background},children:O.jsxs(L.TableRow,{sx:kt.primary.header.row,children:[O.jsx(L.TableCell,{sx:kt.primary.header.cell,children:"Framework"}),O.jsx(L.TableCell,{sx:kt.primary.header.cell,children:"Type"}),O.jsx(L.TableCell,{sx:kt.primary.header.cell,children:"Hierarchy"}),O.jsx(L.TableCell,{sx:kt.primary.header.cell,children:"Structure"}),O.jsx(L.TableCell,{sx:kt.primary.header.cell,children:"Created"}),_e&&O.jsx(L.TableCell,{sx:{...kt.primary.header.cell,textAlign:"center"},children:"Actions"})]})}),O.jsx(L.TableBody,{children:t.map(a=>O.jsxs(L.TableRow,{sx:kt.primary.body.row,children:[O.jsx(L.TableCell,{sx:kt.primary.body.cell,children:O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:"13px",fontWeight:500,color:"#101828",lineHeight:1.4},children:a.name}),a.description&&O.jsx(L.Typography,{sx:{fontSize:"12px",color:"#667085",mt:.25,lineHeight:1.4},children:a.description.length>60?`${a.description.substring(0,60)}...`:a.description})]})}),O.jsx(L.TableCell,{sx:kt.primary.body.cell,children:O.jsx(L.Chip,{icon:O.jsx(wr,{size:12}),label:a.is_organizational?"Organizational":"Project",size:"small",sx:{fontSize:"11px",fontWeight:500,height:24,backgroundColor:a.is_organizational?"#ECFDF3":"#F2F4F7",color:a.is_organizational?"#027A48":"#344054",border:a.is_organizational?"1px solid #A6F4C5":"1px solid #E4E7EC","& .MuiChip-icon":{color:a.is_organizational?"#027A48":"#667085"}}})}),O.jsx(L.TableCell,{sx:kt.primary.body.cell,children:O.jsx(L.Chip,{icon:O.jsx(Sr,{size:12}),label:a.hierarchy_type==="three_level"?"3 Levels":"2 Levels",size:"small",sx:{fontSize:"11px",fontWeight:500,height:24,backgroundColor:"#F2F4F7",color:"#344054",border:"1px solid #E4E7EC","& .MuiChip-icon":{color:"#667085"}}})}),O.jsx(L.TableCell,{sx:kt.primary.body.cell,children:O.jsxs(L.Typography,{sx:{fontSize:"13px",color:"#344054"},children:[a.level1_count||0," ",a.level_1_name,"s, ",a.level2_count||0," ",a.level_2_name,"s",a.hierarchy_type==="three_level"&&a.level3_count?`, ${a.level3_count} ${a.level_3_name}s`:""]})}),O.jsx(L.TableCell,{sx:kt.primary.body.cell,children:O.jsx(L.Typography,{sx:{fontSize:"13px",color:"#344054"},children:new Date(a.created_at).toLocaleDateString()})}),_e&&O.jsx(L.TableCell,{sx:{...kt.primary.body.cell,textAlign:"center"},children:O.jsx(L.Tooltip,{title:"View details",children:O.jsx(L.IconButton,{size:"small",onClick:r=>{r.stopPropagation(),_e(a)},sx:{color:"#667085","&:hover":{color:"#13715B",backgroundColor:"rgba(19, 113, 91, 0.08)"}},children:O.jsx(kr,{size:16})})})})]},a.id))})]}),i&&ce.length>T[0]&&O.jsx(L.TablePagination,{rowsPerPageOptions:T,component:"div",count:ce.length,rowsPerPage:o,page:S,onPageChange:n,onRowsPerPageChange:e,sx:kt.pagination})]})},Br=({open:ce,onClose:_e,frameworkId:i,apiServices:T,onNavigateToProject:S,pluginKey:m})=>{var $,D;const[o,l]=fe.useState(null),[n,e]=fe.useState(!1),[t,a]=fe.useState(null),[r,s]=fe.useState("details"),[d,u]=fe.useState(new Set),c=()=>{try{const P=localStorage.getItem("persist:root");if(P){const R=JSON.parse(P);if(R.auth)return JSON.parse(R.auth).authToken||null}}catch{}return null},f=T||{get:async P=>{const R=c(),H={};R&&(H.Authorization=`Bearer ${R}`);const N=await fetch(`/api${P}`,{headers:H});return{data:await N.json(),status:N.status}}},h=fe.useCallback(async()=>{if(i)try{e(!0),a(null);const P=await f.get(`/plugins/${m}/frameworks/${i}`),R=P.data.data||P.data;l(R)}catch(P){a(P.message||"Failed to load framework details")}finally{e(!1)}},[i,m]);fe.useEffect(()=>{ce&&i&&(h(),s("details"),u(new Set))},[ce,i,h]);const w=()=>{l(null),u(new Set),_e()},k=P=>{u(R=>{const H=new Set(R);return H.has(P)?H.delete(P):H.add(P),H})},E=P=>{let R=0,H=0,N=0;for(const _ of P||[]){R++;for(const C of _.items||[])H++,N+=(C.items||[]).length}return{level1:R,level2:H,level3:N}},j=P=>P>=100?"#16A34A":P>=50?Ue.primary:P>=25?"#F59E0B":"#94A3B8";return O.jsxs(L.Drawer,{anchor:"right",open:ce,onClose:w,sx:{"& .MuiDrawer-paper":{width:600,margin:0,borderRadius:0,overflowX:"hidden",display:"flex",flexDirection:"column",height:"100%"}},children:[O.jsxs(L.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",padding:"15px 20px",children:[O.jsx(L.Typography,{fontSize:15,fontWeight:700,children:n?"Loading...":(o==null?void 0:o.name)||"Framework Details"}),O.jsx(L.Button,{onClick:w,sx:{minWidth:0,padding:"5px"},children:O.jsx(qt,{size:20,color:"#667085"})})]}),O.jsx(L.Divider,{}),O.jsx(L.Box,{sx:{padding:"0 20px"},children:O.jsxs(L.Tabs,{value:r,onChange:(P,R)=>s(R),sx:{minHeight:40,"& .MuiTab-root":{minHeight:40,fontSize:13,textTransform:"none",color:"#667085","&.Mui-selected":{color:Ue.primary}},"& .MuiTabs-indicator":{backgroundColor:Ue.primary}},children:[O.jsx(L.Tab,{value:"details",label:"Details"}),O.jsx(L.Tab,{value:"structure",label:"Structure"}),O.jsx(L.Tab,{value:"projects",label:`Projects (${(($=o==null?void 0:o.linkedProjects)==null?void 0:$.length)||0})`})]})}),O.jsx(L.Divider,{}),O.jsx(L.Box,{sx:{flex:1,overflow:"auto",minHeight:0},children:n?O.jsx(L.Box,{sx:{display:"flex",justifyContent:"center",py:8},children:O.jsx(L.CircularProgress,{size:24,sx:{color:Ue.primary}})}):t?O.jsx(L.Box,{sx:{padding:"15px 20px"},children:O.jsx(L.Alert,{severity:"error",children:t})}):o?O.jsxs(O.Fragment,{children:[r==="details"&&O.jsxs(L.Stack,{sx:{padding:"15px 20px",gap:"15px"},children:[o.description&&O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:600,color:"#344054",mb:.5},children:"Description"}),O.jsx(L.Typography,{sx:{fontSize:13,color:"#667085",lineHeight:1.6},children:o.description})]}),O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:600,color:"#344054",mb:1},children:"Type"}),O.jsxs(L.Stack,{direction:"row",spacing:1,children:[O.jsx(L.Chip,{icon:O.jsx(wr,{size:12}),label:o.is_organizational?"Organizational":"Project-level",size:"small",sx:{height:24,fontSize:11,backgroundColor:o.is_organizational?"#ECFDF3":"#F2F4F7",color:o.is_organizational?"#027A48":"#344054",border:o.is_organizational?"1px solid #A6F4C5":"1px solid #E4E7EC","& .MuiChip-icon":{color:o.is_organizational?"#027A48":"#667085"}}}),O.jsx(L.Chip,{icon:O.jsx(Sr,{size:12}),label:o.hierarchy_type==="three_level"?"3 Levels":"2 Levels",size:"small",sx:{height:24,fontSize:11,backgroundColor:"#F2F4F7",color:"#344054",border:"1px solid #E4E7EC","& .MuiChip-icon":{color:"#667085"}}})]})]}),O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:600,color:"#344054",mb:.5},children:"Version"}),O.jsxs(L.Typography,{sx:{fontSize:13,color:"#667085"},children:["v",o.version]})]}),O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:600,color:"#344054",mb:.5},children:"Created"}),O.jsx(L.Typography,{sx:{fontSize:13,color:"#667085"},children:new Date(o.created_at).toLocaleDateString()})]}),o.structure&&O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:600,color:"#344054",mb:1},children:"Structure Summary"}),O.jsxs(L.Stack,{direction:"row",spacing:2,children:[O.jsxs(L.Box,{sx:{textAlign:"center",flex:1,p:1.5,backgroundColor:"#F9FAFB",borderRadius:"4px",border:"1px solid #EAECF0"},children:[O.jsx(L.Typography,{sx:{fontSize:20,fontWeight:600,color:"#101828"},children:E(o.structure).level1}),O.jsxs(L.Typography,{sx:{fontSize:11,color:"#667085"},children:[o.level_1_name,"s"]})]}),O.jsxs(L.Box,{sx:{textAlign:"center",flex:1,p:1.5,backgroundColor:"#F9FAFB",borderRadius:"4px",border:"1px solid #EAECF0"},children:[O.jsx(L.Typography,{sx:{fontSize:20,fontWeight:600,color:"#101828"},children:E(o.structure).level2}),O.jsxs(L.Typography,{sx:{fontSize:11,color:"#667085"},children:[o.level_2_name,"s"]})]}),o.hierarchy_type==="three_level"&&o.level_3_name&&O.jsxs(L.Box,{sx:{textAlign:"center",flex:1,p:1.5,backgroundColor:"#F9FAFB",borderRadius:"4px",border:"1px solid #EAECF0"},children:[O.jsx(L.Typography,{sx:{fontSize:20,fontWeight:600,color:"#101828"},children:E(o.structure).level3}),O.jsxs(L.Typography,{sx:{fontSize:11,color:"#667085"},children:[o.level_3_name,"s"]})]})]})]})]}),r==="structure"&&O.jsx(L.Stack,{sx:{padding:"15px 20px",gap:"10px"},children:(D=o.structure)==null?void 0:D.map(P=>{var R,H;return O.jsxs(L.Box,{sx:{border:"1px solid #EAECF0",borderRadius:"4px",overflow:"hidden"},children:[O.jsxs(L.Box,{onClick:()=>k(P.id),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",backgroundColor:"#F9FAFB",cursor:"pointer","&:hover":{backgroundColor:"#F3F4F6"}},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[d.has(P.id)?O.jsx(Kr,{size:14,color:"#667085"}):O.jsx(Xt,{size:14,color:"#667085"}),O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#344054"},children:P.title})]}),O.jsxs(L.Typography,{sx:{fontSize:11,color:"#667085"},children:[((R=P.items)==null?void 0:R.length)||0," ",o.level_2_name,"s"]})]}),d.has(P.id)&&O.jsx(L.Box,{sx:{p:"8px 12px",backgroundColor:"#FFFFFF"},children:O.jsx(L.Stack,{spacing:1,children:(H=P.items)==null?void 0:H.map(N=>O.jsxs(L.Box,{sx:{padding:"8px 10px",backgroundColor:"#F9FAFB",borderRadius:"4px",borderLeft:"2px solid #D0D5DD"},children:[O.jsx(L.Typography,{sx:{fontSize:12,color:"#344054"},children:N.title}),N.items&&N.items.length>0&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#667085",mt:.5},children:[N.items.length," ",o.level_3_name,"s"]})]},N.id))})})]},P.id)})}),r==="projects"&&O.jsx(L.Stack,{sx:{padding:"15px 20px",gap:"10px"},children:!o.linkedProjects||o.linkedProjects.length===0?O.jsx(L.Box,{sx:{padding:"20px",backgroundColor:"#F9FAFB",borderRadius:"4px",border:"1px solid #EAECF0",textAlign:"center"},children:O.jsx(L.Typography,{sx:{fontSize:13,color:"#667085"},children:"Not linked to any projects yet"})}):o.linkedProjects.map(P=>O.jsxs(L.Box,{sx:{padding:"12px",backgroundColor:"#FFFFFF",borderRadius:"4px",border:"1px solid #EAECF0","&:hover":{backgroundColor:"#F9FAFB"}},children:[O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#344054"},children:P.project_title}),P.is_organizational&&O.jsx(L.Chip,{label:"Org",size:"small",sx:{height:16,fontSize:9,backgroundColor:"#ECFDF3",color:"#027A48"}})]}),O.jsxs(L.Typography,{sx:{fontSize:11,fontWeight:500,color:j(P.progress.percentage)},children:[P.progress.percentage,"%"]})]}),O.jsx(L.LinearProgress,{variant:"determinate",value:P.progress.percentage,sx:{height:4,borderRadius:2,backgroundColor:"#E5E7EB",mb:1,"& .MuiLinearProgress-bar":{backgroundColor:j(P.progress.percentage),borderRadius:2}}}),O.jsxs(L.Box,{sx:{display:"flex",gap:2},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:.5},children:[O.jsx($t,{size:10,color:"#16A34A"}),O.jsxs(L.Typography,{sx:{fontSize:10,color:"#667085"},children:[P.progress.completed,"/",P.progress.total]})]}),O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:.5},children:[O.jsx(sn,{size:10,color:"#3B82F6"}),O.jsxs(L.Typography,{sx:{fontSize:10,color:"#667085"},children:[P.progress.assigned," assigned"]})]})]})]},P.project_framework_id))})]}):null}),O.jsx(L.Stack,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",padding:"15px 20px",marginTop:"auto",borderTop:"1px solid #EAECF0"},children:O.jsx(L.Button,{variant:"outlined",onClick:w,sx:{height:34,fontSize:13,textTransform:"none",borderColor:"#D0D5DD",color:"#344054","&:hover":{backgroundColor:"#F9FAFB",borderColor:"#98A2B3"}},children:"Close"})})]})},dn=({apiServices:ce,pluginEnabled:_e=!0,pluginKey:i})=>{const[T,S]=fe.useState([]),[m,o]=fe.useState(!0),[l,n]=fe.useState(null),[e,t]=fe.useState(!1),[a,r]=fe.useState(null),s=h=>{r(h.id),t(!0)},d=()=>{t(!1),r(null)},u=()=>{try{const h=localStorage.getItem("persist:root");if(h){const w=JSON.parse(h);if(w.auth)return JSON.parse(w.auth).authToken||null}}catch{}return null},c=ce||{get:async h=>{const w=u(),k={};w&&(k.Authorization=`Bearer ${w}`);const E=await fetch(`/api${h}`,{headers:k});return{data:await E.json(),status:E.status}}},f=fe.useCallback(async()=>{try{o(!0),n(null);const h=await c.get(`/plugins/${i}/frameworks?all=true`),w=h.data.data||h.data;S(Array.isArray(w)?w:[])}catch(h){n(h.message||"Failed to load frameworks")}finally{o(!1)}},[i]);return fe.useEffect(()=>{f()},[f]),fe.useEffect(()=>{if(l){const h=setTimeout(()=>{n(null)},3e3);return()=>clearTimeout(h)}},[l]),_e?O.jsxs(L.Box,{sx:{pt:8},children:[O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:At.large,fontWeight:600,color:Qe.primary},children:"Custom Frameworks"}),O.jsx(L.Typography,{sx:{fontSize:At.medium,color:Qe.muted,mt:.5},children:"Manage custom compliance frameworks from installed plugins"})]}),O.jsx(L.Tooltip,{title:"Refresh",children:O.jsx(L.IconButton,{onClick:f,disabled:m,sx:{border:`1px solid ${vt.default}`,borderRadius:"4px",width:32,height:32,"&:hover":{backgroundColor:Ct.hover}},children:O.jsx(Ar,{size:16,color:Qe.muted})})})]}),l&&O.jsx(L.Alert,{severity:"error",sx:{mb:2,fontSize:At.medium},onClose:()=>n(null),children:l}),m?O.jsx(L.Box,{sx:{display:"flex",justifyContent:"center",py:6},children:O.jsx(L.CircularProgress,{size:24,sx:{color:Ue.primary}})}):T.length===0?O.jsxs(L.Box,{sx:{...pr.gradient,...Jt.container},children:[O.jsx(cr,{size:48,color:Qe.muted,style:{marginBottom:16}}),O.jsx(L.Typography,{sx:Jt.title,children:"No Custom Frameworks"}),O.jsx(L.Typography,{sx:Jt.description,children:"Install a framework plugin from the marketplace to get started"})]}):O.jsx(Or,{frameworks:T,onViewDetails:s}),O.jsx(Br,{open:e,onClose:d,frameworkId:a,apiServices:ce,pluginKey:i})]}):O.jsx(L.Box,{sx:pr.default,children:O.jsx(L.Alert,{severity:"info",sx:{border:"none"},children:"Custom Framework Import plugin is not enabled. Enable it to import and manage custom compliance frameworks."})})},un=[{id:"gdpr",name:"GDPR Compliance Framework",description:"General Data Protection Regulation compliance framework covering data protection principles, rights of data subjects, and organizational obligations.",category:"Privacy",tags:["GDPR","Privacy","EU","Data Protection"],framework:{name:"GDPR Compliance Framework",description:"Framework for ensuring compliance with the EU General Data Protection Regulation (GDPR)",version:"1.0.0",is_organizational:!0,hierarchy:{type:"two_level",level1_name:"Chapter",level2_name:"Article"},structure:[{title:"Chapter 2: Principles",description:"Principles relating to processing of personal data",order_no:1,items:[{title:"Art. 5 - Principles relating to processing",description:"Personal data shall be processed lawfully, fairly and in a transparent manner",order_no:1,summary:"Core data protection principles including lawfulness, fairness, transparency, purpose limitation, data minimization, accuracy, storage limitation, integrity and confidentiality",questions:["What is the lawful basis for processing?","How is transparency ensured?","Is data collection minimized to what is necessary?"],evidence_examples:["Privacy policy documentation","Data processing register","Lawful basis assessment"]},{title:"Art. 6 - Lawfulness of processing",description:"Processing shall be lawful only if at least one of the specified conditions applies",order_no:2,summary:"Establish lawful basis for all processing activities",questions:["Which lawful basis applies to each processing activity?","Is consent freely given, specific, informed and unambiguous?","Are legitimate interests documented and balanced?"],evidence_examples:["Consent records","Legitimate interest assessments","Contract documentation"]},{title:"Art. 7 - Conditions for consent",description:"Conditions for valid consent",order_no:3,summary:"Ensure consent meets GDPR requirements",questions:["Can consent be demonstrated?","Is consent request clearly distinguishable?","Can consent be easily withdrawn?"],evidence_examples:["Consent management system","Consent forms","Withdrawal mechanism documentation"]}]},{title:"Chapter 3: Rights of the Data Subject",description:"Rights of individuals regarding their personal data",order_no:2,items:[{title:"Art. 12 - Transparent communication",description:"Transparent information, communication and modalities for exercising rights",order_no:1,summary:"Provide clear, accessible information about data processing",questions:["Is information provided in clear and plain language?","Are requests responded to within one month?","Is information provided free of charge?"],evidence_examples:["Privacy notices","Response time logs","Communication templates"]},{title:"Art. 15 - Right of access",description:"Right of access by the data subject",order_no:2,summary:"Enable data subjects to access their personal data",questions:["Can data subjects request access to their data?","Is a copy of data provided in electronic format?","Are all required details included in the response?"],evidence_examples:["Subject access request procedure","SAR response templates","Access request logs"]},{title:"Art. 17 - Right to erasure",description:"Right to erasure ('right to be forgotten')",order_no:3,summary:"Enable deletion of personal data when requested",questions:["Can data be erased upon request?","Are third parties notified of erasure?","Are exceptions properly documented?"],evidence_examples:["Erasure procedure","Deletion logs","Third-party notification records"]}]},{title:"Chapter 4: Controller and Processor",description:"Obligations of controllers and processors",order_no:3,items:[{title:"Art. 25 - Data protection by design and default",description:"Implement appropriate technical and organizational measures",order_no:1,summary:"Build privacy into systems and processes from the start",questions:["Are privacy considerations part of the design process?","Is data minimization applied by default?","Are privacy-enhancing technologies used?"],evidence_examples:["Privacy impact assessments","System design documentation","Default settings documentation"]},{title:"Art. 30 - Records of processing activities",description:"Maintain a record of processing activities",order_no:2,summary:"Document all data processing activities",questions:["Is a processing register maintained?","Does it include all required information?","Is it kept up to date?"],evidence_examples:["Records of processing activities (ROPA)","Data flow diagrams","Processing activity updates"]},{title:"Art. 32 - Security of processing",description:"Implement appropriate security measures",order_no:3,summary:"Ensure appropriate security for personal data",questions:["Is encryption used where appropriate?","Are systems regularly tested?","Is there a process for restoring data availability?"],evidence_examples:["Security policy","Penetration test results","Backup and recovery procedures"]},{title:"Art. 33 - Notification of personal data breach",description:"Notify supervisory authority of breaches within 72 hours",order_no:4,summary:"Establish breach notification procedures",questions:["Is there a breach detection process?","Can notification be made within 72 hours?","Is there a breach register?"],evidence_examples:["Breach response procedure","Breach notification templates","Breach register"]}]}]}},{id:"soc2",name:"SOC 2 Type II Framework",description:"Service Organization Control 2 framework based on Trust Services Criteria covering Security, Availability, Processing Integrity, Confidentiality, and Privacy.",category:"Security",tags:["SOC 2","Security","Audit","Trust Services"],framework:{name:"SOC 2 Type II Framework",description:"Framework based on AICPA Trust Services Criteria for SOC 2 compliance",version:"1.0.0",is_organizational:!0,hierarchy:{type:"two_level",level1_name:"Trust Service Category",level2_name:"Control"},structure:[{title:"CC1: Control Environment",description:"The set of standards, processes, and structures that provide the basis for carrying out internal control",order_no:1,items:[{title:"CC1.1 - Commitment to Integrity and Ethics",description:"The entity demonstrates a commitment to integrity and ethical values",order_no:1,summary:"Establish and communicate ethical standards",questions:["Is there a code of conduct?","How are ethical standards communicated?","How are violations handled?"],evidence_examples:["Code of conduct","Ethics training records","Disciplinary action records"]},{title:"CC1.2 - Board Independence and Oversight",description:"The board of directors demonstrates independence and exercises oversight",order_no:2,summary:"Ensure board provides effective oversight",questions:["Does the board have independent members?","How often does the board meet?","What is the scope of board oversight?"],evidence_examples:["Board charter","Board meeting minutes","Independence declarations"]},{title:"CC1.3 - Management Structure and Authority",description:"Management establishes structures, reporting lines, and authorities",order_no:3,summary:"Define clear organizational structure",questions:["Is the org structure documented?","Are roles and responsibilities clear?","Are reporting lines defined?"],evidence_examples:["Organization chart","Job descriptions","RACI matrix"]}]},{title:"CC2: Communication and Information",description:"Information necessary to support the functioning of internal control",order_no:2,items:[{title:"CC2.1 - Internal Communication",description:"The entity internally communicates information necessary to support internal control",order_no:1,summary:"Ensure effective internal communication",questions:["How is control information communicated internally?","Are policies accessible to employees?","Is there a process for reporting issues?"],evidence_examples:["Internal communication records","Policy distribution logs","Whistleblower program"]},{title:"CC2.2 - External Communication",description:"The entity communicates with external parties",order_no:2,summary:"Manage external communications effectively",questions:["How are commitments communicated to customers?","Is there external reporting on controls?","How are third parties informed of requirements?"],evidence_examples:["Customer contracts","Service level agreements","External audit reports"]}]},{title:"CC3: Risk Assessment",description:"The process of identifying, analyzing, and managing risks",order_no:3,items:[{title:"CC3.1 - Risk Identification",description:"The entity identifies and assesses risks to the achievement of objectives",order_no:1,summary:"Identify risks that could impact objectives",questions:["Is there a formal risk assessment process?","How often are risks reassessed?","Are emerging risks considered?"],evidence_examples:["Risk assessment methodology","Risk register","Risk assessment reports"]},{title:"CC3.2 - Fraud Risk Assessment",description:"The entity considers the potential for fraud",order_no:2,summary:"Assess and address fraud risks",questions:["Is fraud risk specifically assessed?","Are fraud scenarios documented?","What anti-fraud controls exist?"],evidence_examples:["Fraud risk assessment","Anti-fraud policy","Fraud detection controls"]},{title:"CC3.3 - Change Management Risk",description:"The entity identifies and assesses changes that could impact internal control",order_no:3,summary:"Manage risks from organizational changes",questions:["How are changes assessed for risk?","Is there a change management process?","Are control impacts evaluated?"],evidence_examples:["Change management policy","Change risk assessments","Change approval records"]}]},{title:"CC6: Logical and Physical Access Controls",description:"Controls over logical and physical access to systems and facilities",order_no:4,items:[{title:"CC6.1 - Logical Access Security",description:"The entity implements logical access security software and policies",order_no:1,summary:"Control access to systems and data",questions:["Is access based on least privilege?","Is multi-factor authentication used?","How is access provisioned and revoked?"],evidence_examples:["Access control policy","MFA configuration","Access provisioning procedures"]},{title:"CC6.2 - Access Registration and Authorization",description:"The entity registers and authorizes users prior to granting access",order_no:2,summary:"Ensure proper access authorization",questions:["Is there an access request process?","Who approves access requests?","Is access reviewed periodically?"],evidence_examples:["Access request forms","Access approval records","Access review reports"]},{title:"CC6.3 - Access Removal",description:"The entity removes access when no longer needed",order_no:3,summary:"Timely removal of access",questions:["Is access removed upon termination?","How quickly is access revoked?","Is there a process for role changes?"],evidence_examples:["Termination checklist","Access removal logs","Role change procedures"]}]},{title:"CC7: System Operations",description:"Controls over system operations and monitoring",order_no:5,items:[{title:"CC7.1 - Vulnerability Management",description:"The entity detects and monitors vulnerabilities",order_no:1,summary:"Identify and address system vulnerabilities",questions:["Are vulnerability scans performed regularly?","How are vulnerabilities prioritized?","What is the remediation timeline?"],evidence_examples:["Vulnerability scan reports","Remediation tracking","Patch management records"]},{title:"CC7.2 - Security Monitoring",description:"The entity monitors system components for anomalies and security events",order_no:2,summary:"Monitor for security incidents",questions:["Is there continuous monitoring?","What events trigger alerts?","How are alerts investigated?"],evidence_examples:["SIEM configuration","Alert rules","Incident logs"]},{title:"CC7.3 - Incident Response",description:"The entity responds to identified security incidents",order_no:3,summary:"Effectively respond to security incidents",questions:["Is there an incident response plan?","Are roles defined for incident response?","Are incidents documented and reviewed?"],evidence_examples:["Incident response plan","Incident reports","Post-incident reviews"]}]}]}},{id:"hipaa",name:"HIPAA Security Rule Framework",description:"Health Insurance Portability and Accountability Act Security Rule framework for protecting electronic protected health information (ePHI).",category:"Healthcare",tags:["HIPAA","Healthcare","PHI","Security"],framework:{name:"HIPAA Security Rule Framework",description:"Framework for HIPAA Security Rule compliance covering Administrative, Physical, and Technical Safeguards",version:"1.0.0",is_organizational:!0,hierarchy:{type:"three_level",level1_name:"Safeguard Category",level2_name:"Standard",level3_name:"Implementation Specification"},structure:[{title:"Administrative Safeguards",description:"Administrative actions, policies, and procedures to manage security measures",order_no:1,items:[{title:"Security Management Process",description:"Implement policies and procedures to prevent, detect, contain, and correct security violations",order_no:1,summary:"Establish comprehensive security management",questions:["Is there a formal security management process?","Are policies regularly reviewed and updated?"],evidence_examples:["Security policies","Risk management program"],items:[{title:"Risk Analysis (Required)",description:"Conduct an accurate and thorough assessment of potential risks and vulnerabilities",order_no:1},{title:"Risk Management (Required)",description:"Implement security measures to reduce risks and vulnerabilities",order_no:2},{title:"Sanction Policy (Required)",description:"Apply appropriate sanctions against workforce members who fail to comply",order_no:3},{title:"Information System Activity Review (Required)",description:"Implement procedures to regularly review system activity",order_no:4}]},{title:"Assigned Security Responsibility",description:"Identify the security official responsible for developing and implementing security policies",order_no:2,summary:"Designate a security officer",questions:["Is there a designated security official?","Are responsibilities clearly defined?"],evidence_examples:["Security officer designation","Job description"],items:[]},{title:"Workforce Security",description:"Implement policies and procedures to ensure appropriate access to ePHI",order_no:3,summary:"Manage workforce access to ePHI",questions:["How is workforce access determined?","Are background checks performed?"],evidence_examples:["Access authorization policy","Background check records"],items:[{title:"Authorization and/or Supervision (Addressable)",description:"Implement procedures for authorization and supervision of workforce members",order_no:1},{title:"Workforce Clearance Procedure (Addressable)",description:"Implement procedures to determine appropriate access levels",order_no:2},{title:"Termination Procedures (Addressable)",description:"Implement procedures for terminating access when employment ends",order_no:3}]},{title:"Security Awareness and Training",description:"Implement a security awareness and training program for all workforce members",order_no:4,summary:"Train workforce on security",questions:["Is security training provided to all staff?","How often is training updated?"],evidence_examples:["Training materials","Training completion records"],items:[{title:"Security Reminders (Addressable)",description:"Periodic security updates",order_no:1},{title:"Protection from Malicious Software (Addressable)",description:"Procedures for guarding against and detecting malicious software",order_no:2},{title:"Log-in Monitoring (Addressable)",description:"Procedures for monitoring log-in attempts",order_no:3},{title:"Password Management (Addressable)",description:"Procedures for creating, changing, and safeguarding passwords",order_no:4}]}]},{title:"Physical Safeguards",description:"Physical measures, policies, and procedures to protect electronic systems and buildings",order_no:2,items:[{title:"Facility Access Controls",description:"Implement policies to limit physical access to electronic information systems",order_no:1,summary:"Control physical access to facilities",questions:["How is facility access controlled?","Are access logs maintained?"],evidence_examples:["Facility access policy","Access logs"],items:[{title:"Contingency Operations (Addressable)",description:"Procedures for facility access during emergencies",order_no:1},{title:"Facility Security Plan (Addressable)",description:"Policies to safeguard facility and equipment",order_no:2},{title:"Access Control and Validation (Addressable)",description:"Procedures to control and validate access based on role",order_no:3},{title:"Maintenance Records (Addressable)",description:"Document repairs and modifications to physical security",order_no:4}]},{title:"Workstation Use",description:"Implement policies for proper workstation use",order_no:2,summary:"Define acceptable workstation use",questions:["Are workstation use policies defined?","Is physical access to workstations controlled?"],evidence_examples:["Workstation use policy","Physical security measures"],items:[]},{title:"Device and Media Controls",description:"Implement policies for the receipt and removal of hardware and electronic media",order_no:3,summary:"Control devices and media containing ePHI",questions:["How are devices tracked?","How is media disposed of?"],evidence_examples:["Asset inventory","Media disposal records"],items:[{title:"Disposal (Required)",description:"Policies for final disposition of ePHI and hardware",order_no:1},{title:"Media Re-use (Required)",description:"Procedures for removal of ePHI before media reuse",order_no:2},{title:"Accountability (Addressable)",description:"Maintain record of hardware and media movements",order_no:3},{title:"Data Backup and Storage (Addressable)",description:"Create retrievable exact copy of ePHI before movement",order_no:4}]}]},{title:"Technical Safeguards",description:"Technology and policies for controlling access to ePHI",order_no:3,items:[{title:"Access Control",description:"Implement technical policies to allow only authorized access to ePHI",order_no:1,summary:"Control technical access to ePHI",questions:["How is system access controlled?","Are unique user IDs assigned?"],evidence_examples:["Access control configuration","User account list"],items:[{title:"Unique User Identification (Required)",description:"Assign unique name/number for tracking user identity",order_no:1},{title:"Emergency Access Procedure (Required)",description:"Procedures for obtaining necessary ePHI during emergencies",order_no:2},{title:"Automatic Logoff (Addressable)",description:"Implement electronic procedures to terminate sessions after inactivity",order_no:3},{title:"Encryption and Decryption (Addressable)",description:"Implement mechanism to encrypt and decrypt ePHI",order_no:4}]},{title:"Audit Controls",description:"Implement hardware, software, and procedures to record and examine system activity",order_no:2,summary:"Monitor and audit system access",questions:["Are audit logs maintained?","How often are logs reviewed?"],evidence_examples:["Audit log configuration","Log review records"],items:[]},{title:"Transmission Security",description:"Implement technical security measures to guard against unauthorized access during transmission",order_no:3,summary:"Protect ePHI during transmission",questions:["Is ePHI encrypted in transit?","How is transmission integrity verified?"],evidence_examples:["Encryption configuration","Network security documentation"],items:[{title:"Integrity Controls (Addressable)",description:"Implement security measures to ensure ePHI is not improperly modified",order_no:1},{title:"Encryption (Addressable)",description:"Implement mechanism to encrypt ePHI when transmitted",order_no:2}]}]}]}},{id:"iso27001-starter",name:"ISO 27001 Starter Framework",description:"A simplified starter framework based on ISO 27001 information security management system covering key control domains.",category:"Security",tags:["ISO 27001","ISMS","Security","International"],framework:{name:"ISO 27001 Starter Framework",description:"Starter framework for implementing ISO 27001 Information Security Management System",version:"1.0.0",is_organizational:!0,hierarchy:{type:"two_level",level1_name:"Control Domain",level2_name:"Control"},structure:[{title:"A.5 Information Security Policies",description:"Management direction for information security",order_no:1,items:[{title:"A.5.1.1 Policies for information security",description:"A set of policies for information security shall be defined, approved, published and communicated",order_no:1,summary:"Define and communicate security policies",questions:["Are information security policies documented?","Are policies approved by management?","How are policies communicated to staff?"],evidence_examples:["Information security policy","Policy approval records","Communication records"]},{title:"A.5.1.2 Review of policies",description:"Policies shall be reviewed at planned intervals or when significant changes occur",order_no:2,summary:"Regularly review security policies",questions:["How often are policies reviewed?","Are reviews documented?","Who is responsible for reviews?"],evidence_examples:["Policy review schedule","Review meeting minutes","Policy version history"]}]},{title:"A.6 Organization of Information Security",description:"Internal organization and mobile devices/teleworking",order_no:2,items:[{title:"A.6.1.1 Information security roles and responsibilities",description:"All information security responsibilities shall be defined and allocated",order_no:1,summary:"Define security roles and responsibilities",questions:["Are security responsibilities documented?","Is there a CISO or equivalent role?","Do employees know their security responsibilities?"],evidence_examples:["RACI matrix","Job descriptions","Security organization chart"]},{title:"A.6.2.1 Mobile device policy",description:"A policy and supporting security measures shall be adopted for mobile devices",order_no:2,summary:"Secure mobile device usage",questions:["Is there a mobile device policy?","Are mobile devices encrypted?","Can devices be remotely wiped?"],evidence_examples:["Mobile device policy","MDM configuration","Device inventory"]},{title:"A.6.2.2 Teleworking",description:"A policy and supporting security measures shall be implemented for teleworking",order_no:3,summary:"Secure remote work arrangements",questions:["Is there a teleworking policy?","Is VPN required for remote access?","How is home network security addressed?"],evidence_examples:["Teleworking policy","VPN configuration","Remote access guidelines"]}]},{title:"A.9 Access Control",description:"Business requirements and user access management",order_no:3,items:[{title:"A.9.1.1 Access control policy",description:"An access control policy shall be established and documented",order_no:1,summary:"Define access control requirements",questions:["Is there an access control policy?","Is least privilege principle applied?","How are access requirements determined?"],evidence_examples:["Access control policy","Access requirements matrix","Least privilege documentation"]},{title:"A.9.2.1 User registration and de-registration",description:"A formal process shall be implemented for user registration and de-registration",order_no:2,summary:"Manage user account lifecycle",questions:["Is there a user registration process?","How quickly are accounts deactivated?","Are orphaned accounts identified?"],evidence_examples:["User registration procedure","Termination checklist","Account audit reports"]},{title:"A.9.4.1 Information access restriction",description:"Access to information and application functions shall be restricted",order_no:3,summary:"Restrict access based on need",questions:["Is access restricted by role?","Are sensitive functions protected?","Is there separation of duties?"],evidence_examples:["Role definitions","Access control lists","Separation of duties matrix"]}]},{title:"A.12 Operations Security",description:"Operational procedures and responsibilities",order_no:4,items:[{title:"A.12.1.1 Documented operating procedures",description:"Operating procedures shall be documented and made available",order_no:1,summary:"Document operational procedures",questions:["Are operational procedures documented?","Are procedures kept up to date?","Are procedures accessible to relevant staff?"],evidence_examples:["Operations manual","Runbooks","Procedure update logs"]},{title:"A.12.2.1 Controls against malware",description:"Detection, prevention and recovery controls against malware shall be implemented",order_no:2,summary:"Protect against malware",questions:["Is anti-malware software deployed?","Are definitions kept current?","How are malware incidents handled?"],evidence_examples:["Anti-malware configuration","Update logs","Incident records"]},{title:"A.12.3.1 Information backup",description:"Backup copies of information and software shall be taken and tested regularly",order_no:3,summary:"Maintain reliable backups",questions:["Are backups performed regularly?","Are backups tested for restoration?","Are backups stored securely?"],evidence_examples:["Backup schedule","Restoration test results","Backup storage documentation"]}]}]}},{id:"custom-starter",name:"Custom Framework Starter",description:"A minimal starter template for creating your own custom compliance framework. Customize the structure to fit your specific needs.",category:"Template",tags:["Custom","Starter","Template","Blank"],framework:{name:"My Custom Framework",description:"A custom compliance framework tailored to our organization's needs",version:"1.0.0",is_organizational:!1,hierarchy:{type:"two_level",level1_name:"Category",level2_name:"Control"},structure:[{title:"Category 1: Governance",description:"Governance and oversight controls",order_no:1,items:[{title:"GOV-1: Policy Management",description:"Establish and maintain organizational policies",order_no:1,summary:"Define how policies are created, approved, and maintained",questions:["Are policies documented?","Who approves policies?","How often are policies reviewed?"],evidence_examples:["Policy document","Approval records","Review schedule"]},{title:"GOV-2: Roles and Responsibilities",description:"Define roles and responsibilities for compliance",order_no:2,summary:"Clarify who is responsible for what",questions:["Are roles clearly defined?","Is there accountability for compliance?"],evidence_examples:["Role definitions","RACI matrix"]}]},{title:"Category 2: Risk Management",description:"Risk identification and mitigation controls",order_no:2,items:[{title:"RISK-1: Risk Assessment",description:"Conduct regular risk assessments",order_no:1,summary:"Identify and evaluate risks",questions:["How often are risks assessed?","What methodology is used?","Who is responsible for risk assessment?"],evidence_examples:["Risk assessment report","Risk register"]},{title:"RISK-2: Risk Treatment",description:"Implement risk treatment plans",order_no:2,summary:"Address identified risks",questions:["Are treatment plans documented?","Is there a risk owner for each risk?"],evidence_examples:["Treatment plans","Risk owner assignments"]}]},{title:"Category 3: Operations",description:"Operational controls and procedures",order_no:3,items:[{title:"OPS-1: Standard Procedures",description:"Document and follow standard operating procedures",order_no:1,summary:"Ensure consistent operations",questions:["Are procedures documented?","Are procedures followed consistently?"],evidence_examples:["SOP documents","Training records"]}]}]}},{id:"pci-dss-lite",name:"PCI-DSS Lite Framework",description:"Simplified Payment Card Industry Data Security Standard framework covering essential requirements for protecting cardholder data.",category:"Financial",tags:["PCI-DSS","Payment","Financial","Security"],framework:{name:"PCI-DSS Lite Framework",description:"Essential PCI-DSS requirements for payment card data protection",version:"1.0.0",is_organizational:!1,hierarchy:{type:"two_level",level1_name:"Requirement Group",level2_name:"Requirement"},structure:[{title:"Build and Maintain a Secure Network",description:"Requirements for network security infrastructure",order_no:1,items:[{title:"Req 1: Install and maintain firewall configuration",description:"Install and maintain a firewall configuration to protect cardholder data",order_no:1,summary:"Protect network boundaries with firewalls",questions:["Are firewalls deployed at all network boundaries?","Is there a firewall rule review process?","Are default passwords changed?"],evidence_examples:["Firewall configuration","Network diagram","Rule review records"]},{title:"Req 2: Do not use vendor-supplied defaults",description:"Do not use vendor-supplied defaults for passwords and security parameters",order_no:2,summary:"Change all default credentials and settings",questions:["Are default passwords changed?","Are unnecessary services disabled?","Is there a hardening standard?"],evidence_examples:["Hardening standards","Configuration baselines","Password policy"]}]},{title:"Protect Cardholder Data",description:"Requirements for protecting stored and transmitted cardholder data",order_no:2,items:[{title:"Req 3: Protect stored cardholder data",description:"Protect stored cardholder data using encryption, truncation, masking, and hashing",order_no:1,summary:"Minimize and protect stored card data",questions:["Is cardholder data encrypted at rest?","Is data retention minimized?","Are PANs masked when displayed?"],evidence_examples:["Encryption configuration","Data retention policy","Data flow diagram"]},{title:"Req 4: Encrypt transmission of cardholder data",description:"Encrypt transmission of cardholder data across open, public networks",order_no:2,summary:"Protect card data in transit",questions:["Is TLS 1.2+ used for transmission?","Are wireless networks secured?","Is email transmission of PANs prohibited?"],evidence_examples:["TLS configuration","Wireless security config","Data handling procedures"]}]},{title:"Maintain a Vulnerability Management Program",description:"Requirements for managing system vulnerabilities",order_no:3,items:[{title:"Req 5: Use and update anti-virus software",description:"Use and regularly update anti-virus software or programs",order_no:1,summary:"Deploy and maintain anti-malware protection",questions:["Is anti-virus deployed on all systems?","Are virus definitions current?","Are scans performed regularly?"],evidence_examples:["AV deployment report","Definition update logs","Scan schedules"]},{title:"Req 6: Develop and maintain secure systems",description:"Develop and maintain secure systems and applications",order_no:2,summary:"Build security into development processes",questions:["Are security patches applied promptly?","Is there a secure development lifecycle?","Are code reviews performed?"],evidence_examples:["Patch management records","SDLC documentation","Code review logs"]}]},{title:"Implement Strong Access Control Measures",description:"Requirements for restricting access to cardholder data",order_no:4,items:[{title:"Req 7: Restrict access to cardholder data",description:"Restrict access to cardholder data by business need to know",order_no:1,summary:"Limit access to those who need it",questions:["Is access based on job function?","Is there a least privilege policy?","How is access approved?"],evidence_examples:["Access control policy","Role definitions","Access approval records"]},{title:"Req 8: Assign unique ID to each person",description:"Assign a unique ID to each person with computer access",order_no:2,summary:"Ensure individual accountability",questions:["Does everyone have a unique ID?","Is MFA implemented?","How are passwords managed?"],evidence_examples:["User account list","MFA configuration","Password policy"]}]},{title:"Monitor and Test Networks",description:"Requirements for monitoring access and testing security",order_no:5,items:[{title:"Req 10: Track and monitor access",description:"Track and monitor all access to network resources and cardholder data",order_no:1,summary:"Maintain audit trails",questions:["Are all access attempts logged?","Are logs protected from modification?","How long are logs retained?"],evidence_examples:["Logging configuration","Log retention policy","Log review records"]},{title:"Req 11: Test security systems regularly",description:"Regularly test security systems and processes",order_no:2,summary:"Validate security controls through testing",questions:["Are vulnerability scans performed quarterly?","Are penetration tests performed annually?","Is wireless scanning performed?"],evidence_examples:["Vulnerability scan reports","Penetration test reports","Remediation tracking"]}]}]}},{id:"nist-csf",name:"NIST Cybersecurity Framework",description:"The NIST Cybersecurity Framework provides a policy framework of computer security guidance for organizations to assess and improve their ability to prevent, detect, and respond to cyber attacks.",category:"Security",tags:["NIST","CSF","Cybersecurity","Federal"],framework:{name:"NIST Cybersecurity Framework",description:"Framework for improving critical infrastructure cybersecurity",version:"1.1",is_organizational:!0,hierarchy:{type:"three_level",level1_name:"Function",level2_name:"Category",level3_name:"Subcategory"},structure:[{title:"IDENTIFY (ID)",description:"Develop organizational understanding to manage cybersecurity risk to systems, people, assets, data, and capabilities",order_no:1,items:[{title:"ID.AM - Asset Management",description:"The data, personnel, devices, systems, and facilities that enable the organization to achieve business purposes are identified and managed",order_no:1,summary:"Identify and manage organizational assets",questions:["Is there a complete inventory of physical devices?","Is there an inventory of software platforms and applications?","Are data flows mapped?"],evidence_examples:["Asset inventory","Software inventory","Data flow diagrams"],items:[{title:"ID.AM-1: Physical devices and systems are inventoried",order_no:1},{title:"ID.AM-2: Software platforms and applications are inventoried",order_no:2},{title:"ID.AM-3: Organizational communication and data flows are mapped",order_no:3},{title:"ID.AM-4: External information systems are catalogued",order_no:4},{title:"ID.AM-5: Resources are prioritized based on criticality",order_no:5}]},{title:"ID.RA - Risk Assessment",description:"The organization understands the cybersecurity risk to organizational operations, assets, and individuals",order_no:2,summary:"Assess cybersecurity risks",questions:["Are asset vulnerabilities identified and documented?","Is threat intelligence received from information sharing forums?","Are risks determined and prioritized?"],evidence_examples:["Vulnerability assessments","Threat intelligence reports","Risk register"],items:[{title:"ID.RA-1: Asset vulnerabilities are identified and documented",order_no:1},{title:"ID.RA-2: Cyber threat intelligence is received from information sharing forums",order_no:2},{title:"ID.RA-3: Threats are identified and documented",order_no:3},{title:"ID.RA-4: Potential business impacts and likelihoods are identified",order_no:4},{title:"ID.RA-5: Threats, vulnerabilities, likelihoods, and impacts determine risk",order_no:5}]},{title:"ID.GV - Governance",description:"Policies, procedures, and processes to manage and monitor regulatory, legal, risk, environmental, and operational requirements",order_no:3,summary:"Establish cybersecurity governance",questions:["Is there an organizational cybersecurity policy?","Are roles and responsibilities coordinated?","Are legal and regulatory requirements understood?"],evidence_examples:["Cybersecurity policy","Governance structure","Compliance requirements"],items:[{title:"ID.GV-1: Organizational cybersecurity policy is established",order_no:1},{title:"ID.GV-2: Cybersecurity roles and responsibilities are coordinated",order_no:2},{title:"ID.GV-3: Legal and regulatory requirements are understood",order_no:3},{title:"ID.GV-4: Governance and risk management processes address cybersecurity",order_no:4}]}]},{title:"PROTECT (PR)",description:"Develop and implement appropriate safeguards to ensure delivery of critical services",order_no:2,items:[{title:"PR.AC - Access Control",description:"Access to physical and logical assets and associated facilities is limited to authorized users, processes, and devices",order_no:1,summary:"Manage access to assets",questions:["Are identities and credentials managed?","Is physical access to assets managed and protected?","Is remote access managed?"],evidence_examples:["Identity management system","Physical access controls","Remote access policy"],items:[{title:"PR.AC-1: Identities and credentials are issued, managed, verified, revoked",order_no:1},{title:"PR.AC-2: Physical access to assets is managed and protected",order_no:2},{title:"PR.AC-3: Remote access is managed",order_no:3},{title:"PR.AC-4: Access permissions and authorizations are managed",order_no:4},{title:"PR.AC-5: Network integrity is protected (segregation, segmentation)",order_no:5}]},{title:"PR.AT - Awareness and Training",description:"Organization's personnel and partners are provided cybersecurity awareness education",order_no:2,summary:"Security awareness training",questions:["Are all users informed and trained?","Do privileged users understand their responsibilities?","Do third parties understand their responsibilities?"],evidence_examples:["Training records","Awareness program","Third-party agreements"],items:[{title:"PR.AT-1: All users are informed and trained",order_no:1},{title:"PR.AT-2: Privileged users understand their responsibilities",order_no:2},{title:"PR.AT-3: Third-party stakeholders understand their responsibilities",order_no:3},{title:"PR.AT-4: Senior executives understand their responsibilities",order_no:4},{title:"PR.AT-5: Physical and cybersecurity personnel understand their responsibilities",order_no:5}]},{title:"PR.DS - Data Security",description:"Information and records are managed consistent with risk strategy to protect confidentiality, integrity, and availability",order_no:3,summary:"Protect data at rest and in transit",questions:["Is data-at-rest protected?","Is data-in-transit protected?","Is data disposed of securely?"],evidence_examples:["Encryption standards","Data handling procedures","Disposal records"],items:[{title:"PR.DS-1: Data-at-rest is protected",order_no:1},{title:"PR.DS-2: Data-in-transit is protected",order_no:2},{title:"PR.DS-3: Assets are formally managed throughout removal, transfers, disposition",order_no:3},{title:"PR.DS-4: Adequate capacity to ensure availability is maintained",order_no:4},{title:"PR.DS-5: Protections against data leaks are implemented",order_no:5}]}]},{title:"DETECT (DE)",description:"Develop and implement appropriate activities to identify the occurrence of a cybersecurity event",order_no:3,items:[{title:"DE.AE - Anomalies and Events",description:"Anomalous activity is detected and the potential impact of events is understood",order_no:1,summary:"Detect anomalous activity",questions:["Is a baseline of network operations established?","Are detected events analyzed?","Is event data collected and correlated?"],evidence_examples:["Network baselines","Event analysis reports","SIEM configuration"],items:[{title:"DE.AE-1: A baseline of network operations is established and managed",order_no:1},{title:"DE.AE-2: Detected events are analyzed to understand attack targets and methods",order_no:2},{title:"DE.AE-3: Event data are collected and correlated from multiple sources",order_no:3},{title:"DE.AE-4: Impact of events is determined",order_no:4},{title:"DE.AE-5: Incident alert thresholds are established",order_no:5}]},{title:"DE.CM - Security Continuous Monitoring",description:"The information system and assets are monitored to identify cybersecurity events and verify effectiveness of protective measures",order_no:2,summary:"Continuous security monitoring",questions:["Is the network monitored to detect potential cybersecurity events?","Is the physical environment monitored?","Are vulnerability scans performed?"],evidence_examples:["Monitoring tools","Scan reports","Alert logs"],items:[{title:"DE.CM-1: The network is monitored to detect potential cybersecurity events",order_no:1},{title:"DE.CM-2: The physical environment is monitored to detect potential events",order_no:2},{title:"DE.CM-3: Personnel activity is monitored to detect potential events",order_no:3},{title:"DE.CM-4: Malicious code is detected",order_no:4},{title:"DE.CM-5: Unauthorized mobile code is detected",order_no:5}]}]},{title:"RESPOND (RS)",description:"Develop and implement appropriate activities to take action regarding a detected cybersecurity incident",order_no:4,items:[{title:"RS.RP - Response Planning",description:"Response processes and procedures are executed and maintained",order_no:1,summary:"Execute incident response plan",questions:["Is there a response plan that is executed during or after an incident?","Are response plans tested?"],evidence_examples:["Incident response plan","Response exercises","After-action reports"],items:[{title:"RS.RP-1: Response plan is executed during or after an incident",order_no:1}]},{title:"RS.CO - Communications",description:"Response activities are coordinated with internal and external stakeholders",order_no:2,summary:"Coordinate incident response communications",questions:["Do personnel know their roles and order of operations during response?","Are events reported consistent with established criteria?","Is information shared consistent with response plans?"],evidence_examples:["Communication plan","Reporting procedures","Contact lists"],items:[{title:"RS.CO-1: Personnel know their roles and order of operations",order_no:1},{title:"RS.CO-2: Incidents are reported consistent with established criteria",order_no:2},{title:"RS.CO-3: Information is shared consistent with response plans",order_no:3},{title:"RS.CO-4: Coordination with stakeholders occurs consistent with response plans",order_no:4},{title:"RS.CO-5: Voluntary information sharing occurs with external stakeholders",order_no:5}]}]},{title:"RECOVER (RC)",description:"Develop and implement appropriate activities to maintain plans for resilience and to restore capabilities or services impaired due to a cybersecurity incident",order_no:5,items:[{title:"RC.RP - Recovery Planning",description:"Recovery processes and procedures are executed and maintained",order_no:1,summary:"Execute recovery plans",questions:["Is there a recovery plan that is executed during or after a cybersecurity incident?","Are recovery plans tested?"],evidence_examples:["Recovery plan","BCP/DR documentation","Recovery test results"],items:[{title:"RC.RP-1: Recovery plan is executed during or after a cybersecurity incident",order_no:1}]},{title:"RC.IM - Improvements",description:"Recovery planning and processes are improved by incorporating lessons learned",order_no:2,summary:"Improve recovery capabilities",questions:["Are recovery plans updated based on lessons learned?","Are recovery strategies updated?"],evidence_examples:["Lessons learned reports","Updated recovery plans","Improvement tracking"],items:[{title:"RC.IM-1: Recovery plans incorporate lessons learned",order_no:1},{title:"RC.IM-2: Recovery strategies are updated",order_no:2}]}]}]}},{id:"cis-controls",name:"CIS Controls v8",description:"The CIS Critical Security Controls are a prioritized set of actions that collectively form a defense-in-depth set of best practices to mitigate the most common attacks.",category:"Security",tags:["CIS","Controls","Security","Best Practices"],framework:{name:"CIS Controls v8",description:"Center for Internet Security Critical Security Controls Version 8",version:"8.0",is_organizational:!0,hierarchy:{type:"two_level",level1_name:"Control",level2_name:"Safeguard"},structure:[{title:"Control 1: Inventory and Control of Enterprise Assets",description:"Actively manage all enterprise assets connected to the infrastructure",order_no:1,items:[{title:"1.1 Establish and Maintain Detailed Enterprise Asset Inventory",description:"Establish and maintain an accurate, detailed, and up-to-date inventory of all enterprise assets",order_no:1,summary:"Maintain comprehensive asset inventory",questions:["Is there a complete asset inventory?","How often is it updated?"],evidence_examples:["Asset inventory database","Update logs"]},{title:"1.2 Address Unauthorized Assets",description:"Ensure that a process exists to address unauthorized assets on a weekly basis",order_no:2,summary:"Remove or quarantine unauthorized assets",questions:["How are unauthorized assets detected?","What is the remediation process?"],evidence_examples:["Unauthorized asset reports","Remediation records"]},{title:"1.3 Utilize an Active Discovery Tool",description:"Utilize an active discovery tool to identify assets connected to the enterprise's network",order_no:3,summary:"Use automated asset discovery",questions:["What discovery tools are used?","How frequently are scans run?"],evidence_examples:["Discovery tool configuration","Scan schedules"]}]},{title:"Control 2: Inventory and Control of Software Assets",description:"Actively manage all software on the network so only authorized software is installed and can execute",order_no:2,items:[{title:"2.1 Establish and Maintain a Software Inventory",description:"Establish and maintain a detailed inventory of all licensed software installed on enterprise assets",order_no:1,summary:"Maintain software inventory",questions:["Is all software inventoried?","Are licenses tracked?"],evidence_examples:["Software inventory","License management records"]},{title:"2.2 Ensure Authorized Software is Currently Supported",description:"Ensure that only currently supported software is designated as authorized",order_no:2,summary:"Use only supported software",questions:["Is end-of-life software tracked?","What is the upgrade process?"],evidence_examples:["EOL tracking","Upgrade plans"]},{title:"2.3 Address Unauthorized Software",description:"Ensure that unauthorized software is either removed or the inventory is updated",order_no:3,summary:"Remove unauthorized software",questions:["How is unauthorized software detected?","What is the removal process?"],evidence_examples:["Software audit reports","Removal logs"]}]},{title:"Control 3: Data Protection",description:"Develop processes and technical controls to identify, classify, securely handle, retain, and dispose of data",order_no:3,items:[{title:"3.1 Establish and Maintain a Data Management Process",description:"Establish and maintain a data management process",order_no:1,summary:"Implement data management practices",questions:["Is there a data management policy?","Are data owners assigned?"],evidence_examples:["Data management policy","Data ownership records"]},{title:"3.2 Establish and Maintain a Data Inventory",description:"Establish and maintain a data inventory based on the enterprise's data management process",order_no:2,summary:"Catalog enterprise data",questions:["Is sensitive data inventoried?","Is data classified?"],evidence_examples:["Data inventory","Data classification records"]},{title:"3.3 Configure Data Access Control Lists",description:"Configure data access control lists based on a user's need to know",order_no:3,summary:"Implement need-to-know access controls",questions:["Are ACLs configured based on need-to-know?","How often are ACLs reviewed?"],evidence_examples:["ACL configuration","Access review records"]}]},{title:"Control 4: Secure Configuration of Enterprise Assets and Software",description:"Establish and maintain the secure configuration of enterprise assets and software",order_no:4,items:[{title:"4.1 Establish and Maintain a Secure Configuration Process",description:"Establish and maintain a secure configuration process for enterprise assets and software",order_no:1,summary:"Define secure configuration standards",questions:["Are secure baselines defined?","How are configurations validated?"],evidence_examples:["Configuration standards","Validation procedures"]},{title:"4.2 Establish and Maintain a Secure Configuration Process for Network Infrastructure",description:"Establish and maintain a secure configuration process for network devices",order_no:2,summary:"Secure network device configurations",questions:["Are network devices hardened?","Are configurations backed up?"],evidence_examples:["Network hardening standards","Configuration backups"]}]},{title:"Control 5: Account Management",description:"Use processes and tools to assign and manage authorization to credentials for user accounts",order_no:5,items:[{title:"5.1 Establish and Maintain an Inventory of Accounts",description:"Establish and maintain an inventory of all accounts managed in the enterprise",order_no:1,summary:"Maintain account inventory",questions:["Are all accounts inventoried?","Are service accounts tracked?"],evidence_examples:["Account inventory","Service account list"]},{title:"5.2 Use Unique Passwords",description:"Use unique passwords for all enterprise assets",order_no:2,summary:"Enforce unique password policy",questions:["Are unique passwords required?","Is password reuse prevented?"],evidence_examples:["Password policy","Technical controls"]},{title:"5.3 Disable Dormant Accounts",description:"Delete or disable any dormant accounts after a period of 45 days of inactivity",order_no:3,summary:"Remove inactive accounts",questions:["How are dormant accounts identified?","What is the inactivity threshold?"],evidence_examples:["Dormant account reports","Disablement logs"]}]},{title:"Control 6: Access Control Management",description:"Use processes and tools to create, assign, manage, and revoke access credentials and privileges",order_no:6,items:[{title:"6.1 Establish an Access Granting Process",description:"Establish and follow a process to grant access to enterprise assets and software",order_no:1,summary:"Define access request process",questions:["Is there an access request process?","Who approves access?"],evidence_examples:["Access request forms","Approval records"]},{title:"6.2 Establish an Access Revoking Process",description:"Establish and follow a process to revoke access to enterprise assets and software",order_no:2,summary:"Define access revocation process",questions:["How quickly is access revoked?","Is there a termination checklist?"],evidence_examples:["Revocation process","Termination checklists"]}]}]}},{id:"ccpa",name:"CCPA Compliance Framework",description:"California Consumer Privacy Act framework for protecting California residents' personal information and providing consumer rights.",category:"Privacy",tags:["CCPA","Privacy","California","Consumer Rights"],framework:{name:"CCPA Compliance Framework",description:"Framework for California Consumer Privacy Act compliance",version:"1.0.0",is_organizational:!0,hierarchy:{type:"two_level",level1_name:"Category",level2_name:"Requirement"},structure:[{title:"Consumer Rights",description:"Rights granted to California consumers under CCPA",order_no:1,items:[{title:"Right to Know",description:"Consumers have the right to know what personal information is collected about them",order_no:1,summary:"Enable consumers to know what data is collected",questions:["Can consumers request their data?","Is there a process to respond to requests?","Is the response provided within 45 days?"],evidence_examples:["Request intake process","Response templates","Timeline tracking"]},{title:"Right to Delete",description:"Consumers have the right to request deletion of their personal information",order_no:2,summary:"Enable consumers to delete their data",questions:["Can consumers request deletion?","Are exceptions documented?","Is deletion verified?"],evidence_examples:["Deletion request process","Exception documentation","Deletion logs"]},{title:"Right to Opt-Out",description:"Consumers have the right to opt-out of the sale of their personal information",order_no:3,summary:"Provide opt-out mechanism for data sales",questions:["Is there a 'Do Not Sell My Personal Information' link?","Is the opt-out easy to use?","Are opt-outs honored?"],evidence_examples:["Opt-out mechanism","Website compliance","Opt-out records"]},{title:"Right to Non-Discrimination",description:"Consumers cannot be discriminated against for exercising their CCPA rights",order_no:4,summary:"Ensure no discrimination for rights exercise",questions:["Are consumers treated equally regardless of rights exercise?","Are financial incentives disclosed?"],evidence_examples:["Non-discrimination policy","Incentive disclosures"]}]},{title:"Business Obligations",description:"Requirements businesses must fulfill under CCPA",order_no:2,items:[{title:"Privacy Notice",description:"Provide consumers with notice of data collection practices",order_no:1,summary:"Publish comprehensive privacy notice",questions:["Does the privacy policy describe data categories collected?","Are purposes of collection disclosed?","Is the notice updated annually?"],evidence_examples:["Privacy policy","Update records","Notice at collection"]},{title:"Data Inventory",description:"Maintain inventory of personal information collected, sold, or disclosed",order_no:2,summary:"Catalog personal information handling",questions:["Is there a data inventory?","Are data categories mapped?","Are third-party disclosures tracked?"],evidence_examples:["Data inventory","Data mapping","Third-party records"]},{title:"Service Provider Contracts",description:"Ensure contracts with service providers include required CCPA provisions",order_no:3,summary:"Update vendor contracts for CCPA",questions:["Do contracts restrict data use?","Are service providers certified as such?","Are data processing terms included?"],evidence_examples:["Contract templates","Vendor agreements","DPA addendums"]},{title:"Employee Training",description:"Train employees who handle consumer inquiries about CCPA requirements",order_no:4,summary:"Train staff on CCPA obligations",questions:["Are relevant employees trained?","Is training documented?","Is training refreshed annually?"],evidence_examples:["Training materials","Training records","Competency assessments"]}]},{title:"Security Requirements",description:"Reasonable security measures to protect personal information",order_no:3,items:[{title:"Reasonable Security",description:"Implement and maintain reasonable security procedures and practices",order_no:1,summary:"Maintain appropriate security measures",questions:["Are security measures appropriate to the data?","Is there a security program?","Are security incidents addressed?"],evidence_examples:["Security policy","Security controls","Incident response plan"]},{title:"Breach Notification",description:"Notify consumers of security breaches involving their personal information",order_no:2,summary:"Prepare for breach notification",questions:["Is there a breach response plan?","Are notification templates ready?","Is there a process to assess breach scope?"],evidence_examples:["Breach response plan","Notification templates","Assessment procedures"]}]}]}},{id:"ai-ethics",name:"AI Ethics & Governance Framework",description:"Comprehensive framework for responsible AI development and deployment, covering fairness, transparency, accountability, and human oversight.",category:"AI Governance",tags:["AI","Ethics","Governance","Responsible AI","Fairness"],framework:{name:"AI Ethics & Governance Framework",description:"Framework for responsible AI development, deployment, and governance",version:"1.0.0",is_organizational:!0,hierarchy:{type:"two_level",level1_name:"Principle",level2_name:"Requirement"},structure:[{title:"Fairness & Non-Discrimination",description:"Ensure AI systems treat all individuals and groups fairly without discrimination",order_no:1,items:[{title:"Bias Assessment",description:"Assess AI systems for potential biases in data, algorithms, and outcomes",order_no:1,summary:"Identify and mitigate bias in AI systems",questions:["Are training datasets assessed for bias?","Is algorithmic fairness measured?","Are outcomes monitored for disparate impact?"],evidence_examples:["Bias assessment reports","Fairness metrics","Monitoring dashboards"]},{title:"Inclusive Design",description:"Design AI systems to work effectively for diverse populations",order_no:2,summary:"Ensure AI systems are inclusive by design",questions:["Are diverse stakeholders involved in design?","Is accessibility considered?","Are edge cases tested?"],evidence_examples:["Design documentation","Stakeholder input","Accessibility testing"]},{title:"Fairness Monitoring",description:"Continuously monitor AI systems for fairness in production",order_no:3,summary:"Track fairness metrics over time",questions:["Are fairness metrics tracked in production?","Are alerts configured for fairness drift?","Is there a remediation process?"],evidence_examples:["Monitoring setup","Alert configuration","Remediation records"]}]},{title:"Transparency & Explainability",description:"Ensure AI systems are transparent and their decisions can be explained",order_no:2,items:[{title:"Model Documentation",description:"Document AI models including purpose, training data, limitations, and intended use",order_no:1,summary:"Maintain comprehensive model documentation",questions:["Are model cards maintained?","Is training data documented?","Are limitations clearly stated?"],evidence_examples:["Model cards","Data sheets","Technical documentation"]},{title:"Decision Explainability",description:"Provide explanations for AI-driven decisions when needed",order_no:2,summary:"Enable explanation of AI decisions",questions:["Can individual decisions be explained?","Are explanations understandable to users?","Is explainability appropriate to the risk level?"],evidence_examples:["Explanation mechanisms","User testing","Risk-based approach"]},{title:"Disclosure Requirements",description:"Disclose when AI systems are being used to make or assist decisions",order_no:3,summary:"Be transparent about AI use",questions:["Are users informed when AI is used?","Is disclosure clear and prominent?","Are disclosure requirements documented?"],evidence_examples:["Disclosure policy","User notifications","Compliance records"]}]},{title:"Accountability & Governance",description:"Establish clear accountability structures for AI systems",order_no:3,items:[{title:"AI Governance Structure",description:"Establish governance structure with clear roles and responsibilities for AI oversight",order_no:1,summary:"Define AI governance organization",questions:["Is there an AI ethics committee or board?","Are roles and responsibilities defined?","Is there executive sponsorship?"],evidence_examples:["Governance charter","RACI matrix","Committee records"]},{title:"AI Risk Management",description:"Implement risk management processes specific to AI systems",order_no:2,summary:"Manage AI-specific risks",questions:["Are AI risks identified and assessed?","Is there an AI risk register?","Are high-risk AI systems subject to additional controls?"],evidence_examples:["AI risk framework","Risk register","Control documentation"]},{title:"Audit & Compliance",description:"Conduct regular audits of AI systems for compliance with policies and regulations",order_no:3,summary:"Audit AI systems regularly",questions:["Are AI audits conducted?","Are audit findings tracked?","Is there regulatory compliance monitoring?"],evidence_examples:["Audit reports","Finding remediation","Compliance tracking"]}]},{title:"Human Oversight",description:"Maintain appropriate human oversight of AI systems",order_no:4,items:[{title:"Human-in-the-Loop",description:"Ensure human involvement in high-stakes AI decisions",order_no:1,summary:"Require human review for critical decisions",questions:["Are high-stakes decisions reviewed by humans?","Can humans override AI decisions?","Is the level of automation appropriate?"],evidence_examples:["Review processes","Override mechanisms","Automation assessment"]},{title:"Contestability",description:"Enable individuals to contest AI-driven decisions that affect them",order_no:2,summary:"Provide appeal mechanisms",questions:["Can affected individuals appeal decisions?","Is there a review process?","Are appeals tracked and analyzed?"],evidence_examples:["Appeal process","Review records","Appeal analytics"]},{title:"Kill Switch",description:"Maintain ability to disable or override AI systems when necessary",order_no:3,summary:"Enable rapid AI system shutdown if needed",questions:["Can AI systems be quickly disabled?","Are shutdown procedures documented?","Is there a rollback capability?"],evidence_examples:["Shutdown procedures","Rollback plans","Testing records"]}]},{title:"Privacy & Security",description:"Protect data used in AI systems and secure AI infrastructure",order_no:5,items:[{title:"Data Privacy",description:"Ensure AI training and inference respects data privacy requirements",order_no:1,summary:"Protect privacy in AI data usage",questions:["Is consent obtained for AI training data?","Are privacy-enhancing technologies used?","Is data minimization practiced?"],evidence_examples:["Consent records","PET implementation","Data minimization evidence"]},{title:"Model Security",description:"Protect AI models from adversarial attacks and unauthorized access",order_no:2,summary:"Secure AI models and infrastructure",questions:["Are models protected from extraction?","Is adversarial robustness tested?","Are model access controls in place?"],evidence_examples:["Security controls","Adversarial testing","Access logs"]}]}]}},{id:"dora",name:"DORA Compliance Framework",description:"Digital Operational Resilience Act framework for financial entities to manage ICT risks and ensure operational resilience.",category:"Financial",tags:["DORA","EU","Financial","Operational Resilience","ICT"],framework:{name:"DORA Compliance Framework",description:"Framework for Digital Operational Resilience Act compliance",version:"1.0.0",is_organizational:!0,hierarchy:{type:"two_level",level1_name:"Pillar",level2_name:"Requirement"},structure:[{title:"ICT Risk Management",description:"Establish comprehensive ICT risk management framework",order_no:1,items:[{title:"ICT Risk Management Framework",description:"Implement a comprehensive ICT risk management framework",order_no:1,summary:"Establish ICT risk management governance",questions:["Is there an ICT risk management policy?","Is ICT risk integrated into enterprise risk management?","Are ICT risks reported to the management body?"],evidence_examples:["ICT risk policy","ERM integration","Board reports"]},{title:"ICT Asset Management",description:"Identify, classify, and document all ICT assets and their dependencies",order_no:2,summary:"Maintain ICT asset inventory",questions:["Are all ICT assets inventoried?","Are dependencies mapped?","Are critical assets identified?"],evidence_examples:["Asset inventory","Dependency mapping","Criticality assessment"]},{title:"ICT Business Continuity",description:"Establish ICT business continuity policy and plans",order_no:3,summary:"Plan for ICT continuity",questions:["Is there an ICT BCP?","Are recovery objectives defined?","Are plans tested annually?"],evidence_examples:["BCP documentation","RTO/RPO definitions","Test results"]}]},{title:"ICT Incident Management",description:"Establish processes for detecting, managing, and reporting ICT-related incidents",order_no:2,items:[{title:"Incident Detection",description:"Implement mechanisms to promptly detect anomalous activities",order_no:1,summary:"Detect ICT incidents promptly",questions:["Are monitoring systems in place?","Are anomalies detected automatically?","Is 24/7 monitoring available for critical systems?"],evidence_examples:["Monitoring tools","Alert configuration","Coverage documentation"]},{title:"Incident Classification",description:"Classify ICT-related incidents based on severity and impact",order_no:2,summary:"Classify incidents consistently",questions:["Is there an incident classification scheme?","Are major incidents clearly defined?","Is classification aligned with regulatory requirements?"],evidence_examples:["Classification criteria","Major incident definition","Regulatory mapping"]},{title:"Incident Reporting",description:"Report major ICT-related incidents to competent authorities",order_no:3,summary:"Report incidents to regulators",questions:["Is there a regulatory reporting process?","Are reporting timelines met?","Are root cause analyses performed?"],evidence_examples:["Reporting procedures","Submission records","RCA reports"]}]},{title:"Digital Operational Resilience Testing",description:"Conduct testing of ICT systems to assess resilience capabilities",order_no:3,items:[{title:"Vulnerability Assessments",description:"Conduct regular vulnerability assessments of ICT systems",order_no:1,summary:"Assess vulnerabilities regularly",questions:["Are vulnerability scans performed?","Are findings remediated?","Is scanning scope comprehensive?"],evidence_examples:["Scan reports","Remediation tracking","Scope documentation"]},{title:"Penetration Testing",description:"Conduct penetration testing based on risk assessment",order_no:2,summary:"Test security through penetration testing",questions:["Is penetration testing performed?","Are critical systems in scope?","Are findings addressed?"],evidence_examples:["Penetration test reports","Scope documentation","Remediation evidence"]},{title:"Threat-Led Penetration Testing",description:"Conduct advanced threat-led penetration testing (TLPT) as required",order_no:3,summary:"Perform advanced resilience testing",questions:["Is TLPT required for your entity?","Are qualified testers engaged?","Are results reported to authorities?"],evidence_examples:["TLPT reports","Tester qualifications","Regulatory submissions"]}]},{title:"Third-Party ICT Risk",description:"Manage risks arising from ICT third-party service providers",order_no:4,items:[{title:"Third-Party Strategy",description:"Adopt a strategy on ICT third-party risk",order_no:1,summary:"Define third-party ICT risk strategy",questions:["Is there a third-party ICT strategy?","Are concentration risks assessed?","Is cloud strategy defined?"],evidence_examples:["Third-party strategy","Concentration analysis","Cloud policy"]},{title:"Due Diligence",description:"Conduct due diligence before engaging ICT third-party providers",order_no:2,summary:"Assess third parties before engagement",questions:["Is due diligence performed?","Are security capabilities assessed?","Are risks documented?"],evidence_examples:["Due diligence reports","Assessment criteria","Risk documentation"]},{title:"Contractual Requirements",description:"Include required contractual provisions in ICT third-party contracts",order_no:3,summary:"Ensure contracts meet DORA requirements",questions:["Do contracts include required provisions?","Are audit rights included?","Are exit strategies defined?"],evidence_examples:["Contract templates","Clause checklist","Exit plans"]},{title:"Ongoing Monitoring",description:"Monitor ICT third-party providers on an ongoing basis",order_no:4,summary:"Continuously monitor third parties",questions:["Is third-party performance monitored?","Are incidents tracked?","Are reviews conducted periodically?"],evidence_examples:["Monitoring dashboards","Incident tracking","Review records"]}]},{title:"Information Sharing",description:"Participate in information sharing arrangements on cyber threats",order_no:5,items:[{title:"Threat Intelligence",description:"Exchange cyber threat information with other financial entities",order_no:1,summary:"Share and receive threat intelligence",questions:["Is threat intelligence shared?","Are sharing arrangements in place?","Is received intelligence actionable?"],evidence_examples:["Sharing agreements","Intelligence reports","Action records"]}]}]}},{id:"data-governance",name:"Data Governance Framework",description:"Comprehensive framework for establishing data governance practices including data quality, stewardship, lifecycle management, and metadata management.",category:"Data Management",tags:["Data Governance","Data Quality","Metadata","Stewardship"],framework:{name:"Data Governance Framework",description:"Framework for implementing enterprise data governance",version:"1.0.0",is_organizational:!0,hierarchy:{type:"two_level",level1_name:"Domain",level2_name:"Practice"},structure:[{title:"Governance Structure",description:"Establish organizational structure for data governance",order_no:1,items:[{title:"Data Governance Council",description:"Establish a cross-functional data governance council",order_no:1,summary:"Create governance oversight body",questions:["Is there a data governance council?","Are key stakeholders represented?","Does the council meet regularly?"],evidence_examples:["Council charter","Membership list","Meeting minutes"]},{title:"Data Stewardship",description:"Assign data stewards for key data domains",order_no:2,summary:"Designate data stewards",questions:["Are data stewards assigned?","Are responsibilities documented?","Is there a stewardship community?"],evidence_examples:["Steward assignments","Role descriptions","Community records"]},{title:"Data Ownership",description:"Define data ownership with clear accountability",order_no:3,summary:"Establish data ownership",questions:["Are data owners identified?","Are ownership responsibilities clear?","Is ownership aligned with business?"],evidence_examples:["Ownership assignments","Responsibility matrix","Business alignment"]}]},{title:"Data Quality",description:"Establish practices to ensure and improve data quality",order_no:2,items:[{title:"Data Quality Standards",description:"Define data quality dimensions and standards",order_no:1,summary:"Set data quality expectations",questions:["Are quality dimensions defined?","Are quality thresholds set?","Are standards documented?"],evidence_examples:["Quality standards","Threshold definitions","Documentation"]},{title:"Data Quality Measurement",description:"Implement data quality measurement and monitoring",order_no:2,summary:"Measure data quality continuously",questions:["Is data quality measured?","Are quality scorecards maintained?","Are trends tracked?"],evidence_examples:["Quality metrics","Scorecards","Trend reports"]},{title:"Data Quality Remediation",description:"Establish processes to remediate data quality issues",order_no:3,summary:"Fix data quality problems",questions:["Is there a remediation process?","Are root causes addressed?","Are improvements tracked?"],evidence_examples:["Remediation procedures","Issue tracking","Improvement records"]}]},{title:"Metadata Management",description:"Manage metadata to enable data understanding and use",order_no:3,items:[{title:"Business Glossary",description:"Maintain a business glossary with agreed definitions",order_no:1,summary:"Define business terms consistently",questions:["Is there a business glossary?","Are terms defined clearly?","Is the glossary maintained?"],evidence_examples:["Business glossary","Term definitions","Update records"]},{title:"Data Catalog",description:"Implement a data catalog for data discovery",order_no:2,summary:"Enable data discovery",questions:["Is there a data catalog?","Can users discover data?","Is the catalog comprehensive?"],evidence_examples:["Data catalog","Usage metrics","Coverage reports"]},{title:"Data Lineage",description:"Track data lineage from source to consumption",order_no:3,summary:"Understand data flow and transformation",questions:["Is data lineage tracked?","Can lineage be visualized?","Is lineage used for impact analysis?"],evidence_examples:["Lineage documentation","Lineage tools","Impact analysis"]}]},{title:"Data Lifecycle",description:"Manage data throughout its lifecycle",order_no:4,items:[{title:"Data Retention",description:"Define and enforce data retention policies",order_no:1,summary:"Manage data retention appropriately",questions:["Are retention policies defined?","Is retention enforced technically?","Are regulatory requirements met?"],evidence_examples:["Retention policy","Technical controls","Compliance evidence"]},{title:"Data Archival",description:"Archive data appropriately based on access needs",order_no:2,summary:"Archive data cost-effectively",questions:["Is archival policy defined?","Can archived data be retrieved?","Are costs optimized?"],evidence_examples:["Archival policy","Retrieval procedures","Cost analysis"]},{title:"Data Disposal",description:"Securely dispose of data when no longer needed",order_no:3,summary:"Dispose of data securely",questions:["Is disposal policy defined?","Is disposal secure and verified?","Are disposal records maintained?"],evidence_examples:["Disposal policy","Verification records","Disposal certificates"]}]}]}}],hn=[{id:"all",name:"All Templates"},{id:"Privacy",name:"Privacy"},{id:"Security",name:"Security"},{id:"Healthcare",name:"Healthcare"},{id:"Financial",name:"Financial"},{id:"AI Governance",name:"AI Governance"},{id:"Data Management",name:"Data Management"},{id:"Template",name:"Starter Templates"}];var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fn(ce){return ce&&ce.__esModule&&Object.prototype.hasOwnProperty.call(ce,"default")?ce.default:ce}function Qt(ce){throw new Error('Could not dynamically require "'+ce+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dr={exports:{}};/*! ExcelJS 19-10-2023 */(function(ce,_e){(function(i){ce.exports=i()})(function(){return function i(T,S,m){function o(e,t){if(!S[e]){if(!T[e]){var a=typeof Qt=="function"&&Qt;if(!t&&a)return a(e,!0);if(l)return l(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var s=S[e]={exports:{}};T[e][0].call(s.exports,function(d){return o(T[e][1][d]||d)},s,s.exports,i,T,S,m)}return S[e].exports}for(var l=typeof Qt=="function"&&Qt,n=0;n<m.length;n++)o(m[n]);return o}({1:[function(i,T,S){const m=i("fs"),o=i("fast-csv"),l=i("dayjs/plugin/customParseFormat"),n=i("dayjs/plugin/utc"),e=i("dayjs").extend(l).extend(n),t=i("../utils/stream-buf"),{fs:{exists:a}}=i("../utils/utils"),r={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};T.exports=class{constructor(s){this.workbook=s,this.worksheet=null}async readFile(s,d){if(d=d||{},!await a(s))throw new Error("File not found: "+s);const u=m.createReadStream(s),c=await this.read(u,d);return u.close(),c}read(s,d){return d=d||{},new Promise((u,c)=>{const f=this.workbook.addWorksheet(d.sheetName),h=d.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=d.map||function(E){if(E==="")return null;const j=Number(E);if(!Number.isNaN(j)&&j!==1/0)return j;const $=h.reduce((P,R)=>{if(P)return P;const H=e(E,R,!0);return H.isValid()?H:null},null);if($)return new Date($.valueOf());const D=r[E];return D!==void 0?D:E},k=o.parse(d.parserOptions).on("data",E=>{f.addRow(E.map(w))}).on("end",()=>{k.emit("worksheet",f)});k.on("worksheet",u).on("error",c),s.pipe(k)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(s,d){return new Promise((u,c)=>{d=d||{};const f=this.workbook.getWorksheet(d.sheetName||d.sheetId),h=o.format(d.formatterOptions);s.on("finish",()=>{u()}),h.on("error",c),h.pipe(s);const{dateFormat:w,dateUTC:k}=d,E=d.map||(D=>{if(D){if(D.text||D.hyperlink)return D.hyperlink||D.text||"";if(D.formula||D.result)return D.result||"";if(D instanceof Date)return w?k?e.utc(D).format(w):e(D).format(w):k?e.utc(D).format():e(D).format();if(D.error)return D.error;if(typeof D=="object")return JSON.stringify(D)}return D}),j=d.includeEmptyRows===void 0||d.includeEmptyRows;let $=1;f&&f.eachRow((D,P)=>{if(j)for(;$++<P-1;)h.write([]);const{values:R}=D;R.shift(),h.write(R.map(E)),$=P}),h.end()})}writeFile(s,d){const u={encoding:(d=d||{}).encoding||"utf8"},c=m.createWriteStream(s,u);return this.write(c,d)}async writeBuffer(s){const d=new t;return await this.write(d,s),d.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(i,T,S){const m=i("../utils/col-cache");class o{constructor(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=n,e)if(typeof e=="string"){const a=m.decodeAddress(e);this.nativeCol=a.col+t,this.nativeColOff=0,this.nativeRow=a.row+t,this.nativeRowOff=0}else e.nativeCol!==void 0?(this.nativeCol=e.nativeCol||0,this.nativeColOff=e.nativeColOff||0,this.nativeRow=e.nativeRow||0,this.nativeRowOff=e.nativeRowOff||0):e.col!==void 0?(this.col=e.col+t,this.row=e.row+t):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(n){return n instanceof o||n==null?n:new o(n)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(n){this.nativeCol=Math.floor(n),this.nativeColOff=Math.floor((n-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(n){this.nativeRow=Math.floor(n),this.nativeRowOff=Math.floor((n-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(n){this.nativeCol=n.nativeCol,this.nativeColOff=n.nativeColOff,this.nativeRow=n.nativeRow,this.nativeRowOff=n.nativeRowOff}}T.exports=o},{"../utils/col-cache":19}],3:[function(i,T,S){const m=i("../utils/col-cache"),o=i("../utils/under-dash"),l=i("./enums"),{slideFormula:n}=i("../utils/shared-formula"),e=i("./note");class t{constructor(s,d,u){if(!s||!d)throw new Error("A Cell needs a Row");this._row=s,this._column=d,m.validateAddress(u),this._address=u,this._value=a.create(t.Types.Null,this),this.style=this._mergeStyle(s.style,d.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(s){this.style.numFmt=s}get font(){return this.style.font}set font(s){this.style.font=s}get alignment(){return this.style.alignment}set alignment(s){this.style.alignment=s}get border(){return this.style.border}set border(s){this.style.border=s}get fill(){return this.style.fill}set fill(s){this.style.fill=s}get protection(){return this.style.protection}set protection(s){this.style.protection=s}_mergeStyle(s,d,u){const c=s&&s.numFmt||d&&d.numFmt;c&&(u.numFmt=c);const f=s&&s.font||d&&d.font;f&&(u.font=f);const h=s&&s.alignment||d&&d.alignment;h&&(u.alignment=h);const w=s&&s.border||d&&d.border;w&&(u.border=w);const k=s&&s.fill||d&&d.fill;k&&(u.fill=k);const E=s&&s.protection||d&&d.protection;return E&&(u.protection=E),u}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===t.Types.Merge}merge(s,d){this._value.release(),this._value=a.create(t.Types.Merge,this,s),d||(this.style=s.style)}unmerge(){this.type===t.Types.Merge&&(this._value.release(),this._value=a.create(t.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(s){return this._value.type===t.Types.Merge&&this._value.isMergedTo(s)}get master(){return this.type===t.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===t.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(s){this.type!==t.Types.Merge?(this._value.release(),this._value=a.create(a.getType(s),this,s)):this._value.master.value=s}get note(){return this._comment&&this._comment.note}set note(s){this._comment=new e(s)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(s){this.type===t.Types.String&&(this._value=a.create(t.Types.Hyperlink,this,{text:this._value.value,hyperlink:s}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:s}=this._row;return{sheetName:s.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(s){this.names=[s]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(s){const{definedNames:d}=this.workbook;d.removeAllNames(this.fullAddress),s.forEach(u=>{d.addEx(this.fullAddress,u)})}addName(s){this.workbook.definedNames.addEx(this.fullAddress,s)}removeName(s){this.workbook.definedNames.removeEx(this.fullAddress,s)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(s){this._dataValidations.add(this.address,s)}get model(){const{model:s}=this._value;return s.style=this.style,this._comment&&(s.comment=this._comment.model),s}set model(s){if(this._value.release(),this._value=a.create(s.type,this),this._value.model=s,s.comment)switch(s.comment.type){case"note":this._comment=e.fromModel(s.comment)}s.style?this.style=s.style:this.style={}}}t.Types=l.ValueType;const a={getType:r=>r==null?t.Types.Null:r instanceof String||typeof r=="string"?t.Types.String:typeof r=="number"?t.Types.Number:typeof r=="boolean"?t.Types.Boolean:r instanceof Date?t.Types.Date:r.text&&r.hyperlink?t.Types.Hyperlink:r.formula||r.sharedFormula?t.Types.Formula:r.richText?t.Types.RichText:r.sharedString?t.Types.SharedString:r.error?t.Types.Error:t.Types.JSON,types:[{t:t.Types.Null,f:class{constructor(r){this.model={address:r.address,type:t.Types.Null}}get value(){return null}set value(r){}get type(){return t.Types.Null}get effectiveType(){return t.Types.Null}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return""}release(){}toString(){return""}}},{t:t.Types.Number,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.Number,value:s}}get value(){return this.model.value}set value(r){this.model.value=r}get type(){return t.Types.Number}get effectiveType(){return t.Types.Number}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:t.Types.String,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.String,value:s}}get value(){return this.model.value}set value(r){this.model.value=r}get type(){return t.Types.String}get effectiveType(){return t.Types.String}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:t.Types.Date,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.Date,value:s}}get value(){return this.model.value}set value(r){this.model.value=r}get type(){return t.Types.Date}get effectiveType(){return t.Types.Date}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:t.Types.Hyperlink,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.Hyperlink,text:s?s.text:void 0,hyperlink:s?s.hyperlink:void 0},s&&s.tooltip&&(this.model.tooltip=s.tooltip)}get value(){const r={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(r.tooltip=this.model.tooltip),r}set value(r){this.model={text:r.text,hyperlink:r.hyperlink},r.tooltip&&(this.model.tooltip=r.tooltip)}get text(){return this.model.text}set text(r){this.model.text=r}get hyperlink(){return this.model.hyperlink}set hyperlink(r){this.model.hyperlink=r}get type(){return t.Types.Hyperlink}get effectiveType(){return t.Types.Hyperlink}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:t.Types.Formula,f:class{constructor(r,s){this.cell=r,this.model={address:r.address,type:t.Types.Formula,shareType:s?s.shareType:void 0,ref:s?s.ref:void 0,formula:s?s.formula:void 0,sharedFormula:s?s.sharedFormula:void 0,result:s?s.result:void 0}}_copyModel(r){const s={},d=u=>{const c=r[u];c&&(s[u]=c)};return d("formula"),d("result"),d("ref"),d("shareType"),d("sharedFormula"),s}get value(){return this._copyModel(this.model)}set value(r){this.model=this._copyModel(r)}validate(r){switch(a.getType(r)){case t.Types.Null:case t.Types.String:case t.Types.Number:case t.Types.Date:break;case t.Types.Hyperlink:case t.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(r){this.model.formula=r}get formulaType(){return this.model.formula?l.FormulaType.Master:this.model.sharedFormula?l.FormulaType.Shared:l.FormulaType.None}get result(){return this.model.result}set result(r){this.model.result=r}get type(){return t.Types.Formula}get effectiveType(){const r=this.model.result;return r==null?l.ValueType.Null:r instanceof String||typeof r=="string"?l.ValueType.String:typeof r=="number"?l.ValueType.Number:r instanceof Date?l.ValueType.Date:r.text&&r.hyperlink?l.ValueType.Hyperlink:r.formula?l.ValueType.Formula:l.ValueType.Null}get address(){return this.model.address}set address(r){this.model.address=r}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:r}=this.cell,s=r.findCell(this.model.sharedFormula);this._translatedFormula=s&&n(s.formula,s.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:t.Types.Merge,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.Merge,master:s?s.address:void 0},this._master=s,s&&s.addMergeRef()}get value(){return this._master.value}set value(r){r instanceof t?(this._master&&this._master.releaseMergeRef(),r.addMergeRef(),this._master=r):this._master.value=r}isMergedTo(r){return r===this._master}get master(){return this._master}get type(){return t.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:t.Types.JSON,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.String,value:JSON.stringify(s),rawValue:s}}get value(){return this.model.rawValue}set value(r){this.model.rawValue=r,this.model.value=JSON.stringify(r)}get type(){return t.Types.String}get effectiveType(){return t.Types.String}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:t.Types.SharedString,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.SharedString,value:s}}get value(){return this.model.value}set value(r){this.model.value=r}get type(){return t.Types.SharedString}get effectiveType(){return t.Types.SharedString}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:t.Types.RichText,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.String,value:s}}get value(){return this.model.value}set value(r){this.model.value=r}toString(){return this.model.value.richText.map(r=>r.text).join("")}get type(){return t.Types.RichText}get effectiveType(){return t.Types.RichText}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:t.Types.Boolean,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.Boolean,value:s}}get value(){return this.model.value}set value(r){this.model.value=r}get type(){return t.Types.Boolean}get effectiveType(){return t.Types.Boolean}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:t.Types.Error,f:class{constructor(r,s){this.model={address:r.address,type:t.Types.Error,value:s}}get value(){return this.model.value}set value(r){this.model.value=r}get type(){return t.Types.Error}get effectiveType(){return t.Types.Error}get address(){return this.model.address}set address(r){this.model.address=r}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((r,s)=>(r[s.t]=s.f,r),[]),create(r,s,d){const u=this.types[r];if(!u)throw new Error("Could not create Value of type "+r);return new u(s,d)}};T.exports=t},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(i,T,S){const m=i("../utils/under-dash"),o=i("./enums"),l=i("../utils/col-cache");class n{constructor(t,a,r){this._worksheet=t,this._number=a,r!==!1&&(this.defn=r)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return l.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(t){t?(this.key=t.key,this.width=t.width!==void 0?t.width:9,this.outlineLevel=t.outlineLevel,t.style?this.style=t.style:this.style={},this.header=t.header,this._hidden=!!t.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(t){t!==void 0?(this._header=t,this.headers.forEach((a,r)=>{this._worksheet.getCell(r+1,this.number).value=a})):this._header=void 0}get key(){return this._key}set key(t){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=t,t&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(t){this._hidden=t}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(t){this._outlineLevel=t}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(t){return this.width===t.width&&this.hidden===t.hidden&&this.outlineLevel===t.outlineLevel&&m.isEqual(this.style,t.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const t=this.style;return!t||!(t.font||t.numFmt||t.alignment||t.border||t.fill||t.protection)}get headerCount(){return this.headers.length}eachCell(t,a){const r=this.number;a||(a=t,t=null),this._worksheet.eachRow(t,(s,d)=>{a(s.getCell(r),d)})}get values(){const t=[];return this.eachCell((a,r)=>{a&&a.type!==o.ValueType.Null&&(t[r]=a.value)}),t}set values(t){if(!t)return;const a=this.number;let r=0;t.hasOwnProperty("0")&&(r=1),t.forEach((s,d)=>{this._worksheet.getCell(d+r,a).value=s})}_applyStyle(t,a){return this.style[t]=a,this.eachCell(r=>{r[t]=a}),a}get numFmt(){return this.style.numFmt}set numFmt(t){this._applyStyle("numFmt",t)}get font(){return this.style.font}set font(t){this._applyStyle("font",t)}get alignment(){return this.style.alignment}set alignment(t){this._applyStyle("alignment",t)}get protection(){return this.style.protection}set protection(t){this._applyStyle("protection",t)}get border(){return this.style.border}set border(t){this._applyStyle("border",t)}get fill(){return this.style.fill}set fill(t){this._applyStyle("fill",t)}static toModel(t){const a=[];let r=null;return t&&t.forEach((s,d)=>{s.isDefault?r&&(r=null):r&&s.equivalentTo(r)?r.max=d+1:(r={min:d+1,max:d+1,width:s.width!==void 0?s.width:9,style:s.style,isCustomWidth:s.isCustomWidth,hidden:s.hidden,outlineLevel:s.outlineLevel,collapsed:s.collapsed},a.push(r))}),a.length?a:void 0}static fromModel(t,a){const r=[];let s=1,d=0;for(a=(a=a||[]).sort(function(u,c){return u.min-c.min});d<a.length;){const u=a[d++];for(;s<u.min;)r.push(new n(t,s++));for(;s<=u.max;)r.push(new n(t,s++,u))}return r.length?r:null}}T.exports=n},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(i,T,S){T.exports=class{constructor(m){this.model=m||{}}add(m,o){return this.model[m]=o}find(m){return this.model[m]}remove(m){this.model[m]=void 0}}},{}],6:[function(i,T,S){const m=i("../utils/under-dash"),o=i("../utils/col-cache"),l=i("../utils/cell-matrix"),n=i("./range"),e=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;T.exports=class{constructor(){this.matrixMap={}}getMatrix(t){return this.matrixMap[t]||(this.matrixMap[t]=new l)}add(t,a){const r=o.decodeEx(t);this.addEx(r,a)}addEx(t,a){const r=this.getMatrix(a);if(t.top)for(let s=t.left;s<=t.right;s++)for(let d=t.top;d<=t.bottom;d++){const u={sheetName:t.sheetName,address:o.n2l(s)+d,row:d,col:s};r.addCellEx(u)}else r.addCellEx(t)}remove(t,a){const r=o.decodeEx(t);this.removeEx(r,a)}removeEx(t,a){this.getMatrix(a).removeCellEx(t)}removeAllNames(t){m.each(this.matrixMap,a=>{a.removeCellEx(t)})}forEach(t){m.each(this.matrixMap,(a,r)=>{a.forEach(s=>{t(r,s)})})}getNames(t){return this.getNamesEx(o.decodeEx(t))}getNamesEx(t){return m.map(this.matrixMap,(a,r)=>a.findCellEx(t)&&r).filter(Boolean)}_explore(t,a){a.mark=!1;const{sheetName:r}=a,s=new n(a.row,a.col,a.row,a.col,r);let d,u;function c(h,w){const k=t.findCellAt(r,h,a.col);return!(!k||!k.mark)&&(s[w]=h,k.mark=!1,!0)}for(u=a.row-1;c(u,"top");u--);for(u=a.row+1;c(u,"bottom");u++);function f(h,w){const k=[];for(u=s.top;u<=s.bottom;u++){const E=t.findCellAt(r,u,h);if(!E||!E.mark)return!1;k.push(E)}s[w]=h;for(let E=0;E<k.length;E++)k[E].mark=!1;return!0}for(d=a.col-1;f(d,"left");d--);for(d=a.col+1;f(d,"right");d++);return s}getRanges(t,a){return(a=a||this.matrixMap[t])?(a.forEach(r=>{r.mark=!0}),{name:t,ranges:a.map(r=>r.mark&&this._explore(a,r)).filter(Boolean).map(r=>r.$shortRange)}):{name:t,ranges:[]}}normaliseMatrix(t,a){t.forEachInSheet(a,(r,s,d)=>{r&&(r.row===s&&r.col===d||(r.row=s,r.col=d,r.address=o.n2l(d)+s))})}spliceRows(t,a,r,s){m.each(this.matrixMap,d=>{d.spliceRows(t,a,r,s),this.normaliseMatrix(d,t)})}spliceColumns(t,a,r,s){m.each(this.matrixMap,d=>{d.spliceColumns(t,a,r,s),this.normaliseMatrix(d,t)})}get model(){return m.map(this.matrixMap,(t,a)=>this.getRanges(a,t)).filter(t=>t.ranges.length)}set model(t){const a=this.matrixMap={};t.forEach(r=>{const s=a[r.name]=new l;r.ranges.forEach(d=>{e.test(d.split("!").pop()||"")&&s.addCell(d)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(i,T,S){T.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(i,T,S){const m=i("../utils/col-cache"),o=i("./anchor");T.exports=class{constructor(l,n){this.worksheet=l,this.model=n}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(l){let{type:n,imageId:e,range:t,hyperlinks:a}=l;if(this.type=n,this.imageId=e,n==="image")if(typeof t=="string"){const r=m.decode(t);this.range={tl:new o(this.worksheet,{col:r.left,row:r.top},-1),br:new o(this.worksheet,{col:r.right,row:r.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,t.tl,0),br:t.br&&new o(this.worksheet,t.br,0),ext:t.ext,editAs:t.editAs,hyperlinks:a||t.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(i,T,S){const m=i("../utils/under-dash");class o{constructor(n){this.note=n}get model(){let n=null;switch(typeof this.note){case"string":n={type:"note",note:{texts:[{text:this.note}]}};break;default:n={type:"note",note:this.note}}return m.deepMerge({},o.DEFAULT_CONFIGS,n)}set model(n){const{note:e}=n,{texts:t}=e;t.length===1&&Object.keys(t[0]).length===1?this.note=t[0].text:this.note=e}static fromModel(n){const e=new o;return e.model=n,e}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},T.exports=o},{"../utils/under-dash":26}],10:[function(i,T,S){const m=i("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(n,e,t,a,r){if(arguments.length<4){const s=m.decodeAddress(n),d=m.decodeAddress(e);this.model={top:Math.min(s.row,d.row),left:Math.min(s.col,d.col),bottom:Math.max(s.row,d.row),right:Math.max(s.col,d.col),sheetName:t},this.setTLBR(s.row,s.col,d.row,d.col,r)}else this.model={top:Math.min(n,t),left:Math.min(e,a),bottom:Math.max(n,t),right:Math.max(e,a),sheetName:r}}decode(n){switch(n.length){case 5:this.setTLBR(n[0],n[1],n[2],n[3],n[4]);break;case 4:this.setTLBR(n[0],n[1],n[2],n[3]);break;case 3:this.setTLBR(n[0],n[1],n[2]);break;case 2:this.setTLBR(n[0],n[1]);break;case 1:{const e=n[0];if(e instanceof o)this.model={top:e.model.top,left:e.model.left,bottom:e.model.bottom,right:e.model.right,sheetName:e.sheetName};else if(e instanceof Array)this.decode(e);else if(e.top&&e.left&&e.bottom&&e.right)this.model={top:e.top,left:e.left,bottom:e.bottom,right:e.right,sheetName:e.sheetName};else{const t=m.decodeEx(e);t.top?this.model={top:t.top,left:t.left,bottom:t.bottom,right:t.right,sheetName:t.sheetName}:this.model={top:t.row,left:t.col,bottom:t.row,right:t.col,sheetName:t.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+n.length)}}get top(){return this.model.top||1}set top(n){this.model.top=n}get left(){return this.model.left||1}set left(n){this.model.left=n}get bottom(){return this.model.bottom||1}set bottom(n){this.model.bottom=n}get right(){return this.model.right||1}set right(n){this.model.right=n}get sheetName(){return this.model.sheetName}set sheetName(n){this.model.sheetName=n}get _serialisedSheetName(){const{sheetName:n}=this.model;return n?/^[a-zA-Z0-9]*$/.test(n)?n+"!":`'${n}'!`:""}expand(n,e,t,a){(!this.model.top||n<this.top)&&(this.top=n),(!this.model.left||e<this.left)&&(this.left=e),(!this.model.bottom||t>this.bottom)&&(this.bottom=t),(!this.model.right||a>this.right)&&(this.right=a)}expandRow(n){if(n){const{dimensions:e,number:t}=n;e&&this.expand(t,e.min,t,e.max)}}expandToAddress(n){const e=m.decodeEx(n);this.expand(e.row,e.col,e.row,e.col)}get tl(){return m.n2l(this.left)+this.top}get $t$l(){return`$${m.n2l(this.left)}$${this.top}`}get br(){return m.n2l(this.right)+this.bottom}get $b$r(){return`$${m.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(n){return(!n.sheetName||!this.sheetName||n.sheetName===this.sheetName)&&!(n.bottom<this.top)&&!(n.top>this.bottom)&&!(n.right<this.left)&&!(n.left>this.right)}contains(n){const e=m.decodeEx(n);return this.containsEx(e)}containsEx(n){return(!n.sheetName||!this.sheetName||n.sheetName===this.sheetName)&&n.row>=this.top&&n.row<=this.bottom&&n.col>=this.left&&n.col<=this.right}forEachAddress(n){for(let e=this.left;e<=this.right;e++)for(let t=this.top;t<=this.bottom;t++)n(m.encodeAddress(t,e),t,e)}}T.exports=o},{"../utils/col-cache":19}],11:[function(i,T,S){const m=i("../utils/under-dash"),o=i("./enums"),l=i("../utils/col-cache"),n=i("./cell");T.exports=class{constructor(e,t){this._worksheet=e,this._number=t,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(e){return this._cells[e-1]}getCellEx(e){let t=this._cells[e.col-1];if(!t){const a=this._worksheet.getColumn(e.col);t=new n(this,a,e.address),this._cells[e.col-1]=t}return t}getCell(e){if(typeof e=="string"){const t=this._worksheet.getColumnKey(e);e=t?t.number:l.l2n(e)}return this._cells[e-1]||this.getCellEx({address:l.encodeAddress(this._number,e),row:this._number,col:e})}splice(e,t){const a=e+t;for(var r=arguments.length,s=new Array(r>2?r-2:0),d=2;d<r;d++)s[d-2]=arguments[d];const u=s.length-t,c=this._cells.length;let f,h,w;if(u<0)for(f=e+s.length;f<=c;f++)w=this._cells[f-1],h=this._cells[f-u-1],h?(w=this.getCell(f),w.value=h.value,w.style=h.style,w._comment=h._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(u>0)for(f=c;f>=a;f--)h=this._cells[f-1],h?(w=this.getCell(f+u),w.value=h.value,w.style=h.style,w._comment=h._comment):this._cells[f+u-1]=void 0;for(f=0;f<s.length;f++)w=this.getCell(e+f),w.value=s[f],w.style={},w._comment=void 0}eachCell(e,t){if(t||(t=e,e=null),e&&e.includeEmpty){const a=this._cells.length;for(let r=1;r<=a;r++)t(this.getCell(r),r)}else this._cells.forEach((a,r)=>{a&&a.type!==o.ValueType.Null&&t(a,r+1)})}addPageBreak(e,t){const a=this._worksheet,r=Math.max(0,e-1)||0,s=Math.max(0,t-1)||16838,d={id:this._number,max:s,man:1};r&&(d.min=r),a.rowBreaks.push(d)}get values(){const e=[];return this._cells.forEach(t=>{t&&t.type!==o.ValueType.Null&&(e[t.col]=t.value)}),e}set values(e){if(this._cells=[],e)if(e instanceof Array){let t=0;e.hasOwnProperty("0")&&(t=1),e.forEach((a,r)=>{a!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,r+t),row:this._number,col:r+t}).value=a)})}else this._worksheet.eachColumnKey((t,a)=>{e[a]!==void 0&&(this.getCellEx({address:l.encodeAddress(this._number,t.number),row:this._number,col:t.number}).value=e[a])})}get hasValues(){return m.some(this._cells,e=>e&&e.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let e=0;return this.eachCell(()=>{e++}),e}get dimensions(){let e=0,t=0;return this._cells.forEach(a=>{a&&a.type!==o.ValueType.Null&&((!e||e>a.col)&&(e=a.col),t<a.col&&(t=a.col))}),e>0?{min:e,max:t}:null}_applyStyle(e,t){return this.style[e]=t,this._cells.forEach(a=>{a&&(a[e]=t)}),t}get numFmt(){return this.style.numFmt}set numFmt(e){this._applyStyle("numFmt",e)}get font(){return this.style.font}set font(e){this._applyStyle("font",e)}get alignment(){return this.style.alignment}set alignment(e){this._applyStyle("alignment",e)}get protection(){return this.style.protection}set protection(e){this._applyStyle("protection",e)}get border(){return this.style.border}set border(e){this._applyStyle("border",e)}get fill(){return this.style.fill}set fill(e){this._applyStyle("fill",e)}get hidden(){return!!this._hidden}set hidden(e){this._hidden=e}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(e){this._outlineLevel=e}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const e=[];let t=0,a=0;return this._cells.forEach(r=>{if(r){const s=r.model;s&&((!t||t>r.col)&&(t=r.col),a<r.col&&(a=r.col),e.push(s))}}),this.height||e.length?{cells:e,number:this.number,min:t,max:a,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(e){if(e.number!==this._number)throw new Error("Invalid row number in model");let t;this._cells=[],e.cells.forEach(a=>{switch(a.type){case n.Types.Merge:break;default:{let r;if(a.address)r=l.decodeAddress(a.address);else if(t){const{row:s}=t,d=t.col+1;r={row:s,col:d,address:l.encodeAddress(s,d),$col$row:`$${l.n2l(d)}$${s}`}}t=r,this.getCellEx(r).model=a;break}}}),e.height?this.height=e.height:delete this.height,this.hidden=e.hidden,this.outlineLevel=e.outlineLevel||0,this.style=e.style&&JSON.parse(JSON.stringify(e.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(i,T,S){const m=i("../utils/col-cache");class o{constructor(n,e,t){this.table=n,this.column=e,this.index=t}_set(n,e){this.table.cacheState(),this.column[n]=e}get name(){return this.column.name}set name(n){this._set("name",n)}get filterButton(){return this.column.filterButton}set filterButton(n){this.column.filterButton=n}get style(){return this.column.style}set style(n){this.column.style=n}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(n){this._set("totalsRowLabel",n)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(n){this._set("totalsRowFunction",n)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(n){this._set("totalsRowResult",n)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(n){this._set("totalsRowFormula",n)}}T.exports=class{constructor(l,n){this.worksheet=l,n&&(this.table=n,this.validate(),this.store())}getFormula(l){switch(l.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${l.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${l.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${l.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${l.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${l.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${l.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${l.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${l.name}])`;case"custom":return l.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+l.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:l}=this,n=(u,c,f)=>{u[c]===void 0&&(u[c]=f)};n(l,"headerRow",!0),n(l,"totalsRow",!1),n(l,"style",{}),n(l.style,"theme","TableStyleMedium2"),n(l.style,"showFirstColumn",!1),n(l.style,"showLastColumn",!1),n(l.style,"showRowStripes",!1),n(l.style,"showColumnStripes",!1);const e=(u,c)=>{if(!u)throw new Error(c)};e(l.ref,"Table must have ref"),e(l.columns,"Table must have column definitions"),e(l.rows,"Table must have row definitions"),l.tl=m.decodeAddress(l.ref);const{row:t,col:a}=l.tl;e(t>0,"Table must be on valid row"),e(a>0,"Table must be on valid col");const{width:r,filterHeight:s,tableHeight:d}=this;l.autoFilterRef=m.encode(t,a,t+s-1,a+r-1),l.tableRef=m.encode(t,a,t+d-1,a+r-1),l.columns.forEach((u,c)=>{e(u.name,`Column ${c} must have a name`),c===0?n(u,"totalsRowLabel","Total"):(n(u,"totalsRowFunction","none"),u.totalsRowFormula=this.getFormula(u))})}store(){const l=(s,d)=>{d&&Object.keys(d).forEach(u=>{s[u]=d[u]})},{worksheet:n,table:e}=this,{row:t,col:a}=e.tl;let r=0;if(e.headerRow){const s=n.getRow(t+r++);e.columns.forEach((d,u)=>{const{style:c,name:f}=d,h=s.getCell(a+u);h.value=f,l(h,c)})}if(e.rows.forEach(s=>{const d=n.getRow(t+r++);s.forEach((u,c)=>{const f=d.getCell(a+c);f.value=u,l(f,e.columns[c].style)})}),e.totalsRow){const s=n.getRow(t+r++);e.columns.forEach((d,u)=>{const c=s.getCell(a+u);if(u===0)c.value=d.totalsRowLabel;else{const f=this.getFormula(d);c.value=f?{formula:d.totalsRowFormula,result:d.totalsRowResult}:null}l(c,d.style)})}}load(l){const{table:n}=this,{row:e,col:t}=n.tl;let a=0;if(n.headerRow){const r=l.getRow(e+a++);n.columns.forEach((s,d)=>{r.getCell(t+d).value=s.name})}if(n.rows.forEach(r=>{const s=l.getRow(e+a++);r.forEach((d,u)=>{s.getCell(t+u).value=d})}),n.totalsRow){const r=l.getRow(e+a++);n.columns.forEach((s,d)=>{const u=r.getCell(t+d);d===0?u.value=s.totalsRowLabel:this.getFormula(s)&&(u.value={formula:s.totalsRowFormula,result:s.totalsRowResult})})}}get model(){return this.table}set model(l){this.table=l}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const l=m.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let n=0;n<this._cache.tableHeight;n++){const e=this.worksheet.getRow(l.row+n);for(let t=0;t<this._cache.width;t++)e.getCell(l.col+t).value=null}else{for(let n=this.tableHeight;n<this._cache.tableHeight;n++){const e=this.worksheet.getRow(l.row+n);for(let t=0;t<this._cache.width;t++)e.getCell(l.col+t).value=null}for(let n=0;n<this.tableHeight;n++){const e=this.worksheet.getRow(l.row+n);for(let t=this.width;t<this._cache.width;t++)e.getCell(l.col+t).value=null}}this.store()}addRow(l,n){this.cacheState(),n===void 0?this.table.rows.push(l):this.table.rows.splice(n,0,l)}removeRows(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(l,n)}getColumn(l){const n=this.table.columns[l];return new o(this,n,l)}addColumn(l,n,e){this.cacheState(),e===void 0?(this.table.columns.push(l),this.table.rows.forEach((t,a)=>{t.push(n[a])})):(this.table.columns.splice(e,0,l),this.table.rows.forEach((t,a)=>{t.splice(e,0,n[a])}))}removeColumns(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(l,n),this.table.rows.forEach(e=>{e.splice(l,n)})}_assign(l,n,e){this.cacheState(),l[n]=e}get ref(){return this.table.ref}set ref(l){this._assign(this.table,"ref",l)}get name(){return this.table.name}set name(l){this.table.name=l}get displayName(){return this.table.displyName||this.table.name}set displayNamename(l){this.table.displayName=l}get headerRow(){return this.table.headerRow}set headerRow(l){this._assign(this.table,"headerRow",l)}get totalsRow(){return this.table.totalsRow}set totalsRow(l){this._assign(this.table,"totalsRow",l)}get theme(){return this.table.style.name}set theme(l){this.table.style.name=l}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(l){this.table.style.showFirstColumn=l}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(l){this.table.style.showLastColumn=l}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(l){this.table.style.showRowStripes=l}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(l){this.table.style.showColumnStripes=l}}},{"../utils/col-cache":19}],13:[function(i,T,S){const m=i("./worksheet"),o=i("./defined-names"),l=i("../xlsx/xlsx"),n=i("../csv/csv");T.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new l(this)),this._xlsx}get csv(){return this._csv||(this._csv=new n(this)),this._csv}get nextId(){for(let e=1;e<this._worksheets.length;e++)if(!this._worksheets[e])return e;return this._worksheets.length||1}addWorksheet(e,t){const a=this.nextId;t&&(typeof t=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),t={properties:{tabColor:{argb:t}}}):(t.argb||t.theme||t.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),t={properties:{tabColor:t}}));const r=this._worksheets.reduce((u,c)=>(c&&c.orderNo)>u?c.orderNo:u,0),s=Object.assign({},t,{id:a,name:e,orderNo:r+1,workbook:this}),d=new m(s);return this._worksheets[a]=d,d}removeWorksheetEx(e){delete this._worksheets[e.id]}removeWorksheet(e){const t=this.getWorksheet(e);t&&t.destroy()}getWorksheet(e){return e===void 0?this._worksheets.find(Boolean):typeof e=="number"?this._worksheets[e]:typeof e=="string"?this._worksheets.find(t=>t&&t.name===e):void 0}get worksheets(){return this._worksheets.slice(1).sort((e,t)=>e.orderNo-t.orderNo).filter(Boolean)}eachSheet(e){this.worksheets.forEach(t=>{e(t,t.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(e){const t=this.media.length;return this.media.push(Object.assign({},e,{type:"image"})),t}getImage(e){return this.media[e]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(e=>e.model),sheets:this.worksheets.map(e=>e.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(e){this.creator=e.creator,this.lastModifiedBy=e.lastModifiedBy,this.lastPrinted=e.lastPrinted,this.created=e.created,this.modified=e.modified,this.company=e.company,this.manager=e.manager,this.title=e.title,this.subject=e.subject,this.keywords=e.keywords,this.category=e.category,this.description=e.description,this.language=e.language,this.revision=e.revision,this.contentStatus=e.contentStatus,this.properties=e.properties,this.calcProperties=e.calcProperties,this._worksheets=[],e.worksheets.forEach(t=>{const{id:a,name:r,state:s}=t,d=e.sheets&&e.sheets.findIndex(u=>u.id===a);(this._worksheets[a]=new m({id:a,name:r,orderNo:d,state:s,workbook:this})).model=t}),this._definedNames.model=e.definedNames,this.views=e.views,this._themes=e.themes,this.media=e.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(i,T,S){const m=i("../utils/under-dash"),o=i("../utils/col-cache"),l=i("./range"),n=i("./row"),e=i("./column"),t=i("./enums"),a=i("./image"),r=i("./table"),s=i("./data-validations"),d=i("../utils/encryptor"),{copyStyle:u}=i("../utils/copy-style");T.exports=class{constructor(c){c=c||{},this._workbook=c.workbook,this.id=c.id,this.orderNo=c.orderNo,this.name=c.name,this.state=c.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},c.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!c.pageSetup||!c.pageSetup.fitToWidth&&!c.pageSetup.fitToHeight||c.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},c.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},c.headerFooter),this.dataValidations=new s,this.views=c.views||[],this.autoFilter=c.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(c){if(c===void 0&&(c="sheet"+this.id),this._name!==c){if(typeof c!="string")throw new Error("The name has to be a string.");if(c==="")throw new Error("The name can't be empty.");if(c==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(c))throw new Error(`Worksheet name ${c} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(c))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+c);if(c&&c.length>31&&(console.warn(`Worksheet name ${c} exceeds 31 chars. This will be truncated`),c=c.substring(0,31)),this._workbook._worksheets.find(f=>f&&f.name.toLowerCase()===c.toLowerCase()))throw new Error("Worksheet name already exists: "+c);this._name=c}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const c=new l;return this._rows.forEach(f=>{if(f){const h=f.dimensions;h&&c.expand(f.number,h.min,f.number,h.max)}}),c}get columns(){return this._columns}set columns(c){this._headerRowCount=c.reduce((w,k)=>{const E=(k.header?1:k.headers&&k.headers.length)||0;return Math.max(w,E)},0);let f=1;const h=this._columns=[];c.forEach(w=>{const k=new e(this,f++,!1);h.push(k),k.defn=w})}getColumnKey(c){return this._keys[c]}setColumnKey(c,f){this._keys[c]=f}deleteColumnKey(c){delete this._keys[c]}eachColumnKey(c){m.each(this._keys,c)}getColumn(c){if(typeof c=="string"){const f=this._keys[c];if(f)return f;c=o.l2n(c)}if(this._columns||(this._columns=[]),c>this._columns.length){let f=this._columns.length+1;for(;f<=c;)this._columns.push(new e(this,f++))}return this._columns[c-1]}spliceColumns(c,f){const h=this._rows.length;for(var w=arguments.length,k=new Array(w>2?w-2:0),E=2;E<w;E++)k[E-2]=arguments[E];if(k.length>0)for(let P=0;P<h;P++){const R=[c,f];k.forEach(N=>{R.push(N[P]||null)});const H=this.getRow(P+1);H.splice.apply(H,R)}else this._rows.forEach(P=>{P&&P.splice(c,f)});const j=k.length-f,$=c+f,D=this._columns.length;if(j<0)for(let P=c+k.length;P<=D;P++)this.getColumn(P).defn=this.getColumn(P-j).defn;else if(j>0)for(let P=D;P>=$;P--)this.getColumn(P+j).defn=this.getColumn(P).defn;for(let P=c;P<c+k.length;P++)this.getColumn(P).defn=null;this.workbook.definedNames.spliceColumns(this.name,c,f,k.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let c=0;return this.eachRow(f=>{c=Math.max(c,f.cellCount)}),c}get actualColumnCount(){const c=[];let f=0;return this.eachRow(h=>{h.eachCell(w=>{let{col:k}=w;c[k]||(c[k]=!0,f++)})}),f}_commitRow(){}get _lastRowNumber(){const c=this._rows;let f=c.length;for(;f>0&&c[f-1]===void 0;)f--;return f}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(c){return this._rows[c-1]}findRows(c,f){return this._rows.slice(c-1,c-1+f)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let c=0;return this.eachRow(()=>{c++}),c}getRow(c){let f=this._rows[c-1];return f||(f=this._rows[c-1]=new n(this,c)),f}getRows(c,f){if(f<1)return;const h=[];for(let w=c;w<c+f;w++)h.push(this.getRow(w));return h}addRow(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const h=this._nextRow,w=this.getRow(h);return w.values=c,this._setStyleOption(h,f[0]==="i"?f:"n"),w}addRows(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const h=[];return c.forEach(w=>{h.push(this.addRow(w,f))}),h}insertRow(c,f){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(c,0,f),this._setStyleOption(c,h),this.getRow(c)}insertRows(c,f){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(c,0,...f),h!=="n")for(let w=0;w<f.length;w++)h[0]==="o"&&this.findRow(f.length+c+w)!==void 0?this._copyStyle(f.length+c+w,c+w,h[1]==="+"):h[0]==="i"&&this.findRow(c-1)!==void 0&&this._copyStyle(c-1,c+w,h[1]==="+");return this.getRows(c,f.length)}_setStyleOption(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";f[0]==="o"&&this.findRow(c+1)!==void 0?this._copyStyle(c+1,c,f[1]==="+"):f[0]==="i"&&this.findRow(c-1)!==void 0&&this._copyStyle(c-1,c,f[1]==="+")}_copyStyle(c,f){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(c),k=this.getRow(f);k.style=u(w.style),w.eachCell({includeEmpty:h},(E,j)=>{k.getCell(j).style=u(E.style)}),k.height=w.height}duplicateRow(c,f){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[c-1],k=new Array(f).fill(w.values);this.spliceRows(c+1,h?0:f,...k);for(let E=0;E<f;E++){const j=this._rows[c+E];j.style=w.style,j.height=w.height,w.eachCell({includeEmpty:!0},($,D)=>{j.getCell(D).style=$.style})}}spliceRows(c,f){const h=c+f;for(var w=arguments.length,k=new Array(w>2?w-2:0),E=2;E<w;E++)k[E-2]=arguments[E];const j=k.length,$=j-f,D=this._rows.length;let P,R;if($<0)for(c===D&&(this._rows[D-1]=void 0),P=h;P<=D;P++)if(R=this._rows[P-1],R){const H=this.getRow(P+$);H.values=R.values,H.style=R.style,H.height=R.height,R.eachCell({includeEmpty:!0},(N,_)=>{H.getCell(_).style=N.style}),this._rows[P-1]=void 0}else this._rows[P+$-1]=void 0;else if($>0)for(P=D;P>=h;P--)if(R=this._rows[P-1],R){const H=this.getRow(P+$);H.values=R.values,H.style=R.style,H.height=R.height,R.eachCell({includeEmpty:!0},(N,_)=>{if(H.getCell(_).style=N.style,N._value.constructor.name==="MergeValue"){const C=this.getRow(N._row._number+j).getCell(_),v=N._value._master,p=this.getRow(v._row._number+j).getCell(v._column._number);C.merge(p)}})}else this._rows[P+$-1]=void 0;for(P=0;P<j;P++){const H=this.getRow(c+P);H.style={},H.values=k[P]}this.workbook.definedNames.spliceRows(this.name,c,f,j)}eachRow(c,f){if(f||(f=c,c=void 0),c&&c.includeEmpty){const h=this._rows.length;for(let w=1;w<=h;w++)f(this.getRow(w),w)}else this._rows.forEach(h=>{h&&h.hasValues&&f(h,h.number)})}getSheetValues(){const c=[];return this._rows.forEach(f=>{f&&(c[f.number]=f.values)}),c}findCell(c,f){const h=o.getAddress(c,f),w=this._rows[h.row-1];return w?w.findCell(h.col):void 0}getCell(c,f){const h=o.getAddress(c,f);return this.getRow(h.row).getCellEx(h)}mergeCells(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];const w=new l(f);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];const w=new l(f);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(c,f){m.each(this._merges,w=>{if(w.intersects(c))throw new Error("Cannot merge already merged cells")});const h=this.getCell(c.top,c.left);for(let w=c.top;w<=c.bottom;w++)for(let k=c.left;k<=c.right;k++)(w>c.top||k>c.left)&&this.getCell(w,k).merge(h,f);this._merges[h.address]=c}_unMergeMaster(c){const f=this._merges[c.address];if(f){for(let h=f.top;h<=f.bottom;h++)for(let w=f.left;w<=f.right;w++)this.getCell(h,w).unmerge();delete this._merges[c.address]}}get hasMerges(){return m.some(this._merges,Boolean)}unMergeCells(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];const w=new l(f);for(let k=w.top;k<=w.bottom;k++)for(let E=w.left;E<=w.right;E++){const j=this.findCell(k,E);j&&(j.type===t.ValueType.Merge?this._unMergeMaster(j.master):this._merges[j.address]&&this._unMergeMaster(j))}}fillFormula(c,f,h){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const k=o.decode(c),{top:E,left:j,bottom:$,right:D}=k,P=D-j+1,R=o.encodeAddress(E,j),H=w==="shared";let N;N=typeof h=="function"?h:Array.isArray(h)?Array.isArray(h[0])?(C,v)=>h[C-E][v-j]:(C,v)=>h[(C-E)*P+(v-j)]:()=>{};let _=!0;for(let C=E;C<=$;C++)for(let v=j;v<=D;v++)_?(this.getCell(C,v).value={shareType:w,formula:f,ref:c,result:N(C,v)},_=!1):this.getCell(C,v).value=H?{sharedFormula:R,result:N(C,v)}:N(C,v)}addImage(c,f){const h={type:"image",imageId:c,range:f};this._media.push(new a(this,h))}getImages(){return this._media.filter(c=>c.type==="image")}addBackgroundImage(c){const f={type:"background",imageId:c};this._media.push(new a(this,f))}getBackgroundImageId(){const c=this._media.find(f=>f.type==="background");return c&&c.imageId}protect(c,f){return new Promise(h=>{this.sheetProtection={sheet:!0},f&&"spinCount"in f&&(f.spinCount=Number.isFinite(f.spinCount)?Math.round(Math.max(0,f.spinCount)):1e5),c&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=d.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=f&&"spinCount"in f?f.spinCount:1e5,this.sheetProtection.hashValue=d.convertPasswordToHash(c,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),f&&(this.sheetProtection=Object.assign(this.sheetProtection,f),!c&&"spinCount"in f&&delete this.sheetProtection.spinCount),h()})}unprotect(){this.sheetProtection=null}addTable(c){const f=new r(this,c);return this.tables[c.name]=f,f}getTable(c){return this.tables[c]}removeTable(c){delete this.tables[c]}getTables(){return Object.values(this.tables)}addConditionalFormatting(c){this.conditionalFormattings.push(c)}removeConditionalFormatting(c){typeof c=="number"?this.conditionalFormattings.splice(c,1):this.conditionalFormattings=c instanceof Function?this.conditionalFormattings.filter(c):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(c){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=c}get model(){const c={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};c.cols=e.toModel(this.columns);const f=c.rows=[],h=c.dimensions=new l;return this._rows.forEach(w=>{const k=w&&w.model;k&&(h.expand(k.number,k.min,k.number,k.max),f.push(k))}),c.merges=[],m.each(this._merges,w=>{c.merges.push(w.range)}),c}_parseRows(c){this._rows=[],c.rows.forEach(f=>{const h=new n(this,f.number);this._rows[h.number-1]=h,h.model=f})}_parseMergeCells(c){m.each(c.mergeCells,f=>{this.mergeCellsWithoutStyle(f)})}set model(c){this.name=c.name,this._columns=e.fromModel(this,c.cols),this._parseRows(c),this._parseMergeCells(c),this.dataValidations=new s(c.dataValidations),this.properties=c.properties,this.pageSetup=c.pageSetup,this.headerFooter=c.headerFooter,this.views=c.views,this.autoFilter=c.autoFilter,this._media=c.media.map(f=>new a(this,f)),this.sheetProtection=c.sheetProtection,this.tables=c.tables.reduce((f,h)=>{const w=new r;return w.model=h,f[h.name]=w,f},{}),this.conditionalFormattings=c.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(i,T,S){i("core-js/modules/es.promise"),i("core-js/modules/es.promise.finally"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.values"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.async-iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.find-index"),i("core-js/modules/es.array.find"),i("core-js/modules/es.string.from-code-point"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.number.is-nan"),i("regenerator-runtime/runtime");const m={Workbook:i("./doc/workbook")},o=i("./doc/enums");Object.keys(o).forEach(l=>{m[l]=o[l]}),T.exports=m},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(i,T,S){const m=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");S.bufferToString=function(o){return typeof o=="string"?o:m?m.decode(o):o.toString()}},{}],17:[function(i,T,S){const m=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=i("buffer");S.stringToBuffer=function(l){return typeof l!="string"?l:m?o.from(m.encode(l).buffer):o.from(l)}},{buffer:220}],18:[function(i,T,S){const m=i("./under-dash"),o=i("./col-cache");T.exports=class{constructor(l){this.template=l,this.sheets={}}addCell(l){this.addCellEx(o.decodeEx(l))}getCell(l){return this.findCellEx(o.decodeEx(l),!0)}findCell(l){return this.findCellEx(o.decodeEx(l),!1)}findCellAt(l,n,e){const t=this.sheets[l],a=t&&t[n];return a&&a[e]}addCellEx(l){if(l.top)for(let n=l.top;n<=l.bottom;n++)for(let e=l.left;e<=l.right;e++)this.getCellAt(l.sheetName,n,e);else this.findCellEx(l,!0)}getCellEx(l){return this.findCellEx(l,!0)}findCellEx(l,n){const e=this.findSheet(l,n),t=this.findSheetRow(e,l,n);return this.findRowCell(t,l,n)}getCellAt(l,n,e){const t=this.sheets[l]||(this.sheets[l]=[]),a=t[n]||(t[n]=[]);return a[e]||(a[e]={sheetName:l,address:o.n2l(e)+n,row:n,col:e})}removeCellEx(l){const n=this.findSheet(l);if(!n)return;const e=this.findSheetRow(n,l);e&&delete e[l.col]}forEachInSheet(l,n){const e=this.sheets[l];e&&e.forEach((t,a)=>{t&&t.forEach((r,s)=>{r&&n(r,a,s)})})}forEach(l){m.each(this.sheets,(n,e)=>{this.forEachInSheet(e,l)})}map(l){const n=[];return this.forEach(e=>{n.push(l(e))}),n}findSheet(l,n){const e=l.sheetName;return this.sheets[e]?this.sheets[e]:n?this.sheets[e]=[]:void 0}findSheetRow(l,n,e){const{row:t}=n;return l&&l[t]?l[t]:e?l[t]=[]:void 0}findRowCell(l,n,e){const{col:t}=n;return l&&l[t]?l[t]:e?l[t]=this.template?Object.assign(n,JSON.parse(JSON.stringify(this.template))):n:void 0}spliceRows(l,n,e,t){const a=this.sheets[l];if(a){const r=[];for(let s=0;s<t;s++)r.push([]);a.splice(n,e,...r)}}spliceColumns(l,n,e,t){const a=this.sheets[l];if(a){const r=[];for(let s=0;s<t;s++)r.push(null);m.each(a,s=>{s.splice(n,e,...r)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(i,T,S){const m=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:l=>l<=26?1:l<=676?2:3,_fill(l){let n,e,t,a,r,s=1;if(l>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&l>=1){for(;s<=26;)n=this._dictionary[s-1],this._n2l[s]=n,this._l2n[n]=s,s++;this._l2nFill=1}if(this._l2nFill<2&&l>=2){for(s=27;s<=702;)e=s-27,t=e%26,a=Math.floor(e/26),n=this._dictionary[a]+this._dictionary[t],this._n2l[s]=n,this._l2n[n]=s,s++;this._l2nFill=2}if(this._l2nFill<3&&l>=3){for(s=703;s<=16384;)e=s-703,t=e%26,a=Math.floor(e/26)%26,r=Math.floor(e/676),n=this._dictionary[r]+this._dictionary[a]+this._dictionary[t],this._n2l[s]=n,this._l2n[n]=s,s++;this._l2nFill=3}},l2n(l){if(this._l2n[l]||this._fill(l.length),!this._l2n[l])throw new Error("Out of bounds. Invalid column letter: "+l);return this._l2n[l]},n2l(l){if(l<1||l>16384)throw new Error(l+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[l]||this._fill(this._level(l)),this._n2l[l]},_hash:{},validateAddress(l){if(!m.test(l))throw new Error("Invalid Address: "+l);return!0},decodeAddress(l){const n=l.length<5&&this._hash[l];if(n)return n;let e=!1,t="",a=0,r=!1,s="",d=0;for(let c,f=0;f<l.length;f++)if(c=l.charCodeAt(f),!r&&c>=65&&c<=90)e=!0,t+=l[f],a=26*a+c-64;else if(c>=48&&c<=57)r=!0,s+=l[f],d=10*d+c-48;else if(r&&e&&c!==36)break;if(e){if(a>16384)throw new Error("Out of bounds. Invalid column letter: "+t)}else a=void 0;r||(d=void 0);const u={address:l=t+s,col:a,row:d,$col$row:`$${t}$${s}`};return a<=100&&d<=100&&(this._hash[l]=u,this._hash[u.$col$row]=u),u},getAddress(l,n){if(n){const e=this.n2l(n)+l;return this.decodeAddress(e)}return this.decodeAddress(l)},decode(l){const n=l.split(":");if(n.length===2){const e=this.decodeAddress(n[0]),t=this.decodeAddress(n[1]),a={top:Math.min(e.row,t.row),left:Math.min(e.col,t.col),bottom:Math.max(e.row,t.row),right:Math.max(e.col,t.col)};return a.tl=this.n2l(a.left)+a.top,a.br=this.n2l(a.right)+a.bottom,a.dimensions=`${a.tl}:${a.br}`,a}return this.decodeAddress(l)},decodeEx(l){const n=l.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),e=n[1]||n[2],t=n[3],a=t.split(":");if(a.length>1){let s=this.decodeAddress(a[0]),d=this.decodeAddress(a[1]);const u=Math.min(s.row,d.row),c=Math.min(s.col,d.col),f=Math.max(s.row,d.row),h=Math.max(s.col,d.col);return s=this.n2l(c)+u,d=this.n2l(h)+f,{top:u,left:c,bottom:f,right:h,sheetName:e,tl:{address:s,col:c,row:u,$col$row:`$${this.n2l(c)}$${u}`,sheetName:e},br:{address:d,col:h,row:f,$col$row:`$${this.n2l(h)}$${f}`,sheetName:e},dimensions:`${s}:${d}`}}if(t.startsWith("#"))return e?{sheetName:e,error:t}:{error:t};const r=this.decodeAddress(t);return e?{sheetName:e,...r}:r},encodeAddress:(l,n)=>o.n2l(n)+l,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(l,n){const[e,t,,a,r]=l,[s,d]=n;return s>=e&&s<=a&&d>=t&&d<=r}};T.exports=o},{}],20:[function(i,T,S){const m=(l,n)=>({...l,...n.reduce((e,t)=>(l[t]&&(e[t]={...l[t]}),e),{})}),o=function(l,n,e){let t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];l[e]&&(n[e]=m(l[e],t))};S.copyStyle=l=>{if(!l)return l;if(n=l,Object.keys(n).length===0)return{};var n;const e={...l};return o(l,e,"font",["color"]),o(l,e,"alignment"),o(l,e,"protection"),l.border&&(o(l,e,"border"),o(l.border,e.border,"top",["color"]),o(l.border,e.border,"left",["color"]),o(l.border,e.border,"bottom",["color"]),o(l.border,e.border,"right",["color"]),o(l.border,e.border,"diagonal",["color"])),l.fill&&(o(l,e,"fill",["fgColor","bgColor","center"]),l.fill.stops&&(e.fill.stops=l.fill.stops.map(t=>m(t,["color"])))),e}},{}],21:[function(i,T,S){(function(m){(function(){const o=i("crypto"),l={hash(n){const e=o.createHash(n);for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return e.update(m.concat(a)),e.digest()},convertPasswordToHash(n,e,t,a){if(e=e.toLowerCase(),o.getHashes().indexOf(e)<0)throw new Error(`Hash algorithm '${e}' not supported!`);const r=m.from(n,"utf16le");let s=this.hash(e,m.from(t,"base64"),r);for(let d=0;d<a;d++){const u=m.alloc(4);u.writeUInt32LE(d,0),s=this.hash(e,s,u)}return s.toString("base64")},randomBytes:n=>o.randomBytes(n)};T.exports=l}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(i,T,S){const{SaxesParser:m}=i("saxes"),{PassThrough:o}=i("readable-stream"),{bufferToString:l}=i("./browser-buffer-decode");T.exports=async function*(n){n.pipe&&!n[Symbol.asyncIterator]&&(n=n.pipe(new o));const e=new m;let t;e.on("error",r=>{t=r});let a=[];e.on("opentag",r=>a.push({eventType:"opentag",value:r})),e.on("text",r=>a.push({eventType:"text",value:r})),e.on("closetag",r=>a.push({eventType:"closetag",value:r}));for await(const r of n){if(e.write(l(r)),t)throw t;yield a,a=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(i,T,S){const m=i("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,l=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;T.exports={slideFormula:function(n,e,t){const a=m.decode(e),r=m.decode(t);return n.replace(o,(s,d,u,c,f)=>{if(f)return s;const h=l.exec(c);if(h){const w=h[1],k=h[2].toUpperCase(),E=h[3],j=h[4];if(k.length>3||k.length===3&&k>"XFD")return s;let $=m.l2n(k),D=parseInt(j,10);return w||($+=r.col-a.col),E||(D+=r.row-a.row),(d||"")+(w||"")+m.n2l($)+(E||"")+D}return s})}}},{"./col-cache":19}],24:[function(i,T,S){(function(m,o){(function(){const l=i("readable-stream"),n=i("./utils"),e=i("./string-buf");class t{constructor(c,f){this._data=c,this._encoding=f}get length(){return this.toBuffer().length}copy(c,f,h,w){return this.toBuffer().copy(c,f,h,w)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class a{constructor(c){this._data=c}get length(){return this._data.length}copy(c,f,h,w){return this._data._buf.copy(c,f,h,w)}toBuffer(){return this._data.toBuffer()}}class r{constructor(c){this._data=c}get length(){return this._data.length}copy(c,f,h,w){this._data.copy(c,f,h,w)}toBuffer(){return this._data}}class s{constructor(c){this.size=c,this.buffer=o.alloc(c),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const c=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(c,0,this.iRead,this.iWrite),c}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(c){let f;return c===0?null:c===void 0||c>=this.length?(f=this.toBuffer(),this.iRead=this.iWrite,f):(f=o.alloc(c),this.buffer.copy(f,0,this.iRead,c),this.iRead+=c,f)}write(c,f,h){const w=Math.min(h,this.size-this.iWrite);return c.copy(this.buffer,this.iWrite,f,f+w),this.iWrite+=w,w}}const d=function(u){u=u||{},this.bufSize=u.bufSize||1048576,this.buffers=[],this.batch=u.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};n.inherits(d,l.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(u=>u.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const c=this.buffers[this.buffers.length-1];if(!c.full)return c}const u=new s(this.bufSize);return this.buffers.push(u),u},async _pipe(u){await Promise.all(this.pipes.map(function(c){return new Promise(f=>{c.write(u.toBuffer(),()=>{f()})})}))},_writeToBuffers(u){let c=0;const f=u.length;for(;c<f;)c+=this._getWritableBuffer().write(u,c,f-c)},async write(u,c,f){let h;if(c instanceof Function&&(f=c,c="utf8"),f=f||n.nop,u instanceof e)h=new a(u);else if(u instanceof o)h=new r(u);else{if(!(typeof u=="string"||u instanceof String||u instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");h=new t(u,c)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(h);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(h),m.nextTick(f)):(await this._pipe(h),f());else this.paused||this.emit("data",h.toBuffer()),this._writeToBuffers(h),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(u,c,f){const h=w=>{w?f(w):(this._flush(),this.pipes.forEach(k=>{k.end()}),this.emit("finish"))};u?this.write(u,c,h):h()},read(u){let c;if(u){for(c=[];u&&this.buffers.length&&!this.buffers[0].eod;){const f=this.buffers[0],h=f.read(u);u-=h.length,c.push(h),f.eod&&f.full&&this.buffers.shift()}return o.concat(c)}return c=this.buffers.map(f=>f.toBuffer()).filter(Boolean),this.buffers=[],o.concat(c)},setEncoding(u){this.encoding=u},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(u){this.pipes.push(u),!this.paused&&this.buffers.length&&this.end()},unpipe(u){this.pipes=this.pipes.filter(c=>c!==u)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),T.exports=d}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(i,T,S){(function(m){(function(){T.exports=class{constructor(o){this._buf=m.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=m.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let l=2*this._buf.length;for(;l<o;)l*=2;const n=m.alloc(l);this._buf.copy(n,0),this._buf=n}addText(o){this._buffer=void 0;let l=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;l>=this._buf.length-4;)this._grow(this._inPos+o.length),l=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=l}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220}],26:[function(i,T,S){const{toString:m}=Object.prototype,o=/["&<>]/,l={each:function(n,e){n&&(Array.isArray(n)?n.forEach(e):Object.keys(n).forEach(t=>{e(n[t],t)}))},some:function(n,e){return!!n&&(Array.isArray(n)?n.some(e):Object.keys(n).some(t=>e(n[t],t)))},every:function(n,e){return!n||(Array.isArray(n)?n.every(e):Object.keys(n).every(t=>e(n[t],t)))},map:function(n,e){return n?Array.isArray(n)?n.map(e):Object.keys(n).map(t=>e(n[t],t)):[]},keyBy:(n,e)=>n.reduce((t,a)=>(t[a[e]]=a,t),{}),isEqual:function(n,e){const t=typeof n,a=typeof e,r=Array.isArray(n),s=Array.isArray(e);let d;if(t!==a)return!1;switch(typeof n){case"object":if(r||s)return!(!r||!s)&&n.length===e.length&&n.every((u,c)=>{const f=e[c];return l.isEqual(u,f)});if(n===null||e===null)return n===e;if(d=Object.keys(n),Object.keys(e).length!==d.length)return!1;for(const u of d)if(!e.hasOwnProperty(u))return!1;return l.every(n,(u,c)=>{const f=e[c];return l.isEqual(u,f)});default:return n===e}},escapeHtml(n){const e=o.exec(n);if(!e)return n;let t="",a="",r=0,s=e.index;for(;s<n.length;s++){switch(n.charAt(s)){case'"':a="&quot;";break;case"&":a="&amp;";break;case"'":a="&apos;";break;case"<":a="&lt;";break;case">":a="&gt;";break;default:continue}r!==s&&(t+=n.substring(r,s)),r=s+1,t+=a}return r!==s?t+n.substring(r,s):t},strcmp:(n,e)=>n<e?-1:n>e?1:0,isUndefined:n=>m.call(n)==="[object Undefined]",isObject:n=>m.call(n)==="[object Object]",deepMerge(){const n=arguments[0]||{},{length:e}=arguments;let t,a,r;function s(d,u){t=n[u],r=Array.isArray(d),l.isObject(d)||r?(r?(r=!1,a=t&&Array.isArray(t)?t:[]):a=t&&l.isObject(t)?t:{},n[u]=l.deepMerge(a,d)):l.isUndefined(d)||(n[u]=d)}for(let d=0;d<e;d++)l.each(arguments[d],s);return n}};T.exports=l},{}],27:[function(i,T,S){(function(m,o){(function(){const l=i("fs"),n=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,e={nop(){},promiseImmediate:t=>new Promise(a=>{m.setImmediate?o(()=>{a(t)}):setTimeout(()=>{a(t)},1)}),inherits:function(t,a,r,s){t.super_=a,s||(s=r,r=null),r&&Object.keys(r).forEach(u=>{Object.defineProperty(t,u,Object.getOwnPropertyDescriptor(r,u))});const d={constructor:{value:t,enumerable:!1,writable:!1,configurable:!0}};s&&Object.keys(s).forEach(u=>{d[u]=Object.getOwnPropertyDescriptor(s,u)}),t.prototype=Object.create(a.prototype,d)},dateToExcel:(t,a)=>25569+t.getTime()/864e5-(a?1462:0),excelToDate(t,a){const r=Math.round(24*(t-25569+(a?1462:0))*3600*1e3);return new Date(r)},parsePath(t){const a=t.lastIndexOf("/");return{path:t.substring(0,a),name:t.substring(a+1)}},getRelsPath(t){const a=e.parsePath(t);return`${a.path}/_rels/${a.name}.rels`},xmlEncode(t){const a=n.exec(t);if(!a)return t;let r="",s="",d=0,u=a.index;for(;u<t.length;u++){const c=t.charCodeAt(u);switch(c){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&apos;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;case 127:s="";break;default:if(c<=31&&(c<=8||c>=11&&c!==13)){s="";break}continue}d!==u&&(r+=t.substring(d,u)),d=u+1,s&&(r+=s)}return d!==u?r+t.substring(d,u):r},xmlDecode:t=>t.replace(/&([a-z]*);/g,a=>{switch(a){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return a}}),validInt(t){const a=parseInt(t,10);return Number.isNaN(a)?0:a},isDateFmt(t){return t?(t=(t=t.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:t=>new Promise(a=>{l.access(t,l.constants.F_OK,r=>{a(!r)})})},toIsoDateString:t=>t.toIsoString().subsstr(0,10),parseBoolean:t=>t===!0||t==="true"||t===1||t==="1"};T.exports=e}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{},i("timers").setImmediate)},{fs:216,timers:523}],28:[function(i,T,S){const m=i("./under-dash"),o=i("./utils");function l(t,a,r){t.push(` ${a}="${o.xmlEncode(r.toString())}"`)}function n(t,a){if(a){const r=[];m.each(a,(s,d)=>{s!==void 0&&l(r,d,s)}),t.push(r.join(""))}}class e{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(a){const r=this._xml;r.push("<?xml"),n(r,a),r.push(`?>
`)}openNode(a,r){const s=this.tos,d=this._xml;s&&this.open&&d.push(">"),this._stack.push(a),d.push("<"),d.push(a),n(d,r),this.leaf=!0,this.open=!0}addAttribute(a,r){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");r!==void 0&&l(this._xml,a,r)}addAttributes(a){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");n(this._xml,a)}writeText(a){const r=this._xml;this.open&&(r.push(">"),this.open=!1),this.leaf=!1,r.push(o.xmlEncode(a.toString()))}writeXml(a){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(a)}closeNode(){const a=this._stack.pop(),r=this._xml;this.leaf?r.push("/>"):(r.push("</"),r.push(a),r.push(">")),this.open=!1,this.leaf=!1}leafNode(a,r,s){this.openNode(a,r),s!==void 0&&this.writeText(s),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const a=this._rollbacks.pop();this._xml.length>a.xml&&this._xml.splice(a.xml,this._xml.length-a.xml),this._stack.length>a.stack&&this._stack.splice(a.stack,this._stack.length-a.stack),this.leaf=a.leaf,this.open=a.open}get xml(){return this.closeAll(),this._xml.join("")}}e.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},T.exports=e},{"./under-dash":26,"./utils":27}],29:[function(i,T,S){(function(m){(function(){const o=i("events"),l=i("jszip"),n=i("./stream-buf"),{stringToBuffer:e}=i("./browser-buffer-encode");class t extends o.EventEmitter{constructor(r){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},r),this.zip=new l,this.stream=new n}append(r,s){s.hasOwnProperty("base64")&&s.base64?this.zip.file(s.name,r,{base64:!0}):(m.browser&&typeof r=="string"&&(r=e(r)),this.zip.file(s.name,r))}async finalize(){const r=await this.zip.generateAsync(this.options);this.stream.end(r),this.emit("finish")}read(r){return this.stream.read(r)}setEncoding(r){return this.stream.setEncoding(r)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(r,s){return this.stream.pipe(r,s)}unpipe(r){return this.stream.unpipe(r)}unshift(r){return this.stream.unshift(r)}wrap(r){return this.stream.wrap(r)}}T.exports={ZipWriter:t}}).call(this)}).call(this,i("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(i,T,S){T.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(i,T,S){T.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(i,T,S){const m=i("../../utils/parse-sax"),o=i("../../utils/xml-stream");class l{prepare(){}render(){}parseOpen(e){}parseText(e){}parseClose(e){}reconcile(e,t){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(e=>{e instanceof l?e.reset():e.xform&&e.xform.reset()})}mergeModel(e){this.model=Object.assign(this.model||{},e)}async parse(e){for await(const t of e)for(const{eventType:a,value:r}of t)if(a==="opentag")this.parseOpen(r);else if(a==="text")this.parseText(r);else if(a==="closetag"&&!this.parseClose(r.name))return this.model;return this.model}async parseStream(e){return this.parse(m(e))}get xml(){return this.toXml(this.model)}toXml(e){const t=new o;return this.render(t,e),t.xml}static toAttribute(e,t){let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e===void 0){if(a)return t}else if(a||e!==t)return e.toString()}static toStringAttribute(e,t){let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(e,t,a)}static toStringValue(e,t){return e===void 0?t:e}static toBoolAttribute(e,t){let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(e===void 0){if(a)return t}else if(a||e!==t)return e?"1":"0"}static toBoolValue(e,t){return e===void 0?t:e==="1"}static toIntAttribute(e,t){let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(e,t,a)}static toIntValue(e,t){return e===void 0?t:parseInt(e,10)}static toFloatAttribute(e,t){let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return l.toAttribute(e,t,a)}static toFloatValue(e,t){return e===void 0?t:parseFloat(e)}}T.exports=l},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(i,T,S){const m=i("../base-xform"),o=i("../../../utils/col-cache");function l(e){try{return o.decodeEx(e),!0}catch{return!1}}function n(e){const t=[];let a=!1,r="";return e.split(",").forEach(s=>{if(!s)return;const d=(s.match(/'/g)||[]).length;if(!d)return void(a?r+=s+",":l(s)&&t.push(s));const u=d%2==0;!a&&u&&l(s)?t.push(s):a&&!u?(a=!1,l(r+s)&&t.push(r+s),r=""):(a=!0,r+=s+",")}),t}T.exports=class extends m{render(e,t){e.openNode("definedName",{name:t.name,localSheetId:t.localSheetId}),e.writeText(t.ranges.join(",")),e.closeNode()}parseOpen(e){switch(e.name){case"definedName":return this._parsedName=e.attributes.name,this._parsedLocalSheetId=e.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(e){this._parsedText.push(e)}parseClose(){return this.model={name:this._parsedName,ranges:n(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(i,T,S){const m=i("../../../utils/utils"),o=i("../base-xform");T.exports=class extends o{render(l,n){l.leafNode("sheet",{sheetId:n.id,name:n.name,state:n.state,"r:id":n.rId})}parseOpen(l){return l.name==="sheet"&&(this.model={name:m.xmlDecode(l.attributes.name),id:parseInt(l.attributes.sheetId,10),state:l.attributes.state,rId:l.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{render(o,l){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:l.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{render(o,l){o.leafNode("workbookPr",{date1904:l.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{render(o,l){const n={xWindow:l.x||0,yWindow:l.y||0,windowWidth:l.width||12e3,windowHeight:l.height||24e3,firstSheet:l.firstSheet,activeTab:l.activeTab};l.visibility&&l.visibility!=="visible"&&(n.visibility=l.visibility),o.leafNode("workbookView",n)}parseOpen(o){if(o.name==="workbookView"){const l=this.model={},n=function(t,a,r){const s=a!==void 0?l[t]=a:r;s!==void 0&&(l[t]=s)},e=function(t,a,r){const s=a!==void 0?l[t]=parseInt(a,10):r;s!==void 0&&(l[t]=s)};return e("x",o.attributes.xWindow,0),e("y",o.attributes.yWindow,0),e("width",o.attributes.windowWidth,25e3),e("height",o.attributes.windowHeight,1e4),n("visibility",o.attributes.visibility,"visible"),e("activeTab",o.attributes.activeTab,void 0),e("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../../../utils/col-cache"),l=i("../../../utils/xml-stream"),n=i("../base-xform"),e=i("../static-xform"),t=i("../list-xform"),a=i("./defined-name-xform"),r=i("./sheet-xform"),s=i("./workbook-view-xform"),d=i("./workbook-properties-xform"),u=i("./workbook-calc-properties-xform");class c extends n{constructor(){super(),this.map={fileVersion:c.STATIC_XFORMS.fileVersion,workbookPr:new d,bookViews:new t({tag:"bookViews",count:!1,childXform:new s}),sheets:new t({tag:"sheets",count:!1,childXform:new r}),definedNames:new t({tag:"definedNames",count:!1,childXform:new a}),calcPr:new u}}prepare(h){h.sheets=h.worksheets;const w=[];let k=0;h.sheets.forEach(E=>{if(E.pageSetup&&E.pageSetup.printArea&&E.pageSetup.printArea.split("&&").forEach(j=>{const $=j.split(":"),D={name:"_xlnm.Print_Area",ranges:[`'${E.name}'!$${$[0]}:$${$[1]}`],localSheetId:k};w.push(D)}),E.pageSetup&&(E.pageSetup.printTitlesRow||E.pageSetup.printTitlesColumn)){const j=[];if(E.pageSetup.printTitlesColumn){const D=E.pageSetup.printTitlesColumn.split(":");j.push(`'${E.name}'!$${D[0]}:$${D[1]}`)}if(E.pageSetup.printTitlesRow){const D=E.pageSetup.printTitlesRow.split(":");j.push(`'${E.name}'!$${D[0]}:$${D[1]}`)}const $={name:"_xlnm.Print_Titles",ranges:j,localSheetId:k};w.push($)}k++}),w.length&&(h.definedNames=h.definedNames.concat(w)),(h.media||[]).forEach((E,j)=>{E.name=E.type+(j+1)})}render(h,w){h.openXml(l.StdDocAttributes),h.openNode("workbook",c.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(h),this.map.workbookPr.render(h,w.properties),this.map.bookViews.render(h,w.views),this.map.sheets.render(h,w.sheets),this.map.definedNames.render(h,w.definedNames),this.map.calcPr.render(h,w.calcProperties),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"workbook":return!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(h){const w=(h.workbookRels||[]).reduce((D,P)=>(D[P.Id]=P,D),{}),k=[];let E,j=0;(h.sheets||[]).forEach(D=>{const P=w[D.rId];P&&(E=h.worksheetHash["xl/"+P.Target.replace(/^(\s|\/xl\/)+/,"")],E&&(E.name=D.name,E.id=D.id,E.state=D.state,k[j++]=E))});const $=[];m.each(h.definedNames,D=>{if(D.name==="_xlnm.Print_Area"){if(E=k[D.localSheetId],E){E.pageSetup||(E.pageSetup={});const P=o.decodeEx(D.ranges[0]);E.pageSetup.printArea=E.pageSetup.printArea?`${E.pageSetup.printArea}&&${P.dimensions}`:P.dimensions}}else if(D.name==="_xlnm.Print_Titles"){if(E=k[D.localSheetId],E){E.pageSetup||(E.pageSetup={});const P=D.ranges.join(","),R=/\$/g,H=/\$\d+:\$\d+/,N=P.match(H);if(N&&N.length){const v=N[0];E.pageSetup.printTitlesRow=v.replace(R,"")}const _=/\$[A-Z]+:\$[A-Z]+/,C=P.match(_);if(C&&C.length){const v=C[0];E.pageSetup.printTitlesColumn=v.replace(R,"")}}}else $.push(D)}),h.definedNames=$,h.media.forEach((D,P)=>{D.index=P})}}c.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c.STATIC_XFORMS={fileVersion:new e({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},T.exports=c},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(i,T,S){const m=i("../strings/rich-text-xform"),o=i("../../../utils/utils"),l=i("../base-xform"),n=T.exports=function(e){this.model=e};o.inherits(n,l,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new m),this._richTextXform},render(e,t){t=t||this.model,e.openNode("comment",{ref:t.ref,authorId:0}),e.openNode("text"),t&&t.note&&t.note.texts&&t.note.texts.forEach(a=>{this.richTextXform.render(e,a)}),e.closeNode(),e.closeNode()},parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"comment":return this.model={type:"note",note:{texts:[]},...e.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(e),!0;default:return!1}},parseText(e){this.parser&&this.parser.parseText(e)},parseClose(e){switch(e){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(e),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(i,T,S){const m=i("../../../utils/xml-stream"),o=i("../../../utils/utils"),l=i("../base-xform"),n=i("./comment-xform"),e=T.exports=function(){this.map={comment:new n}};o.inherits(e,l,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(t,a){a=a||this.model,t.openXml(m.StdDocAttributes),t.openNode("comments",e.COMMENTS_ATTRIBUTES),t.openNode("authors"),t.leafNode("author",null,"Author"),t.closeNode(),t.openNode("commentList"),a.comments.forEach(r=>{this.map.comment.render(t,r)}),t.closeNode(),t.closeNode()},parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(t),!0;default:return!1}},parseText(t){this.parser&&this.parser.parseText(t)},parseClose(t){switch(t){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(i,T,S){const m=i("../../base-xform");T.exports=class extends m{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,l,n){(l===n[2]||this.tag==="x:SizeWithCells"&&l===n[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(i,T,S){const m=i("../../base-xform");T.exports=class extends m{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"x:Anchor"}getAnchorRect(o){const l=Math.floor(o.left),n=Math.floor(68*(o.left-l)),e=Math.floor(o.top),t=Math.floor(18*(o.top-e)),a=Math.floor(o.right),r=Math.floor(68*(o.right-a)),s=Math.floor(o.bottom);return[l,n,e,t,a,r,s,Math.floor(18*(o.bottom-s))]}getDefaultRect(o){const l=o.col,n=Math.max(o.row-2,0);return[l,6,n,14,l+2,2,n+4,16]}render(o,l){const n=l.anchor?this.getAnchorRect(l.anchor):this.getDefaultRect(l.refAddress);o.leafNode("x:Anchor",null,n.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(i,T,S){const m=i("../base-xform"),o=i("./vml-anchor-xform"),l=i("./style/vml-protection-xform"),n=i("./style/vml-position-xform"),e=["twoCells","oneCells","absolute"];T.exports=class extends m{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new l({tag:"x:Locked"}),"x:LockText":new l({tag:"x:LockText"}),"x:SizeWithCells":new n({tag:"x:SizeWithCells"}),"x:MoveWithCells":new n({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(t,a){const{protection:r,editAs:s}=a.note;t.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(t,s,e),this.map["x:SizeWithCells"].render(t,s,e),this.map["x:Anchor"].render(t,a),this.map["x:Locked"].render(t,r.locked),t.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(t,r.lockText),t.leafNode("x:Row",null,a.refAddress.row-1),t.leafNode("x:Column",null,a.refAddress.col-1),t.closeNode()}parseOpen(t){switch(t.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)}return!0}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const t=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),a=Object.keys(t).length;this.model.editAs=e[a],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(i,T,S){const m=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("./vml-shape-xform");class n extends o{constructor(){super(),this.map={"v:shape":new l}}get tag(){return"xml"}render(t,a){t.openXml(m.StdDocAttributes),t.openNode(this.tag,n.DRAWING_ATTRIBUTES),t.openNode("o:shapelayout",{"v:ext":"edit"}),t.leafNode("o:idmap",{"v:ext":"edit",data:1}),t.closeNode(),t.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),t.leafNode("v:stroke",{joinstyle:"miter"}),t.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),t.closeNode(),a.comments.forEach((r,s)=>{this.map["v:shape"].render(t,r,s)}),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)}return!0}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(t){case this.tag:return!1;default:return!0}}reconcile(t,a){t.anchors.forEach(r=>{r.br?this.map["xdr:twoCellAnchor"].reconcile(r,a):this.map["xdr:oneCellAnchor"].reconcile(r,a)})}}n.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},T.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(i,T,S){const m=i("../base-xform"),o=i("./vml-textbox-xform"),l=i("./vml-client-data-xform");class n extends m{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new l}}get tag(){return"v:shape"}render(t,a,r){t.openNode("v:shape",n.V_SHAPE_ATTRIBUTES(a,r)),t.leafNode("v:fill",{color2:"infoBackground [80]"}),t.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),t.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(t,a),this.map["x:ClientData"].render(t,a),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:this.reset(),this.model={margins:{insetmode:t.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)}return!0}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}n.V_SHAPE_ATTRIBUTES=(e,t)=>({id:"_x0000_s"+(1025+t),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":e.note.margins&&e.note.margins.insetmode}),T.exports=n},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"v:textbox"}conversionUnit(o,l,n){return`${parseFloat(o)*l.toFixed(2)}${n}`}reverseConversionUnit(o){return(o||"").split(",").map(l=>Number(parseFloat(this.conversionUnit(parseFloat(l),.1,"")).toFixed(2)))}render(o,l){const n={style:"mso-direction-alt:auto"};if(l&&l.note){let{inset:e}=l.note&&l.note.margins;Array.isArray(e)&&(e=e.map(t=>this.conversionUnit(t,10,"mm")).join(",")),e&&(n.inset=e)}o.openNode("v:textbox",n),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(i,T,S){const m=i("./base-xform");T.exports=class extends m{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,l){this.model[o]=l.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{render(o,l){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,l.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{render(o,l){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:l.length,baseType:"lpstr"}),l.forEach(n=>{o.leafNode("vt:lpstr",void 0,n.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(i,T,S){const m=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("../simple/string-xform"),n=i("./app-heading-pairs-xform"),e=i("./app-titles-of-parts-xform");class t extends o{constructor(){super(),this.map={Company:new l({tag:"Company"}),Manager:new l({tag:"Manager"}),HeadingPairs:new n,TitleOfParts:new e}}render(r,s){r.openXml(m.StdDocAttributes),r.openNode("Properties",t.PROPERTY_ATTRIBUTES),r.leafNode("Application",void 0,"Microsoft Excel"),r.leafNode("DocSecurity",void 0,"0"),r.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(r,s.worksheets),this.map.TitleOfParts.render(r,s.worksheets),this.map.Company.render(r,s.company||""),this.map.Manager.render(r,s.manager),r.leafNode("LinksUpToDate",void 0,"false"),r.leafNode("SharedDoc",void 0,"false"),r.leafNode("HyperlinksChanged",void 0,"false"),r.leafNode("AppVersion",void 0,"16.0300"),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"Properties":return!0;default:return this.parser=this.map[r.name],!!this.parser&&(this.parser.parseOpen(r),!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}t.DateFormat=function(a){return a.toISOString().replace(/[.]\d{3,6}/,"")},t.DateAttrs={"xsi:type":"dcterms:W3CDTF"},t.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},T.exports=t},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(i,T,S){const m=i("../../../utils/xml-stream"),o=i("../base-xform");class l extends o{render(e,t){e.openXml(m.StdDocAttributes),e.openNode("Types",l.PROPERTY_ATTRIBUTES);const a={};(t.media||[]).forEach(r=>{if(r.type==="image"){const s=r.extension;a[s]||(a[s]=!0,e.leafNode("Default",{Extension:s,ContentType:"image/"+s}))}}),e.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),e.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),e.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),t.worksheets.forEach(r=>{const s=`/xl/worksheets/sheet${r.id}.xml`;e.leafNode("Override",{PartName:s,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),e.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),e.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),t.sharedStrings&&t.sharedStrings.count&&e.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),t.tables&&t.tables.forEach(r=>{e.leafNode("Override",{PartName:"/xl/tables/"+r.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),t.drawings&&t.drawings.forEach(r=>{e.leafNode("Override",{PartName:`/xl/drawings/${r.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),t.commentRefs&&(e.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),t.commentRefs.forEach(r=>{let{commentName:s}=r;e.leafNode("Override",{PartName:`/xl/${s}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),e.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),e.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),e.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}l.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},T.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(i,T,S){const m=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("../simple/date-xform"),n=i("../simple/string-xform"),e=i("../simple/integer-xform");class t extends o{constructor(){super(),this.map={"dc:creator":new n({tag:"dc:creator"}),"dc:title":new n({tag:"dc:title"}),"dc:subject":new n({tag:"dc:subject"}),"dc:description":new n({tag:"dc:description"}),"dc:identifier":new n({tag:"dc:identifier"}),"dc:language":new n({tag:"dc:language"}),"cp:keywords":new n({tag:"cp:keywords"}),"cp:category":new n({tag:"cp:category"}),"cp:lastModifiedBy":new n({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new l({tag:"cp:lastPrinted",format:t.DateFormat}),"cp:revision":new e({tag:"cp:revision"}),"cp:version":new n({tag:"cp:version"}),"cp:contentStatus":new n({tag:"cp:contentStatus"}),"cp:contentType":new n({tag:"cp:contentType"}),"dcterms:created":new l({tag:"dcterms:created",attrs:t.DateAttrs,format:t.DateFormat}),"dcterms:modified":new l({tag:"dcterms:modified",attrs:t.DateAttrs,format:t.DateFormat})}}render(r,s){r.openXml(m.StdDocAttributes),r.openNode("cp:coreProperties",t.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(r,s.creator),this.map["dc:title"].render(r,s.title),this.map["dc:subject"].render(r,s.subject),this.map["dc:description"].render(r,s.description),this.map["dc:identifier"].render(r,s.identifier),this.map["dc:language"].render(r,s.language),this.map["cp:keywords"].render(r,s.keywords),this.map["cp:category"].render(r,s.category),this.map["cp:lastModifiedBy"].render(r,s.lastModifiedBy),this.map["cp:lastPrinted"].render(r,s.lastPrinted),this.map["cp:revision"].render(r,s.revision),this.map["cp:version"].render(r,s.version),this.map["cp:contentStatus"].render(r,s.contentStatus),this.map["cp:contentType"].render(r,s.contentType),this.map["dcterms:created"].render(r,s.created),this.map["dcterms:modified"].render(r,s.modified),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[r.name],this.parser)return this.parser.parseOpen(r),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(r))}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.parser=void 0),!0;switch(r){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+r)}}}t.DateFormat=function(a){return a.toISOString().replace(/[.]\d{3}/,"")},t.DateAttrs={"xsi:type":"dcterms:W3CDTF"},t.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},T.exports=t},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{render(o,l){o.leafNode("Relationship",l)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(i,T,S){const m=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("./relationship-xform");class n extends o{constructor(){super(),this.map={Relationship:new l}}render(t,a){a=a||this._values,t.openXml(m.StdDocAttributes),t.openNode("Relationships",n.RELATIONSHIPS_ATTRIBUTES),a.forEach(r=>{this.map.Relationship.render(t,r)}),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[t.name],this.parser)return this.parser.parseOpen(t),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(t))}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(t){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+t)}}}n.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},T.exports=n},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,l){if(o&&o.rId){const n=l.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(n){const e=n[1],t=l.mediaIndex[e];return l.media[t]}}}}},{"../base-xform":32}],57:[function(i,T,S){const m=i("../base-xform"),o=i("./blip-xform");T.exports=class extends m{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(l,n){l.openNode(this.tag),this.map["a:blip"].render(l,n),l.openNode("a:stretch"),l.leafNode("a:fillRect"),l.closeNode(),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"a:blip"}render(o,l){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":l.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(i,T,S){const m=i("../base-xform"),o=i("./hlink-click-xform"),l=i("./ext-lst-xform");T.exports=class extends m{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new l}}get tag(){return"xdr:cNvPr"}render(n,e){n.openNode(this.tag,{id:e.index,name:"Picture "+e.index}),this.map["a:hlinkClick"].render(n,e),this.map["a:extLst"].render(n,e),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(i,T,S){const m=i("../base-xform"),o=i("../simple/integer-xform");T.exports=class extends m{constructor(l){super(),this.tag=l.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(l,n){l.openNode(this.tag),this.map["xdr:col"].render(l,n.nativeCol),this.map["xdr:colOff"].render(l,n.nativeColOff),this.map["xdr:row"].render(l,n.nativeRow),this.map["xdr:rowOff"].render(l,n.nativeRowOff),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(i,T,S){const m=i("../../../utils/col-cache"),o=i("../../../utils/xml-stream"),l=i("../base-xform"),n=i("./two-cell-anchor-xform"),e=i("./one-cell-anchor-xform");class t extends l{constructor(){super(),this.map={"xdr:twoCellAnchor":new n,"xdr:oneCellAnchor":new e}}prepare(r){r.anchors.forEach((s,d)=>{s.anchorType=function(u){return(typeof u.range=="string"?m.decode(u.range):u.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(s),this.map[s.anchorType].prepare(s,{index:d})})}get tag(){return"xdr:wsDr"}render(r,s){r.openXml(o.StdDocAttributes),r.openNode(this.tag,t.DRAWING_ATTRIBUTES),s.anchors.forEach(d=>{this.map[d.anchorType].render(r,d)}),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r)}return!0}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){if(this.parser)return this.parser.parseClose(r)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(r){case this.tag:return!1;default:return!0}}reconcile(r,s){r.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,s):this.map["xdr:oneCellAnchor"].reconcile(d,s)})}}t.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},T.exports=t},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,l){o.openNode(this.tag);const n=Math.floor(9525*l.width),e=Math.floor(9525*l.height);o.addAttribute("cx",n),o.addAttribute("cy",e),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"a:hlinkClick"}render(o,l){l.hyperlinks&&l.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":l.hyperlinks.rId,tooltip:l.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(i,T,S){const m=i("../base-xform"),o=i("./c-nv-pr-xform"),l=i("./c-nv-pic-pr-xform");T.exports=class extends m{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new l}}get tag(){return"xdr:nvPicPr"}render(n,e){n.openNode(this.tag),this.map["xdr:cNvPr"].render(n,e),this.map["xdr:cNvPicPr"].render(n,e),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case this.tag:this.reset();break;default:this.parser=this.map[n.name],this.parser&&this.parser.parseOpen(n)}return!0}parseText(){}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;switch(n){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(i,T,S){const m=i("./base-cell-anchor-xform"),o=i("../static-xform"),l=i("./cell-position-xform"),n=i("./ext-xform"),e=i("./pic-xform");T.exports=class extends m{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:ext":new n({tag:"xdr:ext"}),"xdr:pic":new e,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(t,a){this.map["xdr:pic"].prepare(t.picture,a)}render(t,a){t.openNode(this.tag,{editAs:a.range.editAs||"oneCell"}),this.map["xdr:from"].render(t,a.range.tl),this.map["xdr:ext"].render(t,a.range.ext),this.map["xdr:pic"].render(t,a.picture),this.map["xdr:clientData"].render(t,{}),t.closeNode()}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.parser=void 0),!0;switch(t){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(t,a){t.medium=this.reconcilePicture(t.picture,a)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(i,T,S){const m=i("../base-xform"),o=i("../static-xform"),l=i("./blip-fill-xform"),n=i("./nv-pic-pr-xform"),e=i("./sp-pr");T.exports=class extends m{constructor(){super(),this.map={"xdr:nvPicPr":new n,"xdr:blipFill":new l,"xdr:spPr":new o(e)}}get tag(){return"xdr:pic"}prepare(t,a){t.index=a.index+1}render(t,a){t.openNode(this.tag),this.map["xdr:nvPicPr"].render(t,a),this.map["xdr:blipFill"].render(t,a),this.map["xdr:spPr"].render(t,a),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.tag:this.reset();break;default:this.parser=this.map[t.name],this.parser&&this.parser.parseOpen(t)}return!0}parseText(){}parseClose(t){if(this.parser)return this.parser.parseClose(t)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(t){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(i,T,S){T.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(i,T,S){const m=i("./base-cell-anchor-xform"),o=i("../static-xform"),l=i("./cell-position-xform"),n=i("./pic-xform");T.exports=class extends m{constructor(){super(),this.map={"xdr:from":new l({tag:"xdr:from"}),"xdr:to":new l({tag:"xdr:to"}),"xdr:pic":new n,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(e,t){this.map["xdr:pic"].prepare(e.picture,t)}render(e,t){e.openNode(this.tag,{editAs:t.range.editAs||"oneCell"}),this.map["xdr:from"].render(e,t.range.tl),this.map["xdr:to"].render(e,t.range.br),this.map["xdr:pic"].render(e,t.picture),this.map["xdr:clientData"].render(e,{}),e.closeNode()}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(e,t){e.medium=this.reconcilePicture(e.picture,t)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(i,T,S){const m=i("./base-xform");T.exports=class extends m{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,l){const{childXform:n}=this;o&&o.forEach((e,t)=>{l.index=t,n.prepare(e,l)})}render(o,l){if(this.always||l&&l.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,l&&l.length||0);const{childXform:n}=this;(l||[]).forEach((e,t)=>{n.render(o,e,t)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,l){if(o){const{childXform:n}=this;o.forEach(e=>{n.reconcile(e,l)})}}}},{"./base-xform":32}],72:[function(i,T,S){const m=i("../../../utils/col-cache"),o=i("../base-xform");T.exports=class extends o{get tag(){return"autoFilter"}render(l,n){if(n)if(typeof n=="string")l.leafNode("autoFilter",{ref:n});else{const e=function(r){return typeof r=="string"?r:m.getAddress(r.row,r.column).address},t=e(n.from),a=e(n.to);t&&a&&l.leafNode("autoFilter",{ref:`${t}:${a}`})}}parseOpen(l){l.name==="autoFilter"&&(this.model=l.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(i,T,S){const m=i("../../../utils/utils"),o=i("../base-xform"),l=i("../../../doc/range"),n=i("../../../doc/enums"),e=i("../strings/rich-text-xform");function t(a){if(a==null)return n.ValueType.Null;if(a instanceof String||typeof a=="string")return n.ValueType.String;if(typeof a=="number")return n.ValueType.Number;if(typeof a=="boolean")return n.ValueType.Boolean;if(a instanceof Date)return n.ValueType.Date;if(a.text&&a.hyperlink)return n.ValueType.Hyperlink;if(a.formula)return n.ValueType.Formula;if(a.error)return n.ValueType.Error;throw new Error("I could not understand type of value")}T.exports=class extends o{constructor(){super(),this.richTextXForm=new e}get tag(){return"c"}prepare(a,r){const s=r.styles.addStyleModel(a.style||{},function(d){switch(d.type){case n.ValueType.Formula:return t(d.result);default:return d.type}}(a));switch(s&&(a.styleId=s),a.comment&&r.comments.push({...a.comment,ref:a.address}),a.type){case n.ValueType.String:case n.ValueType.RichText:r.sharedStrings&&(a.ssId=r.sharedStrings.add(a.value));break;case n.ValueType.Date:r.date1904&&(a.date1904=!0);break;case n.ValueType.Hyperlink:r.sharedStrings&&a.text!==void 0&&a.text!==null&&(a.ssId=r.sharedStrings.add(a.text)),r.hyperlinks.push({address:a.address,target:a.hyperlink,tooltip:a.tooltip});break;case n.ValueType.Merge:r.merges.add(a);break;case n.ValueType.Formula:if(r.date1904&&(a.date1904=!0),a.shareType==="shared"&&(a.si=r.siFormulae++),a.formula)r.formulae[a.address]=a;else if(a.sharedFormula){const d=r.formulae[a.sharedFormula];if(!d)throw new Error("Shared Formula master must exist above and or left of clone for cell "+a.address);d.si===void 0?(d.shareType="shared",d.si=r.siFormulae++,d.range=new l(d.address,a.address)):d.range&&d.range.expandToAddress(a.address),a.si=d.si}}}renderFormula(a,r){let s=null;switch(r.shareType){case"shared":s={t:"shared",ref:r.ref||r.range.range,si:r.si};break;case"array":s={t:"array",ref:r.ref};break;default:r.si!==void 0&&(s={t:"shared",si:r.si})}switch(t(r.result)){case n.ValueType.Null:a.leafNode("f",s,r.formula);break;case n.ValueType.String:a.addAttribute("t","str"),a.leafNode("f",s,r.formula),a.leafNode("v",null,r.result);break;case n.ValueType.Number:a.leafNode("f",s,r.formula),a.leafNode("v",null,r.result);break;case n.ValueType.Boolean:a.addAttribute("t","b"),a.leafNode("f",s,r.formula),a.leafNode("v",null,r.result?1:0);break;case n.ValueType.Error:a.addAttribute("t","e"),a.leafNode("f",s,r.formula),a.leafNode("v",null,r.result.error);break;case n.ValueType.Date:a.leafNode("f",s,r.formula),a.leafNode("v",null,m.dateToExcel(r.result,r.date1904));break;default:throw new Error("I could not understand type of value")}}render(a,r){if(r.type!==n.ValueType.Null||r.styleId){switch(a.openNode("c"),a.addAttribute("r",r.address),r.styleId&&a.addAttribute("s",r.styleId),r.type){case n.ValueType.Null:break;case n.ValueType.Number:a.leafNode("v",null,r.value);break;case n.ValueType.Boolean:a.addAttribute("t","b"),a.leafNode("v",null,r.value?"1":"0");break;case n.ValueType.Error:a.addAttribute("t","e"),a.leafNode("v",null,r.value.error);break;case n.ValueType.String:case n.ValueType.RichText:r.ssId!==void 0?(a.addAttribute("t","s"),a.leafNode("v",null,r.ssId)):r.value&&r.value.richText?(a.addAttribute("t","inlineStr"),a.openNode("is"),r.value.richText.forEach(s=>{this.richTextXForm.render(a,s)}),a.closeNode("is")):(a.addAttribute("t","str"),a.leafNode("v",null,r.value));break;case n.ValueType.Date:a.leafNode("v",null,m.dateToExcel(r.value,r.date1904));break;case n.ValueType.Hyperlink:r.ssId!==void 0?(a.addAttribute("t","s"),a.leafNode("v",null,r.ssId)):(a.addAttribute("t","str"),a.leafNode("v",null,r.text));break;case n.ValueType.Formula:this.renderFormula(a,r);break;case n.ValueType.Merge:}a.closeNode()}}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"c":return this.model={address:a.attributes.r},this.t=a.attributes.t,a.attributes.s&&(this.model.styleId=parseInt(a.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=a.attributes.si,this.model.shareType=a.attributes.t,this.model.ref=a.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){if(this.parser)this.parser.parseText(a);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+a:a;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+a:a:this.model.value=this.model.value?this.model.value+a:a}}parseClose(a){switch(a){case"c":{const{model:r}=this;if(r.formula||r.shareType)r.type=n.ValueType.Formula,r.value&&(this.t==="str"?r.result=m.xmlDecode(r.value):this.t==="b"?r.result=parseInt(r.value,10)!==0:this.t==="e"?r.result={error:r.value}:r.result=parseFloat(r.value),r.value=void 0);else if(r.value!==void 0)switch(this.t){case"s":r.type=n.ValueType.String,r.value=parseInt(r.value,10);break;case"str":r.type=n.ValueType.String,r.value=m.xmlDecode(r.value);break;case"inlineStr":r.type=n.ValueType.String;break;case"b":r.type=n.ValueType.Boolean,r.value=parseInt(r.value,10)!==0;break;case"e":r.type=n.ValueType.Error,r.value={error:r.value};break;default:r.type=n.ValueType.Number,r.value=parseFloat(r.value)}else r.styleId?r.type=n.ValueType.Null:r.type=n.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(a),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(a),!0)}}reconcile(a,r){const s=a.styleId&&r.styles&&r.styles.getStyleModel(a.styleId);switch(s&&(a.style=s),a.styleId!==void 0&&(a.styleId=void 0),a.type){case n.ValueType.String:typeof a.value=="number"&&r.sharedStrings&&(a.value=r.sharedStrings.getString(a.value)),a.value.richText&&(a.type=n.ValueType.RichText);break;case n.ValueType.Number:s&&m.isDateFmt(s.numFmt)&&(a.type=n.ValueType.Date,a.value=m.excelToDate(a.value,r.date1904));break;case n.ValueType.Formula:a.result!==void 0&&s&&m.isDateFmt(s.numFmt)&&(a.result=m.excelToDate(a.result,r.date1904)),a.shareType==="shared"&&(a.ref?r.formulae[a.si]=a.address:(a.sharedFormula=r.formulae[a.si],delete a.shareType),delete a.si)}const d=r.hyperlinkMap[a.address];d&&(a.type===n.ValueType.Formula?(a.text=a.result,a.result=void 0):(a.text=a.value,a.value=void 0),a.type=n.ValueType.Hyperlink,a.hyperlink=d);const u=r.commentsMap&&r.commentsMap[a.address];u&&(a.comment=u)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(i,T,S){const m=i("../../base-xform");T.exports=class extends m{get tag(){return"x14:cfIcon"}render(o,l){o.leafNode(this.tag,{iconSet:l.iconSet,iconId:l.iconId})}parseOpen(o){let{attributes:l}=o;this.model={iconSet:l.iconSet,iconId:m.toIntValue(l.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(i,T,S){const{v4:m}=i("uuid"),o=i("../../base-xform"),l=i("../../composite-xform"),n=i("./databar-ext-xform"),e=i("./icon-set-ext-xform"),t={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class a extends l{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new n,"x14:iconSet":this.iconSetXform=new e}}get tag(){return"x14:cfRule"}static isExt(s){return s.type==="dataBar"?n.isExt(s):!(s.type!=="iconSet"||!s.custom&&!t[s.iconSet])}prepare(s){a.isExt(s)&&(s.x14Id=`{${m()}}`.toUpperCase())}render(s,d){if(a.isExt(d))switch(d.type){case"dataBar":this.renderDataBar(s,d);break;case"iconSet":this.renderIconSet(s,d)}}renderDataBar(s,d){s.openNode(this.tag,{type:"dataBar",id:d.x14Id}),this.databarXform.render(s,d),s.closeNode()}renderIconSet(s,d){s.openNode(this.tag,{type:"iconSet",priority:d.priority,id:d.x14Id||`{${m()}}`}),this.iconSetXform.render(s,d),s.closeNode()}createNewModel(s){let{attributes:d}=s;return{type:d.type,x14Id:d.id,priority:o.toIntValue(d.priority)}}onParserClose(s,d){Object.assign(this.model,d.model)}}T.exports=a},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(i,T,S){const m=i("../../composite-xform"),o=i("./f-ext-xform");T.exports=class extends m{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(l,n){l.openNode(this.tag,{type:n.type}),n.value!==void 0&&this.fExtXform.render(l,n.value),l.closeNode()}createNewModel(l){return{type:l.attributes.type}}onParserClose(l,n){switch(l){case"xm:f":this.model.value=n.model?parseFloat(n.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(i,T,S){const m=i("../../composite-xform"),o=i("./sqref-ext-xform"),l=i("./cf-rule-ext-xform");T.exports=class extends m{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new l}}get tag(){return"x14:conditionalFormatting"}prepare(n,e){n.rules.forEach(t=>{this.cfRule.prepare(t,e)})}render(n,e){e.rules.some(l.isExt)&&(n.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),e.rules.filter(l.isExt).forEach(t=>this.cfRule.render(n,t)),this.sqRef.render(n,e.ref),n.closeNode())}createNewModel(){return{rules:[]}}onParserClose(n,e){switch(n){case"xm:sqref":this.model.ref=e.model;break;case"x14:cfRule":this.model.rules.push(e.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(i,T,S){const m=i("../../composite-xform"),o=i("./cf-rule-ext-xform"),l=i("./conditional-formatting-ext-xform");T.exports=class extends m{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new l}}get tag(){return"x14:conditionalFormattings"}hasContent(n){return n.hasExtContent===void 0&&(n.hasExtContent=n.some(e=>e.rules.some(o.isExt))),n.hasExtContent}prepare(n,e){n.forEach(t=>{this.cfXform.prepare(t,e)})}render(n,e){this.hasContent(e)&&(n.openNode(this.tag),e.forEach(t=>this.cfXform.render(n,t)),n.closeNode())}createNewModel(){return[]}onParserClose(n,e){this.model.push(e.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(i,T,S){const m=i("../../base-xform"),o=i("../../composite-xform"),l=i("../../style/color-xform"),n=i("./cfvo-ext-xform");T.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new n,"x14:borderColor":this.borderColorXform=new l("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new l("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new l("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new l("x14:axisColor")}}static isExt(e){return!e.gradient}get tag(){return"x14:dataBar"}render(e,t){e.openNode(this.tag,{minLength:m.toIntAttribute(t.minLength,0,!0),maxLength:m.toIntAttribute(t.maxLength,100,!0),border:m.toBoolAttribute(t.border,!1),gradient:m.toBoolAttribute(t.gradient,!0),negativeBarColorSameAsPositive:m.toBoolAttribute(t.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:m.toBoolAttribute(t.negativeBarBorderColorSameAsPositive,!0),axisPosition:m.toAttribute(t.axisPosition,"auto"),direction:m.toAttribute(t.direction,"leftToRight")}),t.cfvo.forEach(a=>{this.cfvoXform.render(e,a)}),this.borderColorXform.render(e,t.borderColor),this.negativeBorderColorXform.render(e,t.negativeBorderColor),this.negativeFillColorXform.render(e,t.negativeFillColor),this.axisColorXform.render(e,t.axisColor),e.closeNode()}createNewModel(e){let{attributes:t}=e;return{cfvo:[],minLength:m.toIntValue(t.minLength,0),maxLength:m.toIntValue(t.maxLength,100),border:m.toBoolValue(t.border,!1),gradient:m.toBoolValue(t.gradient,!0),negativeBarColorSameAsPositive:m.toBoolValue(t.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:m.toBoolValue(t.negativeBarBorderColorSameAsPositive,!0),axisPosition:m.toStringValue(t.axisPosition,"auto"),direction:m.toStringValue(t.direction,"leftToRight")}}onParserClose(e,t){const[,a]=e.split(":");switch(a){case"cfvo":this.model.cfvo.push(t.model);break;default:this.model[a]=t.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(i,T,S){const m=i("../../base-xform");T.exports=class extends m{get tag(){return"xm:f"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(i,T,S){const m=i("../../base-xform"),o=i("../../composite-xform"),l=i("./cfvo-ext-xform"),n=i("./cf-icon-ext-xform");T.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:cfIcon":this.cfIconXform=new n}}get tag(){return"x14:iconSet"}render(e,t){e.openNode(this.tag,{iconSet:m.toStringAttribute(t.iconSet),reverse:m.toBoolAttribute(t.reverse,!1),showValue:m.toBoolAttribute(t.showValue,!0),custom:m.toBoolAttribute(t.icons,!1)}),t.cfvo.forEach(a=>{this.cfvoXform.render(e,a)}),t.icons&&t.icons.forEach((a,r)=>{a.iconId=r,this.cfIconXform.render(e,a)}),e.closeNode()}createNewModel(e){let{attributes:t}=e;return{cfvo:[],iconSet:m.toStringValue(t.iconSet,"3TrafficLights"),reverse:m.toBoolValue(t.reverse,!1),showValue:m.toBoolValue(t.showValue,!0)}}onParserClose(e,t){const[,a]=e.split(":");switch(a){case"cfvo":this.model.cfvo.push(t.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(t.model);break;default:this.model[a]=t.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(i,T,S){const m=i("../../base-xform");T.exports=class extends m{get tag(){return"xm:sqref"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(i,T,S){const m=i("../../base-xform"),o=i("../../composite-xform"),l=i("../../../../doc/range"),n=i("./databar-xform"),e=i("./ext-lst-ref-xform"),t=i("./formula-xform"),a=i("./color-scale-xform"),r=i("./icon-set-xform"),s={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},d=c=>{const{type:f,operator:h}=c;switch(f){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:f};default:return{type:f,operator:h}}};class u extends o{constructor(){super(),this.map={dataBar:this.databarXform=new n,extLst:this.extLstRefXform=new e,formula:this.formulaXform=new t,colorScale:this.colorScaleXform=new a,iconSet:this.iconSetXform=new r}}get tag(){return"cfRule"}static isPrimitive(f){return f.type!=="iconSet"||!f.custom&&!s[f.iconSet]}render(f,h){switch(h.type){case"expression":this.renderExpression(f,h);break;case"cellIs":this.renderCellIs(f,h);break;case"top10":this.renderTop10(f,h);break;case"aboveAverage":this.renderAboveAverage(f,h);break;case"dataBar":this.renderDataBar(f,h);break;case"colorScale":this.renderColorScale(f,h);break;case"iconSet":this.renderIconSet(f,h);break;case"containsText":this.renderText(f,h);break;case"timePeriod":this.renderTimePeriod(f,h)}}renderExpression(f,h){f.openNode(this.tag,{type:"expression",dxfId:h.dxfId,priority:h.priority}),this.formulaXform.render(f,h.formulae[0]),f.closeNode()}renderCellIs(f,h){f.openNode(this.tag,{type:"cellIs",dxfId:h.dxfId,priority:h.priority,operator:h.operator}),h.formulae.forEach(w=>{this.formulaXform.render(f,w)}),f.closeNode()}renderTop10(f,h){f.leafNode(this.tag,{type:"top10",dxfId:h.dxfId,priority:h.priority,percent:m.toBoolAttribute(h.percent,!1),bottom:m.toBoolAttribute(h.bottom,!1),rank:m.toIntValue(h.rank,10,!0)})}renderAboveAverage(f,h){f.leafNode(this.tag,{type:"aboveAverage",dxfId:h.dxfId,priority:h.priority,aboveAverage:m.toBoolAttribute(h.aboveAverage,!0)})}renderDataBar(f,h){f.openNode(this.tag,{type:"dataBar",priority:h.priority}),this.databarXform.render(f,h),this.extLstRefXform.render(f,h),f.closeNode()}renderColorScale(f,h){f.openNode(this.tag,{type:"colorScale",priority:h.priority}),this.colorScaleXform.render(f,h),f.closeNode()}renderIconSet(f,h){u.isPrimitive(h)&&(f.openNode(this.tag,{type:"iconSet",priority:h.priority}),this.iconSetXform.render(f,h),f.closeNode())}renderText(f,h){f.openNode(this.tag,{type:h.operator,dxfId:h.dxfId,priority:h.priority,operator:m.toStringAttribute(h.operator,"containsText")});const w=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const E=new l(k.ref),{tl:j}=E;switch(k.operator){case"containsText":return`NOT(ISERROR(SEARCH("${k.text}",${j})))`;case"containsBlanks":return`LEN(TRIM(${j}))=0`;case"notContainsBlanks":return`LEN(TRIM(${j}))>0`;case"containsErrors":return`ISERROR(${j})`;case"notContainsErrors":return`NOT(ISERROR(${j}))`;default:return}})(h);w&&this.formulaXform.render(f,w),f.closeNode()}renderTimePeriod(f,h){f.openNode(this.tag,{type:"timePeriod",dxfId:h.dxfId,priority:h.priority,timePeriod:h.timePeriod});const w=(k=>{if(k.formulae&&k.formulae[0])return k.formulae[0];const E=new l(k.ref),{tl:j}=E;switch(k.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${j},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${j},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${j},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${j},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${j},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${j},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${j},1)=TODAY()-1`;case"today":return`FLOOR(${j},1)=TODAY()`;case"tomorrow":return`FLOOR(${j},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${j},1)<=6,FLOOR(${j},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${j})=MONTH(EDATE(TODAY(),0-1)),YEAR(${j})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${j})=MONTH(TODAY()),YEAR(${j})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${j})=MONTH(EDATE(TODAY(),0+1)),YEAR(${j})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(h);w&&this.formulaXform.render(f,w),f.closeNode()}createNewModel(f){let{attributes:h}=f;return{...d(h),dxfId:m.toIntValue(h.dxfId),priority:m.toIntValue(h.priority),timePeriod:h.timePeriod,percent:m.toBoolValue(h.percent),bottom:m.toBoolValue(h.bottom),rank:m.toIntValue(h.rank),aboveAverage:m.toBoolValue(h.aboveAverage)}}onParserClose(f,h){switch(f){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,h.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(h.model)}}}T.exports=u},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(i,T,S){const m=i("../../base-xform");T.exports=class extends m{get tag(){return"cfvo"}render(o,l){o.leafNode(this.tag,{type:l.type,val:l.value})}parseOpen(o){this.model={type:o.attributes.type,value:m.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(i,T,S){const m=i("../../composite-xform"),o=i("../../style/color-xform"),l=i("./cfvo-xform");T.exports=class extends m{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new o}}get tag(){return"colorScale"}render(n,e){n.openNode(this.tag),e.cfvo.forEach(t=>{this.cfvoXform.render(n,t)}),e.color.forEach(t=>{this.colorXform.render(n,t)}),n.closeNode()}createNewModel(n){return{cfvo:[],color:[]}}onParserClose(n,e){this.model[n].push(e.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(i,T,S){const m=i("../../composite-xform"),o=i("./cf-rule-xform");T.exports=class extends m{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(l,n){n.rules.some(o.isPrimitive)&&(l.openNode(this.tag,{sqref:n.ref}),n.rules.forEach(e=>{o.isPrimitive(e)&&(e.ref=n.ref,this.map.cfRule.render(l,e))}),l.closeNode())}createNewModel(l){let{attributes:n}=l;return{ref:n.sqref,rules:[]}}onParserClose(l,n){this.model.rules.push(n.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(i,T,S){const m=i("../../base-xform"),o=i("./conditional-formatting-xform");T.exports=class extends m{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(l,n){let e=l.reduce((t,a)=>Math.max(t,...a.rules.map(r=>r.priority||0)),1);l.forEach(t=>{t.rules.forEach(a=>{a.priority||(a.priority=e++),a.style&&(a.dxfId=n.styles.addDxfStyle(a.style))})})}render(l,n){n.forEach(e=>{this.cfXform.render(l,e)})}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return!!this.parser&&(!!this.parser.parseClose(l)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(l,n){l.forEach(e=>{e.rules.forEach(t=>{t.dxfId!==void 0&&(t.style=n.styles.getDxfStyle(t.dxfId),delete t.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(i,T,S){const m=i("../../composite-xform"),o=i("../../style/color-xform"),l=i("./cfvo-xform");T.exports=class extends m{constructor(){super(),this.map={cfvo:this.cfvoXform=new l,color:this.colorXform=new o}}get tag(){return"dataBar"}render(n,e){n.openNode(this.tag),e.cfvo.forEach(t=>{this.cfvoXform.render(n,t)}),this.colorXform.render(n,e.color),n.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(n,e){switch(n){case"cfvo":this.model.cfvo.push(e.model);break;case"color":this.model.color=e.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(i,T,S){const m=i("../../base-xform"),o=i("../../composite-xform");class l extends m{get tag(){return"x14:id"}render(t,a){t.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(t){this.model+=t}parseClose(t){return t!==this.tag}}class n extends o{constructor(){super(),this.map={"x14:id":this.idXform=new l}}get tag(){return"ext"}render(t,a){t.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(t,a.x14Id),t.closeNode()}createNewModel(){return{}}onParserClose(t,a){this.model.x14Id=a.model}}T.exports=class extends o{constructor(){super(),this.map={ext:new n}}get tag(){return"extLst"}render(e,t){e.openNode(this.tag),this.map.ext.render(e,t),e.closeNode()}createNewModel(){return{}}onParserClose(e,t){Object.assign(this.model,t.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(i,T,S){const m=i("../../base-xform");T.exports=class extends m{get tag(){return"formula"}render(o,l){o.leafNode(this.tag,null,l)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(i,T,S){const m=i("../../base-xform"),o=i("../../composite-xform"),l=i("./cfvo-xform");T.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new l}}get tag(){return"iconSet"}render(n,e){n.openNode(this.tag,{iconSet:m.toStringAttribute(e.iconSet,"3TrafficLights"),reverse:m.toBoolAttribute(e.reverse,!1),showValue:m.toBoolAttribute(e.showValue,!0)}),e.cfvo.forEach(t=>{this.cfvoXform.render(n,t)}),n.closeNode()}createNewModel(n){let{attributes:e}=n;return{iconSet:m.toStringValue(e.iconSet,"3TrafficLights"),reverse:m.toBoolValue(e.reverse),showValue:m.toBoolValue(e.showValue),cfvo:[]}}onParserClose(n,e){this.model[n].push(e.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(i,T,S){const m=i("../../../utils/utils"),o=i("../base-xform");T.exports=class extends o{get tag(){return"col"}prepare(l,n){const e=n.styles.addStyleModel(l.style||{});e&&(l.styleId=e)}render(l,n){l.openNode("col"),l.addAttribute("min",n.min),l.addAttribute("max",n.max),n.width&&l.addAttribute("width",n.width),n.styleId&&l.addAttribute("style",n.styleId),n.hidden&&l.addAttribute("hidden","1"),n.bestFit&&l.addAttribute("bestFit","1"),n.outlineLevel&&l.addAttribute("outlineLevel",n.outlineLevel),n.collapsed&&l.addAttribute("collapsed","1"),l.addAttribute("customWidth","1"),l.closeNode()}parseOpen(l){if(l.name==="col"){const n=this.model={min:parseInt(l.attributes.min||"0",10),max:parseInt(l.attributes.max||"0",10),width:l.attributes.width===void 0?void 0:parseFloat(l.attributes.width||"0")};return l.attributes.style&&(n.styleId=parseInt(l.attributes.style,10)),m.parseBoolean(l.attributes.hidden)&&(n.hidden=!0),m.parseBoolean(l.attributes.bestFit)&&(n.bestFit=!0),l.attributes.outlineLevel&&(n.outlineLevel=parseInt(l.attributes.outlineLevel,10)),m.parseBoolean(l.attributes.collapsed)&&(n.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(l,n){l.styleId&&(l.style=n.styles.getStyleModel(l.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../../../utils/utils"),l=i("../../../utils/col-cache"),n=i("../base-xform"),e=i("../../../doc/range");function t(r,s,d,u){const c=s[d];c!==void 0?r[d]=c:u!==void 0&&(r[d]=u)}function a(r,s,d,u){const c=s[d];c!==void 0&&(r[d]=o.parseBoolean(c))}T.exports=class extends n{get tag(){return"dataValidations"}render(r,s){const d=function(u){const c=m.map(u,(w,k)=>({address:k,dataValidation:w,marked:!1})).sort((w,k)=>m.strcmp(w.address,k.address)),f=m.keyBy(c,"address"),h=(w,k,E)=>{for(let j=0;j<k;j++){const $=l.encodeAddress(w.row+j,E);if(!u[$]||!m.isEqual(u[w.address],u[$]))return!1}return!0};return c.map(w=>{if(!w.marked){const k=l.decodeEx(w.address);if(k.dimensions)return f[k.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let E=1,j=l.encodeAddress(k.row+E,k.col);for(;u[j]&&m.isEqual(w.dataValidation,u[j]);)E++,j=l.encodeAddress(k.row+E,k.col);let $=1;for(;h(k,E,k.col+$);)$++;for(let D=0;D<E;D++)for(let P=0;P<$;P++)j=l.encodeAddress(k.row+D,k.col+P),f[j].marked=!0;if(E>1||$>1){const D=k.row+(E-1),P=k.col+($-1);return{...w.dataValidation,sqref:`${w.address}:${l.encodeAddress(D,P)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(s);d.length&&(r.openNode("dataValidations",{count:d.length}),d.forEach(u=>{r.openNode("dataValidation"),u.type!=="any"&&(r.addAttribute("type",u.type),u.operator&&u.type!=="list"&&u.operator!=="between"&&r.addAttribute("operator",u.operator),u.allowBlank&&r.addAttribute("allowBlank","1")),u.showInputMessage&&r.addAttribute("showInputMessage","1"),u.promptTitle&&r.addAttribute("promptTitle",u.promptTitle),u.prompt&&r.addAttribute("prompt",u.prompt),u.showErrorMessage&&r.addAttribute("showErrorMessage","1"),u.errorStyle&&r.addAttribute("errorStyle",u.errorStyle),u.errorTitle&&r.addAttribute("errorTitle",u.errorTitle),u.error&&r.addAttribute("error",u.error),r.addAttribute("sqref",u.sqref),(u.formulae||[]).forEach((c,f)=>{r.openNode("formula"+(f+1)),u.type==="date"?r.writeText(o.dateToExcel(new Date(c))):r.writeText(c),r.closeNode()}),r.closeNode()}),r.closeNode())}parseOpen(r){switch(r.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=r.attributes.sqref;const s={type:r.attributes.type||"any",formulae:[]};switch(r.attributes.type&&a(s,r.attributes,"allowBlank"),a(s,r.attributes,"showInputMessage"),a(s,r.attributes,"showErrorMessage"),s.type){case"any":case"list":case"custom":break;default:t(s,r.attributes,"operator","between")}return t(s,r.attributes,"promptTitle"),t(s,r.attributes,"prompt"),t(s,r.attributes,"errorStyle"),t(s,r.attributes,"errorTitle"),t(s,r.attributes,"error"),this._dataValidation=s,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(r){this._formula&&this._formula.push(r)}parseClose(r){switch(r){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(s=>{s.includes(":")?new e(s).forEachAddress(d=>{this.model[d]=this._dataValidation}):this.model[s]=this._dataValidation}),!0;case"formula1":case"formula2":{let s=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":s=parseInt(s,10);break;case"decimal":s=parseFloat(s);break;case"date":s=o.excelToDate(parseFloat(s))}return this._dataValidation.formulae.push(s),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"dimension"}render(o,l){l&&o.leafNode("dimension",{ref:l})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"drawing"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(i,T,S){const m=i("../composite-xform"),o=i("./cf-ext/conditional-formattings-ext-xform");class l extends m{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(e){return this.conditionalFormattings.hasContent(e.conditionalFormattings)}prepare(e,t){this.conditionalFormattings.prepare(e.conditionalFormattings,t)}render(e,t){e.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(e,t.conditionalFormattings),e.closeNode()}createNewModel(){return{}}onParserClose(e,t){this.model[e]=t.model}}T.exports=class extends m{constructor(){super(),this.map={ext:this.ext=new l}}get tag(){return"extLst"}prepare(n,e){this.ext.prepare(n,e)}hasContent(n){return this.ext.hasContent(n)}render(n,e){this.hasContent(e)&&(n.openNode("extLst"),this.ext.render(n,e),n.closeNode())}createNewModel(){return{}}onParserClose(n,e){Object.assign(this.model,e.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"headerFooter"}render(o,l){if(l){o.addRollback();let n=!1;o.openNode("headerFooter"),l.differentFirst&&(o.addAttribute("differentFirst","1"),n=!0),l.differentOddEven&&(o.addAttribute("differentOddEven","1"),n=!0),l.oddHeader&&typeof l.oddHeader=="string"&&(o.leafNode("oddHeader",null,l.oddHeader),n=!0),l.oddFooter&&typeof l.oddFooter=="string"&&(o.leafNode("oddFooter",null,l.oddFooter),n=!0),l.evenHeader&&typeof l.evenHeader=="string"&&(o.leafNode("evenHeader",null,l.evenHeader),n=!0),l.evenFooter&&typeof l.evenFooter=="string"&&(o.leafNode("evenFooter",null,l.evenFooter),n=!0),l.firstHeader&&typeof l.firstHeader=="string"&&(o.leafNode("firstHeader",null,l.firstHeader),n=!0),l.firstFooter&&typeof l.firstFooter=="string"&&(o.leafNode("firstFooter",null,l.firstFooter),n=!0),n?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"hyperlink"}render(o,l){this.isInternalLink(l)?o.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip,location:l.target}):o.leafNode("hyperlink",{ref:l.address,"r:id":l.rId,tooltip:l.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"mergeCell"}render(o,l){o.leafNode("mergeCell",{ref:l})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../../../doc/range"),l=i("../../../utils/col-cache"),n=i("../../../doc/enums");T.exports=class{constructor(){this.merges={}}add(e){if(this.merges[e.master])this.merges[e.master].expandToAddress(e.address);else{const t=`${e.master}:${e.address}`;this.merges[e.master]=new o(t)}}get mergeCells(){return m.map(this.merges,e=>e.range)}reconcile(e,t){m.each(e,a=>{const r=l.decode(a);for(let s=r.top;s<=r.bottom;s++){const d=t[s-1];for(let u=r.left;u<=r.right;u++){const c=d.cells[u-1];c?c.type===n.ValueType.Merge&&(c.master=r.tl):d.cells[u]={type:n.ValueType.Null,address:l.encodeAddress(s,u)}}}})}getMasterAddress(e){const t=this.hash[e];return t&&t.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(i,T,S){const m=i("../base-xform"),o=l=>l!==void 0;T.exports=class extends m{get tag(){return"outlinePr"}render(l,n){return!(!n||!o(n.summaryBelow)&&!o(n.summaryRight))&&(l.leafNode(this.tag,{summaryBelow:o(n.summaryBelow)?Number(n.summaryBelow):void 0,summaryRight:o(n.summaryRight)?Number(n.summaryRight):void 0}),!0)}parseOpen(l){return l.name===this.tag&&(this.model={summaryBelow:o(l.attributes.summaryBelow)?!!Number(l.attributes.summaryBelow):void 0,summaryRight:o(l.attributes.summaryRight)?!!Number(l.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"brk"}render(o,l){o.leafNode("brk",l)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../base-xform");T.exports=class extends o{get tag(){return"pageMargins"}render(l,n){if(n){const e={left:n.left,right:n.right,top:n.top,bottom:n.bottom,header:n.header,footer:n.footer};m.some(e,t=>t!==void 0)&&l.leafNode(this.tag,e)}}parseOpen(l){switch(l.name){case this.tag:return this.model={left:parseFloat(l.attributes.left||.7),right:parseFloat(l.attributes.right||.7),top:parseFloat(l.attributes.top||.75),bottom:parseFloat(l.attributes.bottom||.75),header:parseFloat(l.attributes.header||.3),footer:parseFloat(l.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"pageSetUpPr"}render(o,l){return!(!l||!l.fitToPage)&&(o.leafNode(this.tag,{fitToPage:l.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../base-xform");function l(a){return a?"1":void 0}function n(a){switch(a){case"overThenDown":return a;default:return}}function e(a){switch(a){case"atEnd":case"asDisplyed":return a;default:return}}function t(a){switch(a){case"dash":case"blank":case"NA":return a;default:return}}T.exports=class extends o{get tag(){return"pageSetup"}render(a,r){if(r){const s={paperSize:r.paperSize,orientation:r.orientation,horizontalDpi:r.horizontalDpi,verticalDpi:r.verticalDpi,pageOrder:n(r.pageOrder),blackAndWhite:l(r.blackAndWhite),draft:l(r.draft),cellComments:e(r.cellComments),errors:t(r.errors),scale:r.scale,fitToWidth:r.fitToWidth,fitToHeight:r.fitToHeight,firstPageNumber:r.firstPageNumber,useFirstPageNumber:l(r.firstPageNumber),usePrinterDefaults:l(r.usePrinterDefaults),copies:r.copies};m.some(s,d=>d!==void 0)&&a.leafNode(this.tag,s)}}parseOpen(a){switch(a.name){case this.tag:return this.model={paperSize:(r=a.attributes.paperSize,r!==void 0?parseInt(r,10):void 0),orientation:a.attributes.orientation||"portrait",horizontalDpi:parseInt(a.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(a.attributes.verticalDpi||"4294967295",10),pageOrder:a.attributes.pageOrder||"downThenOver",blackAndWhite:a.attributes.blackAndWhite==="1",draft:a.attributes.draft==="1",cellComments:a.attributes.cellComments||"None",errors:a.attributes.errors||"displayed",scale:parseInt(a.attributes.scale||"100",10),fitToWidth:parseInt(a.attributes.fitToWidth||"1",10),fitToHeight:parseInt(a.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(a.attributes.firstPageNumber||"1",10),useFirstPageNumber:a.attributes.useFirstPageNumber==="1",usePrinterDefaults:a.attributes.usePrinterDefaults==="1",copies:parseInt(a.attributes.copies||"1",10)},!0;default:return!1}var r}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"picture"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../base-xform");function l(n){return n?"1":void 0}T.exports=class extends o{get tag(){return"printOptions"}render(n,e){if(e){const t={headings:l(e.showRowColHeaders),gridLines:l(e.showGridLines),horizontalCentered:l(e.horizontalCentered),verticalCentered:l(e.verticalCentered)};m.some(t,a=>a!==void 0)&&n.leafNode(this.tag,t)}}parseOpen(n){switch(n.name){case this.tag:return this.model={showRowColHeaders:n.attributes.headings==="1",showGridLines:n.attributes.gridLines==="1",horizontalCentered:n.attributes.horizontalCentered==="1",verticalCentered:n.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(i,T,S){const m=i("./page-breaks-xform"),o=i("../list-xform");T.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new m})}render(l,n){if(n&&n.length){l.openNode(this.tag,this.$),this.count&&(l.addAttribute(this.$count,n.length),l.addAttribute("manualBreakCount",n.length));const{childXform:e}=this;n.forEach(t=>{e.render(l,t)}),l.closeNode()}else this.empty&&l.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(i,T,S){const m=i("../base-xform"),o=i("../../../utils/utils"),l=i("./cell-xform");T.exports=class extends m{constructor(n){super(),this.maxItems=n&&n.maxItems,this.map={c:new l}}get tag(){return"row"}prepare(n,e){const t=e.styles.addStyleModel(n.style);t&&(n.styleId=t);const a=this.map.c;n.cells.forEach(r=>{a.prepare(r,e)})}render(n,e,t){n.openNode("row"),n.addAttribute("r",e.number),e.height&&(n.addAttribute("ht",e.height),n.addAttribute("customHeight","1")),e.hidden&&n.addAttribute("hidden","1"),e.min>0&&e.max>0&&e.min<=e.max&&n.addAttribute("spans",`${e.min}:${e.max}`),e.styleId&&(n.addAttribute("s",e.styleId),n.addAttribute("customFormat","1")),n.addAttribute("x14ac:dyDescent","0.25"),e.outlineLevel&&n.addAttribute("outlineLevel",e.outlineLevel),e.collapsed&&n.addAttribute("collapsed","1");const a=this.map.c;e.cells.forEach(r=>{a.render(n,r,t)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;if(n.name==="row"){this.numRowsSeen+=1;const e=n.attributes.spans?n.attributes.spans.split(":").map(a=>parseInt(a,10)):[void 0,void 0],t=this.model={number:parseInt(n.attributes.r,10),min:e[0],max:e[1],cells:[]};return n.attributes.s&&(t.styleId=parseInt(n.attributes.s,10)),o.parseBoolean(n.attributes.hidden)&&(t.hidden=!0),o.parseBoolean(n.attributes.bestFit)&&(t.bestFit=!0),n.attributes.ht&&(t.height=parseFloat(n.attributes.ht)),n.attributes.outlineLevel&&(t.outlineLevel=parseInt(n.attributes.outlineLevel,10)),o.parseBoolean(n.attributes.collapsed)&&(t.collapsed=!0),!0}return this.parser=this.map[n.name],!!this.parser&&(this.parser.parseOpen(n),!0)}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(n,e){n.style=n.styleId?e.styles.getStyleModel(n.styleId):{},n.styleId!==void 0&&(n.styleId=void 0);const t=this.map.c;n.cells.forEach(a=>{t.reconcile(a,e)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../base-xform");T.exports=class extends o{get tag(){return"sheetFormatPr"}render(l,n){if(n){const e={defaultRowHeight:n.defaultRowHeight,outlineLevelRow:n.outlineLevelRow,outlineLevelCol:n.outlineLevelCol,"x14ac:dyDescent":n.dyDescent};n.defaultColWidth&&(e.defaultColWidth=n.defaultColWidth),n.defaultRowHeight&&n.defaultRowHeight===15||(e.customHeight="1"),m.some(e,t=>t!==void 0)&&l.leafNode("sheetFormatPr",e)}}parseOpen(l){return l.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(l.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(l.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(l.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(l.attributes.outlineLevelCol||"0",10)},l.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(l.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(i,T,S){const m=i("../base-xform"),o=i("../style/color-xform"),l=i("./page-setup-properties-xform"),n=i("./outline-properties-xform");T.exports=class extends m{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new l,outlinePr:new n}}get tag(){return"sheetPr"}render(e,t){if(t){e.addRollback(),e.openNode("sheetPr");let a=!1;a=this.map.tabColor.render(e,t.tabColor)||a,a=this.map.pageSetUpPr.render(e,t.pageSetup)||a,a=this.map.outlinePr.render(e,t.outlineProperties)||a,a?(e.closeNode(),e.commit()):e.rollback()}}parseOpen(e){return this.parser?(this.parser.parseOpen(e),!0):e.name===this.tag?(this.reset(),!0):!!this.map[e.name]&&(this.parser=this.map[e.name],this.parser.parseOpen(e),!0)}parseText(e){return!!this.parser&&(this.parser.parseText(e),!0)}parseClose(e){return this.parser?(this.parser.parseClose(e)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../base-xform");function l(e,t){return e?t:void 0}function n(e,t){return e===t||void 0}T.exports=class extends o{get tag(){return"sheetProtection"}render(e,t){if(t){const a={sheet:l(t.sheet,"1"),selectLockedCells:t.selectLockedCells===!1?"1":void 0,selectUnlockedCells:t.selectUnlockedCells===!1?"1":void 0,formatCells:l(t.formatCells,"0"),formatColumns:l(t.formatColumns,"0"),formatRows:l(t.formatRows,"0"),insertColumns:l(t.insertColumns,"0"),insertRows:l(t.insertRows,"0"),insertHyperlinks:l(t.insertHyperlinks,"0"),deleteColumns:l(t.deleteColumns,"0"),deleteRows:l(t.deleteRows,"0"),sort:l(t.sort,"0"),autoFilter:l(t.autoFilter,"0"),pivotTables:l(t.pivotTables,"0")};t.sheet&&(a.algorithmName=t.algorithmName,a.hashValue=t.hashValue,a.saltValue=t.saltValue,a.spinCount=t.spinCount,a.objects=l(t.objects===!1,"1"),a.scenarios=l(t.scenarios===!1,"1")),m.some(a,r=>r!==void 0)&&e.leafNode(this.tag,a)}}parseOpen(e){switch(e.name){case this.tag:return this.model={sheet:n(e.attributes.sheet,"1"),objects:e.attributes.objects!=="1"&&void 0,scenarios:e.attributes.scenarios!=="1"&&void 0,selectLockedCells:e.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:e.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:n(e.attributes.formatCells,"0"),formatColumns:n(e.attributes.formatColumns,"0"),formatRows:n(e.attributes.formatRows,"0"),insertColumns:n(e.attributes.insertColumns,"0"),insertRows:n(e.attributes.insertRows,"0"),insertHyperlinks:n(e.attributes.insertHyperlinks,"0"),deleteColumns:n(e.attributes.deleteColumns,"0"),deleteRows:n(e.attributes.deleteRows,"0"),sort:n(e.attributes.sort,"0"),autoFilter:n(e.attributes.autoFilter,"0"),pivotTables:n(e.attributes.pivotTables,"0")},e.attributes.algorithmName&&(this.model.algorithmName=e.attributes.algorithmName,this.model.hashValue=e.attributes.hashValue,this.model.saltValue=e.attributes.saltValue,this.model.spinCount=parseInt(e.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(i,T,S){const m=i("../../../utils/col-cache"),o=i("../base-xform"),l={frozen:"frozen",frozenSplit:"frozen",split:"split"};T.exports=class extends o{get tag(){return"sheetView"}prepare(n){switch(n.state){case"frozen":case"split":break;default:n.state="normal"}}render(n,e){n.openNode("sheetView",{workbookViewId:e.workbookViewId||0});const t=function(u,c,f){f&&n.addAttribute(u,c)};let a,r,s,d;switch(t("rightToLeft","1",e.rightToLeft===!0),t("tabSelected","1",e.tabSelected),t("showRuler","0",e.showRuler===!1),t("showRowColHeaders","0",e.showRowColHeaders===!1),t("showGridLines","0",e.showGridLines===!1),t("zoomScale",e.zoomScale,e.zoomScale),t("zoomScaleNormal",e.zoomScaleNormal,e.zoomScaleNormal),t("view",e.style,e.style),e.state){case"frozen":r=e.xSplit||0,s=e.ySplit||0,a=e.topLeftCell||m.getAddress(s+1,r+1).address,d=(e.xSplit&&e.ySplit?"bottomRight":e.xSplit&&"topRight")||"bottomLeft",n.leafNode("pane",{xSplit:e.xSplit||void 0,ySplit:e.ySplit||void 0,topLeftCell:a,activePane:d,state:"frozen"}),n.leafNode("selection",{pane:d,activeCell:e.activeCell,sqref:e.activeCell});break;case"split":e.activePane==="topLeft"&&(e.activePane=void 0),n.leafNode("pane",{xSplit:e.xSplit||void 0,ySplit:e.ySplit||void 0,topLeftCell:e.topLeftCell,activePane:e.activePane}),n.leafNode("selection",{pane:e.activePane,activeCell:e.activeCell,sqref:e.activeCell});break;case"normal":e.activeCell&&n.leafNode("selection",{activeCell:e.activeCell,sqref:e.activeCell})}n.closeNode()}parseOpen(n){switch(n.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(n.attributes.workbookViewId,10),rightToLeft:n.attributes.rightToLeft==="1",tabSelected:n.attributes.tabSelected==="1",showRuler:n.attributes.showRuler!=="0",showRowColHeaders:n.attributes.showRowColHeaders!=="0",showGridLines:n.attributes.showGridLines!=="0",zoomScale:parseInt(n.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(n.attributes.zoomScaleNormal||"100",10),style:n.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(n.attributes.xSplit||"0",10),ySplit:parseInt(n.attributes.ySplit||"0",10),topLeftCell:n.attributes.topLeftCell,activePane:n.attributes.activePane||"topLeft",state:n.attributes.state},!0;case"selection":{const e=n.attributes.pane||"topLeft";return this.selections[e]={pane:e,activeCell:n.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(n){let e,t;switch(n){case"sheetView":return this.sheetView&&this.pane?(e=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:l[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(e.activePane=this.pane.activePane),t=this.selections[this.pane.activePane],t&&t.activeCell&&(e.activeCell=t.activeCell),this.sheetView.style&&(e.style=this.sheetView.style)):(e=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},t=this.selections.topLeft,t&&t.activeCell&&(e.activeCell=t.activeCell),this.sheetView.style&&(e.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"tablePart"}render(o,l){l&&o.leafNode(this.tag,{"r:id":l.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../../../utils/col-cache"),l=i("../../../utils/xml-stream"),n=i("../../rel-type"),e=i("./merges"),t=i("../base-xform"),a=i("../list-xform"),r=i("./row-xform"),s=i("./col-xform"),d=i("./dimension-xform"),u=i("./hyperlink-xform"),c=i("./merge-cell-xform"),f=i("./data-validations-xform"),h=i("./sheet-properties-xform"),w=i("./sheet-format-properties-xform"),k=i("./sheet-view-xform"),E=i("./sheet-protection-xform"),j=i("./page-margins-xform"),$=i("./page-setup-xform"),D=i("./print-options-xform"),P=i("./auto-filter-xform"),R=i("./picture-xform"),H=i("./drawing-xform"),N=i("./table-part-xform"),_=i("./row-breaks-xform"),C=i("./header-footer-xform"),v=i("./cf/conditional-formattings-xform"),p=i("./ext-lst-xform"),b=(y,x)=>{if(!x||!x.length)return y;if(!y||!y.length)return x;const M={},F={};return y.forEach(q=>{M[q.ref]=q,q.rules.forEach(U=>{const{x14Id:Y}=U;Y&&(F[Y]=U)})}),x.forEach(q=>{q.rules.forEach(U=>{const Y=F[U.x14Id];Y?((B,W)=>{Object.keys(W).forEach(I=>{const A=B[I],z=W[I];A===void 0&&z!==void 0&&(B[I]=z)})})(Y,U):M[q.ref]?M[q.ref].rules.push(U):y.push({ref:q.ref,rules:[U]})})}),y};class g extends t{constructor(x){super();const{maxRows:M,maxCols:F,ignoreNodes:q}=x||{};this.ignoreNodes=q||[],this.map={sheetPr:new h,dimension:new d,sheetViews:new a({tag:"sheetViews",count:!1,childXform:new k}),sheetFormatPr:new w,cols:new a({tag:"cols",count:!1,childXform:new s}),sheetData:new a({tag:"sheetData",count:!1,empty:!0,childXform:new r({maxItems:F}),maxItems:M}),autoFilter:new P,mergeCells:new a({tag:"mergeCells",count:!0,childXform:new c}),rowBreaks:new _,hyperlinks:new a({tag:"hyperlinks",count:!1,childXform:new u}),pageMargins:new j,dataValidations:new f,pageSetup:new $,headerFooter:new C,printOptions:new D,picture:new R,drawing:new H,sheetProtection:new E,tableParts:new a({tag:"tableParts",count:!0,childXform:new N}),conditionalFormatting:new v,extLst:new p}}prepare(x,M){M.merges=new e,x.hyperlinks=M.hyperlinks=[],x.comments=M.comments=[],M.formulae={},M.siFormulae=0,this.map.cols.prepare(x.cols,M),this.map.sheetData.prepare(x.rows,M),this.map.conditionalFormatting.prepare(x.conditionalFormattings,M),x.mergeCells=M.merges.mergeCells;const F=x.rels=[];function q(B){return"rId"+(B.length+1)}if(x.hyperlinks.forEach(B=>{const W=q(F);B.rId=W,F.push({Id:W,Type:n.Hyperlink,Target:B.target,TargetMode:"External"})}),x.comments.length>0){const B={Id:q(F),Type:n.Comments,Target:`../comments${x.id}.xml`};F.push(B);const W={Id:q(F),Type:n.VmlDrawing,Target:`../drawings/vmlDrawing${x.id}.vml`};F.push(W),x.comments.forEach(I=>{I.refAddress=o.decodeAddress(I.ref)}),M.commentRefs.push({commentName:"comments"+x.id,vmlDrawing:"vmlDrawing"+x.id})}const U=[];let Y;x.media.forEach(B=>{if(B.type==="background"){const W=q(F);Y=M.media[B.imageId],F.push({Id:W,Type:n.Image,Target:`../media/${Y.name}.${Y.extension}`}),x.background={rId:W},x.image=M.media[B.imageId]}else if(B.type==="image"){let{drawing:W}=x;Y=M.media[B.imageId],W||(W=x.drawing={rId:q(F),name:"drawing"+ ++M.drawingsCount,anchors:[],rels:[]},M.drawings.push(W),F.push({Id:W.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${W.name}.xml`}));let I=this.preImageId===B.imageId?U[B.imageId]:U[W.rels.length];I||(I=q(W.rels),U[W.rels.length]=I,W.rels.push({Id:I,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${Y.name}.${Y.extension}`}));const A={picture:{rId:I},range:B.range};if(B.hyperlinks&&B.hyperlinks.hyperlink){const z=q(W.rels);U[W.rels.length]=z,A.picture.hyperlinks={tooltip:B.hyperlinks.tooltip,rId:z},W.rels.push({Id:z,Type:n.Hyperlink,Target:B.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=B.imageId,W.anchors.push(A)}}),x.tables.forEach(B=>{const W=q(F);B.rId=W,F.push({Id:W,Type:n.Table,Target:"../tables/"+B.target}),B.columns.forEach(I=>{const{style:A}=I;A&&(I.dxfId=M.styles.addDxfStyle(A))})}),this.map.extLst.prepare(x,M)}render(x,M){x.openXml(l.StdDocAttributes),x.openNode("worksheet",g.WORKSHEET_ATTRIBUTES);const F=M.properties?{defaultRowHeight:M.properties.defaultRowHeight,dyDescent:M.properties.dyDescent,outlineLevelCol:M.properties.outlineLevelCol,outlineLevelRow:M.properties.outlineLevelRow}:void 0;M.properties&&M.properties.defaultColWidth&&(F.defaultColWidth=M.properties.defaultColWidth);const q={outlineProperties:M.properties&&M.properties.outlineProperties,tabColor:M.properties&&M.properties.tabColor,pageSetup:M.pageSetup&&M.pageSetup.fitToPage?{fitToPage:M.pageSetup.fitToPage}:void 0},U=M.pageSetup&&M.pageSetup.margins,Y={showRowColHeaders:M.pageSetup&&M.pageSetup.showRowColHeaders,showGridLines:M.pageSetup&&M.pageSetup.showGridLines,horizontalCentered:M.pageSetup&&M.pageSetup.horizontalCentered,verticalCentered:M.pageSetup&&M.pageSetup.verticalCentered},B=M.sheetProtection;this.map.sheetPr.render(x,q),this.map.dimension.render(x,M.dimensions),this.map.sheetViews.render(x,M.views),this.map.sheetFormatPr.render(x,F),this.map.cols.render(x,M.cols),this.map.sheetData.render(x,M.rows),this.map.sheetProtection.render(x,B),this.map.autoFilter.render(x,M.autoFilter),this.map.mergeCells.render(x,M.mergeCells),this.map.conditionalFormatting.render(x,M.conditionalFormattings),this.map.dataValidations.render(x,M.dataValidations),this.map.hyperlinks.render(x,M.hyperlinks),this.map.printOptions.render(x,Y),this.map.pageMargins.render(x,U),this.map.pageSetup.render(x,M.pageSetup),this.map.headerFooter.render(x,M.headerFooter),this.map.rowBreaks.render(x,M.rowBreaks),this.map.drawing.render(x,M.drawing),this.map.picture.render(x,M.background),this.map.tableParts.render(x,M.tables),this.map.extLst.render(x,M),M.rels&&M.rels.forEach(W=>{W.Type===n.VmlDrawing&&x.leafNode("legacyDrawing",{"r:id":W.Id})}),x.closeNode()}parseOpen(x){return this.parser?(this.parser.parseOpen(x),!0):x.name==="worksheet"?(m.each(this.map,M=>{M.reset()}),!0):(this.map[x.name]&&!this.ignoreNodes.includes(x.name)&&(this.parser=this.map[x.name],this.parser.parseOpen(x)),!0)}parseText(x){this.parser&&this.parser.parseText(x)}parseClose(x){if(this.parser)return this.parser.parseClose(x)||(this.parser=void 0),!0;switch(x){case"worksheet":{const M=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(M.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(M.outlineProperties=this.map.sheetPr.model.outlineProperties);const F={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},q=Object.assign(F,this.map.pageSetup.model,this.map.printOptions.model),U=b(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:M,views:this.map.sheetViews.model,pageSetup:q,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:U},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(x,M){const F=(x.relationships||[]).reduce((U,Y)=>{if(U[Y.Id]=Y,Y.Type===n.Comments&&(x.comments=M.comments[Y.Target].comments),Y.Type===n.VmlDrawing&&x.comments&&x.comments.length){const B=M.vmlDrawings[Y.Target].comments;x.comments.forEach((W,I)=>{W.note=Object.assign({},W.note,B[I])})}return U},{});if(M.commentsMap=(x.comments||[]).reduce((U,Y)=>(Y.ref&&(U[Y.ref]=Y),U),{}),M.hyperlinkMap=(x.hyperlinks||[]).reduce((U,Y)=>(Y.rId&&(U[Y.address]=F[Y.rId].Target),U),{}),M.formulae={},x.rows=x.rows&&x.rows.filter(Boolean)||[],x.rows.forEach(U=>{U.cells=U.cells&&U.cells.filter(Boolean)||[]}),this.map.cols.reconcile(x.cols,M),this.map.sheetData.reconcile(x.rows,M),this.map.conditionalFormatting.reconcile(x.conditionalFormattings,M),x.media=[],x.drawing){const U=F[x.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(U){const Y=U[1];M.drawings[Y].anchors.forEach(B=>{if(B.medium){const W={type:"image",imageId:B.medium.index,range:B.range,hyperlinks:B.picture.hyperlinks};x.media.push(W)}})}}const q=x.background&&F[x.background.rId];if(q){const U=q.Target.split("/media/")[1],Y=M.mediaIndex&&M.mediaIndex[U];Y!==void 0&&x.media.push({type:"background",imageId:Y})}x.tables=(x.tables||[]).map(U=>{const Y=F[U.rId];return M.tables[Y.Target]}),delete x.relationships,delete x.hyperlinks,delete x.comments}}g.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},T.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,l){l&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(l){try{return Number.isNaN(l.getTime())?"":l.toISOString()}catch{return""}},this._parse=o.parse||function(l){return new Date(l)}}render(o,l){l&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(l)):o.writeText(this._format(l)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,l){(l||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,l):o.writeText(l),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,l){l!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,l):o.writeText(l),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(i,T,S){const m=i("./base-xform"),o=i("../../utils/xml-stream");T.exports=class extends m{constructor(l){super(),this._model=l}render(l){if(!this._xml){const n=new o;(function e(t,a){t.openNode(a.tag,a.$),a.c&&a.c.forEach(r=>{e(t,r)}),a.t&&t.writeText(a.t),t.closeNode()})(n,this._model),this._xml=n.xml}l.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(l){switch(l){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(i,T,S){const m=i("./text-xform"),o=i("./rich-text-xform"),l=i("../base-xform");T.exports=class extends l{constructor(){super(),this.map={r:new o,t:new m}}get tag(){return"rPh"}render(n,e){if(n.openNode(this.tag,{sb:e.sb||0,eb:e.eb||0}),e&&e.hasOwnProperty("richText")&&e.richText){const{r:t}=this.map;e.richText.forEach(a=>{t.render(n,a)})}else e&&this.map.t.render(n,e.text);n.closeNode()}parseOpen(n){const{name:e}=n;return this.parser?(this.parser.parseOpen(n),!0):e===this.tag?(this.model={sb:parseInt(n.attributes.sb,10),eb:parseInt(n.attributes.eb,10)},!0):(this.parser=this.map[e],!!this.parser&&(this.parser.parseOpen(n),!0))}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)){switch(n){case"r":{let e=this.model.richText;e||(e=this.model.richText=[]),e.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(n){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(i,T,S){const m=i("./text-xform"),o=i("../style/font-xform"),l=i("../base-xform");class n extends l{constructor(t){super(),this.model=t}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new m)}get fontXform(){return this._fontXform||(this._fontXform=new o(n.FONT_OPTIONS))}render(t,a){a=a||this.model,t.openNode("r"),a.font&&this.fontXform.render(t,a.font),this.textXform.render(t,a.text),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(t),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(t),!0;default:return!1}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){switch(t){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(t),!0}}}n.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},T.exports=n},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(i,T,S){const m=i("./text-xform"),o=i("./rich-text-xform"),l=i("./phonetic-text-xform"),n=i("../base-xform");T.exports=class extends n{constructor(e){super(),this.model=e,this.map={r:new o,t:new m,rPh:new l}}get tag(){return"si"}render(e,t){e.openNode(this.tag),t&&t.hasOwnProperty("richText")&&t.richText?t.richText.length?t.richText.forEach(a=>{this.map.r.render(e,a)}):this.map.t.render(e,""):t!=null&&this.map.t.render(e,t),e.closeNode()}parseOpen(e){const{name:t}=e;return this.parser?(this.parser.parseOpen(e),!0):t===this.tag?(this.model={},!0):(this.parser=this.map[t],!!this.parser&&(this.parser.parseOpen(e),!0))}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser){if(!this.parser.parseClose(e)){switch(e){case"r":{let t=this.model.richText;t||(t=this.model.richText=[]),t.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(e){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(i,T,S){const m=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("./shared-string-xform");T.exports=class extends o{constructor(n){super(),this.model=n||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new l)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(n){return this.model.values[n]}add(n){return n.richText?this.addRichText(n):this.addText(n)}addText(n){let e=this.hash[n];return e===void 0&&(e=this.hash[n]=this.model.values.length,this.model.values.push(n)),this.model.count++,e}addRichText(n){const e=this.sharedStringXform.toXml(n);let t=this.rich[e];return t===void 0&&(t=this.rich[e]=this.model.values.length,this.model.values.push(n)),this.model.count++,t}render(n,e){e=e||this._values,n.openXml(m.StdDocAttributes),n.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:e.count,uniqueCount:e.values.length});const t=this.sharedStringXform;e.values.forEach(a=>{t.render(n,a)}),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(n),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(n))}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(n){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+n)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"t"}render(o,l){o.openNode("t"),/^\s|\n|\s$/.test(l)&&o.addAttribute("xml:space","preserve"),o.writeText(l),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,l)=>String.fromCharCode(parseInt(l,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(i,T,S){const m=i("../../../doc/enums"),o=i("../../../utils/utils"),l=i("../base-xform"),n={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((t,a)=>(t[a]=!0,t),{}),horizontal(t){return this.horizontalValues[t]?t:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((t,a)=>(t[a]=!0,t),{}),vertical(t){return t==="middle"?"center":this.verticalValues[t]?t:void 0},wrapText:t=>!!t||void 0,shrinkToFit:t=>!!t||void 0,textRotation(t){switch(t){case"vertical":return t;default:return(t=o.validInt(t))>=-90&&t<=90?t:void 0}},indent:t=>(t=o.validInt(t),Math.max(0,t)),readingOrder(t){switch(t){case"ltr":return m.ReadingOrder.LeftToRight;case"rtl":return m.ReadingOrder.RightToLeft;default:return}}},e={toXml(t){if(t=n.textRotation(t)){if(t==="vertical")return 255;const a=Math.round(t);if(a>=0&&a<=90)return a;if(a<0&&a>=-90)return 90-a}},toModel(t){const a=o.validInt(t);if(a!==void 0){if(a===255)return"vertical";if(a>=0&&a<=90)return a;if(a>90&&a<=180)return 90-a}}};T.exports=class extends l{get tag(){return"alignment"}render(t,a){t.addRollback(),t.openNode("alignment");let r=!1;function s(d,u){u&&(t.addAttribute(d,u),r=!0)}s("horizontal",n.horizontal(a.horizontal)),s("vertical",n.vertical(a.vertical)),s("wrapText",!!n.wrapText(a.wrapText)&&"1"),s("shrinkToFit",!!n.shrinkToFit(a.shrinkToFit)&&"1"),s("indent",n.indent(a.indent)),s("textRotation",e.toXml(a.textRotation)),s("readingOrder",n.readingOrder(a.readingOrder)),t.closeNode(),r?t.commit():t.rollback()}parseOpen(t){const a={};let r=!1;function s(d,u,c){d&&(a[u]=c,r=!0)}s(t.attributes.horizontal,"horizontal",t.attributes.horizontal),s(t.attributes.vertical,"vertical",t.attributes.vertical==="center"?"middle":t.attributes.vertical),s(t.attributes.wrapText,"wrapText",o.parseBoolean(t.attributes.wrapText)),s(t.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(t.attributes.shrinkToFit)),s(t.attributes.indent,"indent",parseInt(t.attributes.indent,10)),s(t.attributes.textRotation,"textRotation",e.toModel(t.attributes.textRotation)),s(t.attributes.readingOrder,"readingOrder",t.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=r?a:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(i,T,S){const m=i("../base-xform"),o=i("../../../utils/utils"),l=i("./color-xform");class n extends m{constructor(t){super(),this.name=t,this.map={color:new l}}get tag(){return this.name}render(t,a,r){const s=a&&a.color||r||this.defaultColor;t.openNode(this.name),a&&a.style&&(t.addAttribute("style",a.style),s&&this.map.color.render(t,s)),t.closeNode()}parseOpen(t){if(this.parser)return this.parser.parseOpen(t),!0;switch(t.name){case this.name:{const{style:a}=t.attributes;return this.model=a?{style:a}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(t),!0;default:return!1}}parseText(t){this.parser&&this.parser.parseText(t)}parseClose(t){return this.parser?(this.parser.parseClose(t)||(this.parser=void 0),!0):(t===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(t){return n.validStyleValues[t]}}n.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((e,t)=>(e[t]=!0,e),{}),T.exports=class extends m{constructor(){super(),this.map={top:new n("top"),left:new n("left"),bottom:new n("bottom"),right:new n("right"),diagonal:new n("diagonal")}}render(e,t){const{color:a}=t;function r(s,d){s&&!s.color&&t.color&&(s={...s,color:t.color}),d.render(e,s,a)}e.openNode("border"),t.diagonal&&t.diagonal.style&&(t.diagonal.up&&e.addAttribute("diagonalUp","1"),t.diagonal.down&&e.addAttribute("diagonalDown","1")),r(t.left,this.map.left),r(t.right,this.map.right),r(t.top,this.map.top),r(t.bottom,this.map.bottom),r(t.diagonal,this.map.diagonal),e.closeNode()}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;switch(e.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(e.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(e.attributes.diagonalDown),!0;default:return this.parser=this.map[e.name],!!this.parser&&(this.parser.parseOpen(e),!0)}}parseText(e){this.parser&&this.parser.parseText(e)}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;if(e==="border"){const t=this.model={},a=function(r,s,d){s&&(d&&Object.assign(s,d),t[r]=s)};a("left",this.map.left.model),a("right",this.map.right.model),a("top",this.map.top.model),a("bottom",this.map.bottom.model),a("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,l){return!!l&&(o.openNode(this.name),l.argb?o.addAttribute("rgb",l.argb):l.theme!==void 0?(o.addAttribute("theme",l.theme),l.tint!==void 0&&o.addAttribute("tint",l.tint)):l.indexed!==void 0?o.addAttribute("indexed",l.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(i,T,S){const m=i("../base-xform"),o=i("./alignment-xform"),l=i("./border-xform"),n=i("./fill-xform"),e=i("./font-xform"),t=i("./numfmt-xform"),a=i("./protection-xform");T.exports=class extends m{constructor(){super(),this.map={alignment:new o,border:new l,fill:new n,font:new e,numFmt:new t,protection:new a}}get tag(){return"dxf"}render(r,s){if(r.openNode(this.tag),s.font&&this.map.font.render(r,s.font),s.numFmt&&s.numFmtId){const d={id:s.numFmtId,formatCode:s.numFmt};this.map.numFmt.render(r,d)}s.fill&&this.map.fill.render(r,s.fill),s.alignment&&this.map.alignment.render(r,s.alignment),s.border&&this.map.border.render(r,s.border),s.protection&&this.map.protection.render(r,s.protection),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[r.name],this.parser&&this.parser.parseOpen(r),!0}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return this.parser?(this.parser.parseClose(r)||(this.parser=void 0),!0):r!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(i,T,S){const m=i("../base-xform"),o=i("./color-xform");class l extends m{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(r,s){r.openNode("stop"),r.addAttribute("position",s.position),this.map.color.render(r,s.color),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"stop":return this.model={position:parseFloat(r.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(r),!0;default:return!1}}parseText(){}parseClose(r){return!!this.parser&&(this.parser.parseClose(r)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class n extends m{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(r,s){r.openNode("patternFill"),r.addAttribute("patternType",s.pattern),s.fgColor&&this.map.fgColor.render(r,s.fgColor),s.bgColor&&this.map.bgColor.render(r,s.bgColor),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"patternFill":return this.model={type:"pattern",pattern:r.attributes.patternType},!0;default:return this.parser=this.map[r.name],!!this.parser&&(this.parser.parseOpen(r),!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return!!this.parser&&(this.parser.parseClose(r)||(this.parser.model&&(this.model[r]=this.parser.model),this.parser=void 0),!0)}}class e extends m{constructor(){super(),this.map={stop:new l}}get name(){return"gradient"}get tag(){return"gradientFill"}render(r,s){switch(r.openNode("gradientFill"),s.gradient){case"angle":r.addAttribute("degree",s.degree);break;case"path":r.addAttribute("type","path"),s.center.left&&(r.addAttribute("left",s.center.left),s.center.right===void 0&&r.addAttribute("right",s.center.left)),s.center.right&&r.addAttribute("right",s.center.right),s.center.top&&(r.addAttribute("top",s.center.top),s.center.bottom===void 0&&r.addAttribute("bottom",s.center.top)),s.center.bottom&&r.addAttribute("bottom",s.center.bottom)}const d=this.map.stop;s.stops.forEach(u=>{d.render(r,u)}),r.closeNode()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"gradientFill":{const s=this.model={stops:[]};return r.attributes.degree?(s.gradient="angle",s.degree=parseInt(r.attributes.degree,10)):r.attributes.type==="path"&&(s.gradient="path",s.center={left:r.attributes.left?parseFloat(r.attributes.left):0,top:r.attributes.top?parseFloat(r.attributes.top):0},r.attributes.right!==r.attributes.left&&(s.center.right=r.attributes.right?parseFloat(r.attributes.right):0),r.attributes.bottom!==r.attributes.top&&(s.center.bottom=r.attributes.bottom?parseFloat(r.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(r),!0;default:return!1}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return!!this.parser&&(this.parser.parseClose(r)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class t extends m{constructor(){super(),this.map={patternFill:new n,gradientFill:new e}}get tag(){return"fill"}render(r,s){switch(r.addRollback(),r.openNode("fill"),s.type){case"pattern":this.map.patternFill.render(r,s);break;case"gradient":this.map.gradientFill.render(r,s);break;default:return void r.rollback()}r.closeNode(),r.commit()}parseOpen(r){if(this.parser)return this.parser.parseOpen(r),!0;switch(r.name){case"fill":return this.model={},!0;default:return this.parser=this.map[r.name],!!this.parser&&(this.parser.parseOpen(r),!0)}}parseText(r){this.parser&&this.parser.parseText(r)}parseClose(r){return!!this.parser&&(this.parser.parseClose(r)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(r){return t.validPatternValues[r]}}t.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((a,r)=>(a[r]=!0,a),{}),t.StopXform=l,t.PatternFillXform=n,t.GradientFillXform=e,T.exports=t},{"../base-xform":32,"./color-xform":128}],131:[function(i,T,S){const m=i("./color-xform"),o=i("../simple/boolean-xform"),l=i("../simple/integer-xform"),n=i("../simple/string-xform"),e=i("./underline-xform"),t=i("../../../utils/under-dash"),a=i("../base-xform");class r extends a{constructor(d){super(),this.options=d||r.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new e},charset:{prop:"charset",xform:new l({tag:"charset",attr:"val"})},color:{prop:"color",xform:new m},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new l({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new n({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new n({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new l({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new n({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(d,u){const{map:c}=this;d.openNode(this.options.tagName),t.each(this.map,(f,h)=>{c[h].xform.render(d,u[f.prop])}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;if(this.map[d.name])return this.parser=this.map[d.name].xform,this.parser.parseOpen(d);switch(d.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser&&!this.parser.parseClose(d)){const u=this.map[d];return this.parser.model&&(this.model[u.prop]=this.parser.model),this.parser=void 0,!0}switch(d){case this.options.tagName:return!1;default:return!0}}}r.OPTIONS={tagName:"font",fontNameTag:"name"},T.exports=r},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(i,T,S){const m=i("../../../utils/under-dash"),o=i("../../defaultnumformats"),l=i("../base-xform"),n=function(){const t={};return m.each(o,(a,r)=>{a.f&&(t[a.f]=parseInt(r,10))}),t}();class e extends l{constructor(a,r){super(),this.id=a,this.formatCode=r}get tag(){return"numFmt"}render(a,r){a.leafNode("numFmt",{numFmtId:r.id,formatCode:r.formatCode})}parseOpen(a){switch(a.name){case"numFmt":return this.model={id:parseInt(a.attributes.numFmtId,10),formatCode:a.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}e.getDefaultFmtId=function(t){return n[t]},e.getDefaultFmtCode=function(t){return o[t]&&o[t].f},T.exports=e},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(i,T,S){const m=i("../base-xform"),o={boolean:(l,n)=>l===void 0?n:l};T.exports=class extends m{get tag(){return"protection"}render(l,n){l.addRollback(),l.openNode("protection");let e=!1;function t(a,r){r!==void 0&&(l.addAttribute(a,r),e=!0)}t("locked",o.boolean(n.locked,!0)?void 0:"0"),t("hidden",o.boolean(n.hidden,!1)?"1":void 0),l.closeNode(),e?l.commit():l.rollback()}parseOpen(l){const n={locked:l.attributes.locked!=="0",hidden:l.attributes.hidden==="1"},e=!n.locked||n.hidden;this.model=e?n:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(i,T,S){const m=i("../base-xform"),o=i("./alignment-xform"),l=i("./protection-xform");T.exports=class extends m{constructor(n){super(),this.xfId=!(!n||!n.xfId),this.map={alignment:new o,protection:new l}}get tag(){return"xf"}render(n,e){n.openNode("xf",{numFmtId:e.numFmtId||0,fontId:e.fontId||0,fillId:e.fillId||0,borderId:e.borderId||0}),this.xfId&&n.addAttribute("xfId",e.xfId||0),e.numFmtId&&n.addAttribute("applyNumberFormat","1"),e.fontId&&n.addAttribute("applyFont","1"),e.fillId&&n.addAttribute("applyFill","1"),e.borderId&&n.addAttribute("applyBorder","1"),e.alignment&&n.addAttribute("applyAlignment","1"),e.protection&&n.addAttribute("applyProtection","1"),e.alignment&&this.map.alignment.render(n,e.alignment),e.protection&&this.map.protection.render(n,e.protection),n.closeNode()}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"xf":return this.model={numFmtId:parseInt(n.attributes.numFmtId,10),fontId:parseInt(n.attributes.fontId,10),fillId:parseInt(n.attributes.fillId,10),borderId:parseInt(n.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(n.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(n),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(n),!0;default:return!1}}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):n!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(i,T,S){const m=i("../../../doc/enums"),o=i("../../../utils/xml-stream"),l=i("../base-xform"),n=i("../static-xform"),e=i("../list-xform"),t=i("./font-xform"),a=i("./fill-xform"),r=i("./border-xform"),s=i("./numfmt-xform"),d=i("./style-xform"),u=i("./dxf-xform");class c extends l{constructor(h){super(),this.map={numFmts:new e({tag:"numFmts",count:!0,childXform:new s}),fonts:new e({tag:"fonts",count:!0,childXform:new t,$:{"x14ac:knownFonts":1}}),fills:new e({tag:"fills",count:!0,childXform:new a}),borders:new e({tag:"borders",count:!0,childXform:new r}),cellStyleXfs:new e({tag:"cellStyleXfs",count:!0,childXform:new d}),cellXfs:new e({tag:"cellXfs",count:!0,childXform:new d({xfId:!0})}),dxfs:new e({tag:"dxfs",always:!0,count:!0,childXform:new u}),numFmt:new s,font:new t,fill:new a,border:new r,style:new d({xfId:!0}),cellStyles:c.STATIC_XFORMS.cellStyles,tableStyles:c.STATIC_XFORMS.tableStyles,extLst:c.STATIC_XFORMS.extLst},h&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(h,w){w=w||this.model,h.openXml(o.StdDocAttributes),h.openNode("styleSheet",c.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(h.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(k=>{h.writeXml(k)}),h.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),h.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(k=>{h.writeXml(k)}),h.closeNode(),h.openNode("fills",{count:w.fills.length}),w.fills.forEach(k=>{h.writeXml(k)}),h.closeNode(),h.openNode("borders",{count:w.borders.length}),w.borders.forEach(k=>{h.writeXml(k)}),h.closeNode(),this.map.cellStyleXfs.render(h,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),h.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(k=>{h.writeXml(k)}),h.closeNode()):(this.map.numFmts.render(h,w.numFmts),this.map.fonts.render(h,w.fonts),this.map.fills.render(h,w.fills),this.map.borders.render(h,w.borders),this.map.cellStyleXfs.render(h,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(h,w.styles)),c.STATIC_XFORMS.cellStyles.render(h),this.map.dxfs.render(h,w.dxfs),c.STATIC_XFORMS.tableStyles.render(h),c.STATIC_XFORMS.extLst.render(h),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"styleSheet":{this.model={};const w=(k,E)=>{E.model&&E.model.length&&(this.model[k]=E.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const k=this.index.numFmt;this.model.numFmts.forEach(E=>{k[E.id]=E.formatCode})}return!1}default:return!0}}addStyleModel(h,w){if(!h)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(h))return this.weakMap.get(h);const k={};if(w=w||m.ValueType.Number,h.numFmt)k.numFmtId=this._addNumFmtStr(h.numFmt);else switch(w){case m.ValueType.Number:k.numFmtId=this._addNumFmtStr("General");break;case m.ValueType.Date:k.numFmtId=this._addNumFmtStr("mm-dd-yy")}h.font&&(k.fontId=this._addFont(h.font)),h.border&&(k.borderId=this._addBorder(h.border)),h.fill&&(k.fillId=this._addFill(h.fill)),h.alignment&&(k.alignment=h.alignment),h.protection&&(k.protection=h.protection);const E=this._addStyle(k);return this.weakMap&&this.weakMap.set(h,E),E}getStyleModel(h){const w=this.model.styles[h];if(!w)return null;let k=this.index.model[h];if(k)return k;if(k=this.index.model[h]={},w.numFmtId){const j=this.index.numFmt[w.numFmtId]||s.getDefaultFmtCode(w.numFmtId);j&&(k.numFmt=j)}function E(j,$,D){if(D||D===0){const P=$[D];P&&(k[j]=P)}}return E("font",this.model.fonts,w.fontId),E("border",this.model.borders,w.borderId),E("fill",this.model.fills,w.fillId),w.alignment&&(k.alignment=w.alignment),w.protection&&(k.protection=w.protection),k}addDxfStyle(h){return h.numFmt&&(h.numFmtId=this._addNumFmtStr(h.numFmt)),this.model.dxfs.push(h),this.model.dxfs.length-1}getDxfStyle(h){return this.model.dxfs[h]}_addStyle(h){const w=this.map.style.toXml(h);let k=this.index.style[w];return k===void 0&&(k=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),k}_addNumFmtStr(h){let w=s.getDefaultFmtId(h);if(w!==void 0||(w=this.index.numFmt[h],w!==void 0))return w;w=this.index.numFmt[h]=164+this.model.numFmts.length;const k=this.map.numFmt.toXml({id:w,formatCode:h});return this.model.numFmts.push(k),w}_addFont(h){const w=this.map.font.toXml(h);let k=this.index.font[w];return k===void 0&&(k=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),k}_addBorder(h){const w=this.map.border.toXml(h);let k=this.index.border[w];return k===void 0&&(k=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),k}_addFill(h){const w=this.map.fill.toXml(h);let k=this.index.fill[w];return k===void 0&&(k=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),k}}c.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},c.STATIC_XFORMS={cellStyles:new n({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new n({tag:"dxfs",$:{count:0}}),tableStyles:new n({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new n({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},c.Mock=class extends c{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(f){return f.autodrain(),Promise.resolve()}addStyleModel(f,h){switch(h){case m.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const f={numFmtId:s.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(f)}return this._dateStyleId}getStyleModel(){return{}}},T.exports=c},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(i,T,S){const m=i("../base-xform");class o extends m{constructor(n){super(),this.model=n}get tag(){return"u"}render(n,e){if((e=e||this.model)===!0)n.leafNode("u");else{const t=o.Attributes[e];t&&n.leafNode("u",t)}}parseOpen(n){n.name==="u"&&(this.model=n.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},T.exports=o},{"../base-xform":32}],137:[function(i,T,S){const m=i("../base-xform"),o=i("./filter-column-xform");T.exports=class extends m{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(l){l.columns.forEach((n,e)=>{this.map.filterColumn.prepare(n,{index:e})})}render(l,n){return l.openNode(this.tag,{ref:n.autoFilterRef}),n.columns.forEach(e=>{this.map.filterColumn.render(l,e)}),l.closeNode(),!0}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:return this.model={autoFilterRef:l.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(l){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"customFilter"}render(o,l){o.leafNode(this.tag,{val:l.val,operator:l.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(i,T,S){const m=i("../base-xform"),o=i("../list-xform"),l=i("./custom-filter-xform"),n=i("./filter-xform");T.exports=class extends m{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new l}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new n})}}get tag(){return"filterColumn"}prepare(e,t){e.colId=t.index.toString()}render(e,t){return t.customFilters?(e.openNode(this.tag,{colId:t.colId,hiddenButton:t.filterButton?"0":"1"}),this.map.customFilters.render(e,t.customFilters),e.closeNode(),!0):(e.leafNode(this.tag,{colId:t.colId,hiddenButton:t.filterButton?"0":"1"}),!0)}parseOpen(e){if(this.parser)return this.parser.parseOpen(e),!0;const{attributes:t}=e;switch(e.name){case this.tag:return this.model={filterButton:t.hiddenButton==="0"},!0;default:if(this.parser=this.map[e.name],this.parser)return this.parseOpen(e),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(e))}}parseText(){}parseClose(e){if(this.parser)return this.parser.parseClose(e)||(this.parser=void 0),!0;switch(e){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"filter"}render(o,l){o.leafNode(this.tag,{val:l.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"tableColumn"}prepare(o,l){o.id=l.index+1}render(o,l){return o.leafNode(this.tag,{id:l.id.toString(),name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:l}=o;return this.model={name:l.name,totalsRowLabel:l.totalsRowLabel,totalsRowFunction:l.totalsRowFunction,dxfId:l.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(i,T,S){const m=i("../base-xform");T.exports=class extends m{get tag(){return"tableStyleInfo"}render(o,l){return o.leafNode(this.tag,{name:l.theme?l.theme:void 0,showFirstColumn:l.showFirstColumn?"1":"0",showLastColumn:l.showLastColumn?"1":"0",showRowStripes:l.showRowStripes?"1":"0",showColumnStripes:l.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:l}=o;return this.model={theme:l.name?l.name:null,showFirstColumn:l.showFirstColumn==="1",showLastColumn:l.showLastColumn==="1",showRowStripes:l.showRowStripes==="1",showColumnStripes:l.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(i,T,S){const m=i("../../../utils/xml-stream"),o=i("../base-xform"),l=i("../list-xform"),n=i("./auto-filter-xform"),e=i("./table-column-xform"),t=i("./table-style-info-xform");class a extends o{constructor(){super(),this.map={autoFilter:new n,tableColumns:new l({tag:"tableColumns",count:!0,empty:!0,childXform:new e}),tableStyleInfo:new t}}prepare(s,d){this.map.autoFilter.prepare(s),this.map.tableColumns.prepare(s.columns,d)}get tag(){return"table"}render(s,d){s.openXml(m.StdDocAttributes),s.openNode(this.tag,{...a.TABLE_ATTRIBUTES,id:d.id,name:d.name,displayName:d.displayName||d.name,ref:d.tableRef,totalsRowCount:d.totalsRow?"1":void 0,totalsRowShown:d.totalsRow?void 0:"1",headerRowCount:d.headerRow?"1":"0"}),this.map.autoFilter.render(s,d),this.map.tableColumns.render(s,d.columns),this.map.tableStyleInfo.render(s,d.style),s.closeNode()}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;const{name:d,attributes:u}=s;switch(d){case this.tag:this.reset(),this.model={name:u.name,displayName:u.displayName||u.name,tableRef:u.ref,totalsRow:u.totalsRowCount==="1",headerRow:u.headerRowCount==="1"};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser)return this.parser.parseClose(s)||(this.parser=void 0),!0;switch(s){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((d,u)=>{this.model.columns[u].filterButton=d.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(s,d){s.columns.forEach(u=>{u.dxfId!==void 0&&(u.style=d.styles.getDxfStyle(u.dxfId))})}}a.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},T.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(i,T,S){(function(m,o){(function(){const l=i("fs"),n=i("jszip"),{PassThrough:e}=i("readable-stream"),t=i("../utils/zip-stream"),a=i("../utils/stream-buf"),r=i("../utils/utils"),s=i("../utils/xml-stream"),{bufferToString:d}=i("../utils/browser-buffer-decode"),u=i("./xform/style/styles-xform"),c=i("./xform/core/core-xform"),f=i("./xform/strings/shared-strings-xform"),h=i("./xform/core/relationships-xform"),w=i("./xform/core/content-types-xform"),k=i("./xform/core/app-xform"),E=i("./xform/book/workbook-xform"),j=i("./xform/sheet/worksheet-xform"),$=i("./xform/drawing/drawing-xform"),D=i("./xform/table/table-xform"),P=i("./xform/comment/comments-xform"),R=i("./xform/comment/vml-notes-xform"),H=i("./xml/theme1");class N{constructor(C){this.workbook=C}async readFile(C,v){if(!await r.fs.exists(C))throw new Error("File not found: "+C);const p=l.createReadStream(C);try{const b=await this.read(p,v);return p.close(),b}catch(b){throw p.close(),b}}parseRels(C){return new h().parseStream(C)}parseWorkbook(C){return new E().parseStream(C)}parseSharedStrings(C){return new f().parseStream(C)}reconcile(C,v){const p=new E,b=new j(v),g=new $,y=new D;p.reconcile(C);const x={media:C.media,mediaIndex:C.mediaIndex};Object.keys(C.drawings).forEach(q=>{const U=C.drawings[q],Y=C.drawingRels[q];Y&&(x.rels=Y.reduce((B,W)=>(B[W.Id]=W,B),{}),(U.anchors||[]).forEach(B=>{const W=B.picture&&B.picture.hyperlinks;W&&x.rels[W.rId]&&(W.hyperlink=x.rels[W.rId].Target,delete W.rId)}),g.reconcile(U,x))});const M={styles:C.styles};Object.values(C.tables).forEach(q=>{y.reconcile(q,M)});const F={styles:C.styles,sharedStrings:C.sharedStrings,media:C.media,mediaIndex:C.mediaIndex,date1904:C.properties&&C.properties.date1904,drawings:C.drawings,comments:C.comments,tables:C.tables,vmlDrawings:C.vmlDrawings};C.worksheets.forEach(q=>{q.relationships=C.worksheetRels[q.sheetNo],b.reconcile(q,F)}),delete C.worksheetHash,delete C.worksheetRels,delete C.globalRels,delete C.sharedStrings,delete C.workbookRels,delete C.sheetDefs,delete C.styles,delete C.mediaIndex,delete C.drawings,delete C.drawingRels,delete C.vmlDrawings}async _processWorksheetEntry(C,v,p,b,g){const y=new j(b),x=await y.parseStream(C);x.sheetNo=p,v.worksheetHash[g]=x,v.worksheets.push(x)}async _processCommentEntry(C,v,p){const b=new P,g=await b.parseStream(C);v.comments[`../${p}.xml`]=g}async _processTableEntry(C,v,p){const b=new D,g=await b.parseStream(C);v.tables[`../tables/${p}.xml`]=g}async _processWorksheetRelsEntry(C,v,p){const b=new h,g=await b.parseStream(C);v.worksheetRels[p]=g}async _processMediaEntry(C,v,p){const b=p.lastIndexOf(".");if(b>=1){const g=p.substr(b+1),y=p.substr(0,b);await new Promise((x,M)=>{const F=new a;F.on("finish",()=>{v.mediaIndex[p]=v.media.length,v.mediaIndex[y]=v.media.length;const q={type:"image",name:y,extension:g,buffer:F.toBuffer()};v.media.push(q),x()}),C.on("error",q=>{M(q)}),C.pipe(F)})}}async _processDrawingEntry(C,v,p){const b=new $,g=await b.parseStream(C);v.drawings[p]=g}async _processDrawingRelsEntry(C,v,p){const b=new h,g=await b.parseStream(C);v.drawingRels[p]=g}async _processVmlDrawingEntry(C,v,p){const b=new R,g=await b.parseStream(C);v.vmlDrawings[`../drawings/${p}.vml`]=g}async _processThemeEntry(C,v,p){await new Promise((b,g)=>{const y=new a;C.on("error",g),y.on("error",g),y.on("finish",()=>{v.themes[p]=y.read().toString(),b()}),C.pipe(y)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(C,v){!C[Symbol.asyncIterator]&&C.pipe&&(C=C.pipe(new e));const p=[];for await(const b of C)p.push(b);return this.load(o.concat(p),v)}async load(C,v){let p;p=v&&v.base64?o.from(C.toString(),"base64"):C;const b={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},g=await n.loadAsync(p);for(const y of Object.values(g.files))if(!y.dir){let x,M=y.name;if(M[0]==="/"&&(M=M.substr(1)),M.match(/xl\/media\//)||M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))x=new e,x.write(await y.async("nodebuffer"));else{let F;x=new e({writableObjectMode:!0,readableObjectMode:!0}),F=m.browser?d(await y.async("nodebuffer")):await y.async("string");const q=16384;for(let U=0;U<F.length;U+=q)x.write(F.substring(U,U+q))}switch(x.end(),M){case"_rels/.rels":b.globalRels=await this.parseRels(x);break;case"xl/workbook.xml":{const F=await this.parseWorkbook(x);b.sheets=F.sheets,b.definedNames=F.definedNames,b.views=F.views,b.properties=F.properties,b.calcProperties=F.calcProperties;break}case"xl/_rels/workbook.xml.rels":b.workbookRels=await this.parseRels(x);break;case"xl/sharedStrings.xml":b.sharedStrings=new f,await b.sharedStrings.parseStream(x);break;case"xl/styles.xml":b.styles=new u,await b.styles.parseStream(x);break;case"docProps/app.xml":{const F=new k,q=await F.parseStream(x);b.company=q.company,b.manager=q.manager;break}case"docProps/core.xml":{const F=new c,q=await F.parseStream(x);Object.assign(b,q);break}default:{let F=M.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(F){await this._processWorksheetEntry(x,b,F[1],v,M);break}if(F=M.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),F){await this._processWorksheetRelsEntry(x,b,F[1]);break}if(F=M.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),F){await this._processThemeEntry(x,b,F[1]);break}if(F=M.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),F){await this._processMediaEntry(x,b,F[1]);break}if(F=M.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),F){await this._processDrawingEntry(x,b,F[1]);break}if(F=M.match(/xl\/(comments\d+)[.]xml/),F){await this._processCommentEntry(x,b,F[1]);break}if(F=M.match(/xl\/tables\/(table\d+)[.]xml/),F){await this._processTableEntry(x,b,F[1]);break}if(F=M.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),F){await this._processDrawingRelsEntry(x,b,F[1]);break}if(F=M.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),F){await this._processVmlDrawingEntry(x,b,F[1]);break}}}}return this.reconcile(b,v),this.workbook.model=b,this.workbook}async addMedia(C,v){await Promise.all(v.media.map(async p=>{if(p.type==="image"){const b=`xl/media/${p.name}.${p.extension}`;if(p.filename){const g=await function(y,x){return new Promise((M,F)=>{l.readFile(y,x,(q,U)=>{q?F(q):M(U)})})}(p.filename);return C.append(g,{name:b})}if(p.buffer)return C.append(p.buffer,{name:b});if(p.base64){const g=p.base64,y=g.substring(g.indexOf(",")+1);return C.append(y,{name:b,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(C,v){const p=new $,b=new h;v.worksheets.forEach(g=>{const{drawing:y}=g;if(y){p.prepare(y,{});let x=p.toXml(y);C.append(x,{name:`xl/drawings/${y.name}.xml`}),x=b.toXml(y.rels),C.append(x,{name:`xl/drawings/_rels/${y.name}.xml.rels`})}})}addTables(C,v){const p=new D;v.worksheets.forEach(b=>{const{tables:g}=b;g.forEach(y=>{p.prepare(y,{});const x=p.toXml(y);C.append(x,{name:"xl/tables/"+y.target})})})}async addContentTypes(C,v){const p=new w().toXml(v);C.append(p,{name:"[Content_Types].xml"})}async addApp(C,v){const p=new k().toXml(v);C.append(p,{name:"docProps/app.xml"})}async addCore(C,v){const p=new c;C.append(p.toXml(v),{name:"docProps/core.xml"})}async addThemes(C,v){const p=v.themes||{theme1:H};Object.keys(p).forEach(b=>{const g=p[b],y=`xl/theme/${b}.xml`;C.append(g,{name:y})})}async addOfficeRels(C){const v=new h().toXml([{Id:"rId1",Type:N.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:N.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:N.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);C.append(v,{name:"_rels/.rels"})}async addWorkbookRels(C,v){let p=1;const b=[{Id:"rId"+p++,Type:N.RelType.Styles,Target:"styles.xml"},{Id:"rId"+p++,Type:N.RelType.Theme,Target:"theme/theme1.xml"}];v.sharedStrings.count&&b.push({Id:"rId"+p++,Type:N.RelType.SharedStrings,Target:"sharedStrings.xml"}),v.worksheets.forEach(y=>{y.rId="rId"+p++,b.push({Id:y.rId,Type:N.RelType.Worksheet,Target:`worksheets/sheet${y.id}.xml`})});const g=new h().toXml(b);C.append(g,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(C,v){v.sharedStrings&&v.sharedStrings.count&&C.append(v.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(C,v){const{xml:p}=v.styles;p&&C.append(p,{name:"xl/styles.xml"})}async addWorkbook(C,v){const p=new E;C.append(p.toXml(v),{name:"xl/workbook.xml"})}async addWorksheets(C,v){const p=new j,b=new h,g=new P,y=new R;v.worksheets.forEach(x=>{let M=new s;p.render(M,x),C.append(M.xml,{name:`xl/worksheets/sheet${x.id}.xml`}),x.rels&&x.rels.length&&(M=new s,b.render(M,x.rels),C.append(M.xml,{name:`xl/worksheets/_rels/sheet${x.id}.xml.rels`})),x.comments.length>0&&(M=new s,g.render(M,x),C.append(M.xml,{name:`xl/comments${x.id}.xml`}),M=new s,y.render(M,x),C.append(M.xml,{name:`xl/drawings/vmlDrawing${x.id}.vml`}))})}_finalize(C){return new Promise((v,p)=>{C.on("finish",()=>{v(this)}),C.on("error",p),C.finalize()})}prepareModel(C,v){C.creator=C.creator||"ExcelJS",C.lastModifiedBy=C.lastModifiedBy||"ExcelJS",C.created=C.created||new Date,C.modified=C.modified||new Date,C.useSharedStrings=v.useSharedStrings===void 0||v.useSharedStrings,C.useStyles=v.useStyles===void 0||v.useStyles,C.sharedStrings=new f,C.styles=C.useStyles?new u(!0):new u.Mock;const p=new E,b=new j;p.prepare(C);const g={sharedStrings:C.sharedStrings,styles:C.styles,date1904:C.properties.date1904,drawingsCount:0,media:C.media};g.drawings=C.drawings=[],g.commentRefs=C.commentRefs=[];let y=0;C.tables=[],C.worksheets.forEach(x=>{x.tables.forEach(M=>{y++,M.target=`table${y}.xml`,M.id=y,C.tables.push(M)}),b.prepare(x,g)})}async write(C,v){v=v||{};const{model:p}=this.workbook,b=new t.ZipWriter(v.zip);return b.pipe(C),this.prepareModel(p,v),await this.addContentTypes(b,p),await this.addOfficeRels(b,p),await this.addWorkbookRels(b,p),await this.addWorksheets(b,p),await this.addSharedStrings(b,p),await this.addDrawings(b,p),await this.addTables(b,p),await Promise.all([this.addThemes(b,p),this.addStyles(b,p)]),await this.addMedia(b,p),await Promise.all([this.addApp(b,p),this.addCore(b,p)]),await this.addWorkbook(b,p),this._finalize(b)}writeFile(C,v){const p=l.createWriteStream(C);return new Promise((b,g)=>{p.on("finish",()=>{b()}),p.on("error",y=>{g(y)}),this.write(p,v).then(()=>{p.end()}).catch(y=>{g(y)})})}async writeBuffer(C){const v=new a;return await this.write(v,C),v.read()}}N.RelType=i("./rel-type"),T.exports=N}).call(this)}).call(this,i("_process"),i("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(i,T,S){T.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(i,T,S){(function(m){(function(){Object.defineProperty(S,"__esModule",{value:!0}),S.CsvFormatterStream=void 0;const o=i("stream"),l=i("./formatter");class n extends o.Transform{constructor(t){super({writableObjectMode:t.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=t,this.rowFormatter=new l.RowFormatter(t),this.hasWrittenBOM=!t.writeBOM}transform(t){return this.rowFormatter.rowTransform=t,this}_transform(t,a,r){let s=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(t,(d,u)=>d?(s=!0,r(d)):(u&&u.forEach(c=>{this.push(m.from(c,"utf8"))}),s=!0,r()))}catch(d){if(s)throw d;r(d)}}_flush(t){this.rowFormatter.finish((a,r)=>a?t(a):(r&&r.forEach(s=>{this.push(m.from(s,"utf8"))}),t()))}}S.CsvFormatterStream=n}).call(this)}).call(this,i("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.FormatterOptions=void 0,S.FormatterOptions=class{constructor(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,m||{}),(m==null?void 0:m.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(m==null?void 0:m.quote)===!0?this.quote='"':(m==null?void 0:m.quote)===!1&&(this.quote=""),typeof(m==null?void 0:m.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=m.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(i,T,S){var m=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S,"__esModule",{value:!0}),S.FieldFormatter=void 0;const o=m(i("lodash.isboolean")),l=m(i("lodash.isnil")),n=m(i("lodash.escaperegexp"));S.FieldFormatter=class{constructor(e){this._headers=null,this.formatterOptions=e,e.headers!==null&&(this.headers=e.headers),this.REPLACE_REGEXP=new RegExp(e.quote,"g");const t=`[${e.delimiter}${n.default(e.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(t)}set headers(e){this._headers=e}shouldQuote(e,t){const a=t?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(a)?a:Array.isArray(a)?a[e]:this._headers!==null&&a[this._headers[e]]}format(e,t,a){const r=(""+(l.default(e)?"":e)).replace(/\0/g,""),{formatterOptions:s}=this;return s.quote!==""&&r.indexOf(s.quote)!==-1?this.quoteField(r.replace(this.REPLACE_REGEXP,s.escapedQuote)):r.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(t,a)?this.quoteField(r):r}quoteField(e){const{quote:t}=this.formatterOptions;return`${t}${e}${t}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(i,T,S){var m=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(S,"__esModule",{value:!0}),S.RowFormatter=void 0;const o=m(i("lodash.isfunction")),l=m(i("lodash.isequal")),n=i("./FieldFormatter"),e=i("../types");class t{constructor(r){this.rowCount=0,this.formatterOptions=r,this.fieldFormatter=new n.FieldFormatter(r),this.headers=r.headers,this.shouldWriteHeaders=r.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),r.transform&&(this.rowTransform=r.transform)}static isRowHashArray(r){return!!Array.isArray(r)&&Array.isArray(r[0])&&r[0].length===2}static isRowArray(r){return Array.isArray(r)&&!this.isRowHashArray(r)}static gatherHeaders(r){return t.isRowHashArray(r)?r.map(s=>s[0]):Array.isArray(r)?r:Object.keys(r)}static createTransform(r){return e.isSyncTransform(r)?(s,d)=>{let u=null;try{u=r(s)}catch(c){return d(c)}return d(null,u)}:(s,d)=>{r(s,d)}}set rowTransform(r){if(!o.default(r))throw new TypeError("The transform should be a function");this._rowTransform=t.createTransform(r)}format(r,s){this.callTransformer(r,(d,u)=>{if(d)return s(d);if(!r)return s(null);const c=[];if(u){const{shouldFormatColumns:f,headers:h}=this.checkHeaders(u);if(this.shouldWriteHeaders&&h&&!this.hasWrittenHeaders&&(c.push(this.formatColumns(h,!0)),this.hasWrittenHeaders=!0),f){const w=this.gatherColumns(u);c.push(this.formatColumns(w,!1))}}return s(null,c)})}finish(r){const s=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return r(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));s.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&s.push(this.formatterOptions.rowDelimiter),r(null,s)}checkHeaders(r){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const s=t.gatherHeaders(r);return this.headers=s,this.fieldFormatter.headers=s,this.shouldWriteHeaders?{shouldFormatColumns:!l.default(s,r),headers:s}:{shouldFormatColumns:!0,headers:null}}gatherColumns(r){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(r)?t.isRowHashArray(r)?this.headers.map((s,d)=>{const u=r[d];return u?u[1]:""}):t.isRowArray(r)&&!this.shouldWriteHeaders?r:this.headers.map((s,d)=>r[d]):this.headers.map(s=>r[s])}callTransformer(r,s){return this._rowTransform?this._rowTransform(r,s):s(null,r)}formatColumns(r,s){const d=r.map((c,f)=>this.fieldFormatter.format(c,f,s)).join(this.formatterOptions.delimiter),{rowCount:u}=this;return this.rowCount+=1,u?[this.formatterOptions.rowDelimiter,d].join(""):d}}S.RowFormatter=t},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.FieldFormatter=S.RowFormatter=void 0;var m=i("./RowFormatter");Object.defineProperty(S,"RowFormatter",{enumerable:!0,get:function(){return m.RowFormatter}});var o=i("./FieldFormatter");Object.defineProperty(S,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(i,T,S){(function(m){(function(){var o=Object.create?function(f,h,w,k){k===void 0&&(k=w),Object.defineProperty(f,k,{enumerable:!0,get:function(){return h[w]}})}:function(f,h,w,k){k===void 0&&(k=w),f[k]=h[w]},l=Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h},n=function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var w in f)w!=="default"&&Object.prototype.hasOwnProperty.call(f,w)&&o(h,f,w);return l(h,f),h},e=function(f,h){for(var w in f)w==="default"||Object.prototype.hasOwnProperty.call(h,w)||o(h,f,w)};Object.defineProperty(S,"__esModule",{value:!0}),S.writeToPath=S.writeToString=S.writeToBuffer=S.writeToStream=S.write=S.format=S.FormatterOptions=S.CsvFormatterStream=void 0;const t=i("util"),a=i("stream"),r=n(i("fs")),s=i("./FormatterOptions"),d=i("./CsvFormatterStream");e(i("./types"),S);var u=i("./CsvFormatterStream");Object.defineProperty(S,"CsvFormatterStream",{enumerable:!0,get:function(){return u.CsvFormatterStream}});var c=i("./FormatterOptions");Object.defineProperty(S,"FormatterOptions",{enumerable:!0,get:function(){return c.FormatterOptions}}),S.format=f=>new d.CsvFormatterStream(new s.FormatterOptions(f)),S.write=(f,h)=>{const w=S.format(h),k=t.promisify((E,j)=>{w.write(E,void 0,j)});return f.reduce((E,j)=>E.then(()=>k(j)),Promise.resolve()).then(()=>w.end()).catch(E=>{w.emit("error",E)}),w},S.writeToStream=(f,h,w)=>S.write(h,w).pipe(f),S.writeToBuffer=function(f){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],k=new a.Writable({write(E,j,$){w.push(E),$()}});return new Promise((E,j)=>{k.on("error",j).on("finish",()=>E(m.concat(w))),S.write(f,h).pipe(k)})},S.writeToString=(f,h)=>S.writeToBuffer(f,h).then(w=>w.toString()),S.writeToPath=(f,h,w)=>{const k=r.createWriteStream(f,{encoding:"utf8"});return S.write(h,w).pipe(k)}}).call(this)}).call(this,i("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.isSyncTransform=void 0,S.isSyncTransform=m=>m.length===1},{}],153:[function(i,T,S){(function(m){(function(){Object.defineProperty(S,"__esModule",{value:!0}),S.CsvParserStream=void 0;const o=i("string_decoder"),l=i("stream"),n=i("./transforms"),e=i("./parser");class t extends l.Transform{constructor(r){super({objectMode:r.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=r,this.parser=new e.Parser(r),this.headerTransformer=new n.HeaderTransformer(r),this.decoder=new o.StringDecoder(r.encoding),this.rowTransformerValidator=new n.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(r){return this.rowTransformerValidator.rowTransform=r,this}validate(r){return this.rowTransformerValidator.rowValidator=r,this}emit(r){if(r==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var s=arguments.length,d=new Array(s>1?s-1:0),u=1;u<s;u++)d[u-1]=arguments[u];return super.emit(r,...d)}_transform(r,s,d){if(this.hasHitRowLimit)return d();const u=t.wrapDoneCallback(d);try{const{lines:c}=this,f=c+this.decoder.write(r),h=this.parse(f,!0);return this.processRows(h,u)}catch(c){return u(c)}}_flush(r){const s=t.wrapDoneCallback(r);if(this.hasHitRowLimit)return s();try{const d=this.lines+this.decoder.end(),u=this.parse(d,!1);return this.processRows(u,s)}catch(d){return s(d)}}parse(r,s){if(!r)return[];const{line:d,rows:u}=this.parser.parse(r,s);return this.lines=d,u}processRows(r,s){const d=r.length,u=c=>{const f=k=>k?s(k):c%100!=0?u(c+1):void m(()=>u(c+1));if(this.checkAndEmitHeaders(),c>=d||this.hasHitRowLimit)return s();if(this.parsedLineCount+=1,this.shouldSkipLine)return f();const h=r[c];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(h,(k,E)=>{if(k)return this.rowCount-=1,f(k);if(!E)return f(new Error("expected transform result"));if(E.isValid){if(E.row)return this.pushRow(E.row,f)}else this.emit("data-invalid",E.row,w,E.reason);return f()})};u(0)}transformRow(r,s){try{this.headerTransformer.transform(r,(d,u)=>d?s(d):u?u.isValid?u.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(u.row,s):this.skipRow(s):(this.rowCount-=1,this.parsedRowCount-=1,s(null,{row:null,isValid:!0})):this.shouldEmitRows?s(null,{isValid:!1,row:r}):this.skipRow(s):s(new Error("Expected result from header transform")))}catch(d){s(d)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(r){return this.rowCount-=1,r(null,{row:null,isValid:!0})}pushRow(r,s){try{this.parserOptions.objectMode?this.push(r):this.push(JSON.stringify(r)),s()}catch(d){s(d)}}static wrapDoneCallback(r){let s=!1;return function(d){if(d){if(s)throw d;return s=!0,void r(d)}for(var u=arguments.length,c=new Array(u>1?u-1:0),f=1;f<u;f++)c[f-1]=arguments[f];r(...c)}}}S.CsvParserStream=t}).call(this)}).call(this,i("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(i,T,S){var m=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(S,"__esModule",{value:!0}),S.ParserOptions=void 0;const o=m(i("lodash.escaperegexp")),l=m(i("lodash.isnil"));S.ParserOptions=class{constructor(n){var e;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,n||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(e=this.escape)!==null&&e!==void 0?e:this.quote,this.supportsComments=!l.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(i,T,S){var m=Object.create?function(u,c,f,h){h===void 0&&(h=f),Object.defineProperty(u,h,{enumerable:!0,get:function(){return c[f]}})}:function(u,c,f,h){h===void 0&&(h=f),u[h]=c[f]},o=Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c},l=function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var f in u)f!=="default"&&Object.prototype.hasOwnProperty.call(u,f)&&m(c,u,f);return o(c,u),c},n=function(u,c){for(var f in u)f==="default"||Object.prototype.hasOwnProperty.call(c,f)||m(c,u,f)};Object.defineProperty(S,"__esModule",{value:!0}),S.parseString=S.parseFile=S.parseStream=S.parse=S.ParserOptions=S.CsvParserStream=void 0;const e=l(i("fs")),t=i("stream"),a=i("./ParserOptions"),r=i("./CsvParserStream");n(i("./types"),S);var s=i("./CsvParserStream");Object.defineProperty(S,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}});var d=i("./ParserOptions");Object.defineProperty(S,"ParserOptions",{enumerable:!0,get:function(){return d.ParserOptions}}),S.parse=u=>new r.CsvParserStream(new a.ParserOptions(u)),S.parseStream=(u,c)=>u.pipe(new r.CsvParserStream(new a.ParserOptions(c))),S.parseFile=function(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.createReadStream(u).pipe(new r.CsvParserStream(new a.ParserOptions(c)))},S.parseString=(u,c)=>{const f=new t.Readable;return f.push(u),f.push(null),f.pipe(new r.CsvParserStream(new a.ParserOptions(c)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.Parser=void 0;const m=i("./Scanner"),o=i("./RowParser"),l=i("./Token");class n{constructor(t){this.parserOptions=t,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(t){return t&&t.charCodeAt(0)===65279?t.slice(1):t}parse(t,a){const r=new m.Scanner({line:n.removeBOM(t),parserOptions:this.parserOptions,hasMoreData:a});return this.parserOptions.supportsComments?this.parseWithComments(r):this.parseWithoutComments(r)}parseWithoutComments(t){const a=[];let r=!0;for(;r;)r=this.parseRow(t,a);return{line:t.line,rows:a}}parseWithComments(t){const{parserOptions:a}=this,r=[];for(let s=t.nextCharacterToken;s!==null;s=t.nextCharacterToken)if(l.Token.isTokenComment(s,a)){if(t.advancePastLine()===null)return{line:t.lineFromCursor,rows:r};if(!t.hasMoreCharacters)return{line:t.lineFromCursor,rows:r};t.truncateToCursor()}else if(!this.parseRow(t,r))break;return{line:t.line,rows:r}}parseRow(t,a){if(!t.nextNonSpaceToken)return!1;const r=this.rowParser.parse(t);return r!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(r)||a.push(r),!0)}}S.Parser=n},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.RowParser=void 0;const m=i("./column"),o=i("./Token");S.RowParser=class{constructor(l){this.parserOptions=l,this.columnParser=new m.ColumnParser(l)}static isEmptyRow(l){return l.join("").replace(/\s+/g,"")===""}parse(l){const{parserOptions:n}=this,{hasMoreData:e}=l,t=l,a=[];let r=this.getStartToken(t,a);for(;r;){if(o.Token.isTokenRowDelimiter(r))return t.advancePastToken(r),!t.hasMoreCharacters&&o.Token.isTokenCarriageReturn(r,n)&&e?null:(t.truncateToCursor(),a);if(!this.shouldSkipColumnParse(t,r,a)){const s=this.columnParser.parse(t);if(s===null)return null;a.push(s)}r=t.nextNonSpaceToken}return e?null:(t.truncateToCursor(),a)}getStartToken(l,n){const e=l.nextNonSpaceToken;return e!==null&&o.Token.isTokenDelimiter(e,this.parserOptions)?(n.push(""),l.nextNonSpaceToken):e}shouldSkipColumnParse(l,n,e){const{parserOptions:t}=this;if(o.Token.isTokenDelimiter(n,t)){l.advancePastToken(n);const a=l.nextCharacterToken;if(!l.hasMoreCharacters||a!==null&&o.Token.isTokenRowDelimiter(a)||a!==null&&o.Token.isTokenDelimiter(a,t))return e.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.Scanner=void 0;const m=i("./Token"),o=/((?:\r\n)|\n|\r)/;S.Scanner=class{constructor(l){this.cursor=0,this.line=l.line,this.lineLength=this.line.length,this.parserOptions=l.parserOptions,this.hasMoreData=l.hasMoreData,this.cursor=l.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:l}=this,n=this.parserOptions.NEXT_TOKEN_REGEXP;if(l.search(n)===-1)return null;const e=n.exec(l);if(e==null)return null;const t=e[1],a=this.cursor+(e.index||0);return new m.Token({token:t,startCursor:a,endCursor:a+t.length-1})}get nextCharacterToken(){const{cursor:l,lineLength:n}=this;return n<=l?null:new m.Token({token:this.line[l],startCursor:l,endCursor:l})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const l=o.exec(this.lineFromCursor);return l?(this.cursor+=(l.index||0)+l[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(l){return this.cursor=l,this}advanceToToken(l){return this.cursor=l.startCursor,this}advancePastToken(l){return this.cursor=l.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.Token=void 0,S.Token=class{constructor(m){this.token=m.token,this.startCursor=m.startCursor,this.endCursor=m.endCursor}static isTokenRowDelimiter(m){const o=m.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(m,o){return m.token===o.carriageReturn}static isTokenComment(m,o){return o.supportsComments&&!!m&&m.token===o.comment}static isTokenEscapeCharacter(m,o){return m.token===o.escapeChar}static isTokenQuote(m,o){return m.token===o.quote}static isTokenDelimiter(m,o){return m.token===o.delimiter}}},{}],160:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.ColumnFormatter=void 0,S.ColumnFormatter=class{constructor(m){m.trim?this.format=o=>o.trim():m.ltrim?this.format=o=>o.trimLeft():m.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.ColumnParser=void 0;const m=i("./NonQuotedColumnParser"),o=i("./QuotedColumnParser"),l=i("../Token");S.ColumnParser=class{constructor(n){this.parserOptions=n,this.quotedColumnParser=new o.QuotedColumnParser(n),this.nonQuotedColumnParser=new m.NonQuotedColumnParser(n)}parse(n){const{nextNonSpaceToken:e}=n;return e!==null&&l.Token.isTokenQuote(e,this.parserOptions)?(n.advanceToToken(e),this.quotedColumnParser.parse(n)):this.nonQuotedColumnParser.parse(n)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.NonQuotedColumnParser=void 0;const m=i("./ColumnFormatter"),o=i("../Token");S.NonQuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new m.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const{parserOptions:n}=this,e=[];let t=l.nextCharacterToken;for(;t&&!o.Token.isTokenDelimiter(t,n)&&!o.Token.isTokenRowDelimiter(t);t=l.nextCharacterToken)e.push(t.token),l.advancePastToken(t);return this.columnFormatter.format(e.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.QuotedColumnParser=void 0;const m=i("./ColumnFormatter"),o=i("../Token");S.QuotedColumnParser=class{constructor(l){this.parserOptions=l,this.columnFormatter=new m.ColumnFormatter(l)}parse(l){if(!l.hasMoreCharacters)return null;const n=l.cursor,{foundClosingQuote:e,col:t}=this.gatherDataBetweenQuotes(l);if(!e){if(l.advanceTo(n),!l.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${l.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(l),t}gatherDataBetweenQuotes(l){const{parserOptions:n}=this;let e=!1,t=!1;const a=[];let r=l.nextCharacterToken;for(;!t&&r!==null;r=l.nextCharacterToken){const s=o.Token.isTokenQuote(r,n);if(!e&&s)e=!0;else if(e)if(o.Token.isTokenEscapeCharacter(r,n)){l.advancePastToken(r);const d=l.nextCharacterToken;d!==null&&(o.Token.isTokenQuote(d,n)||o.Token.isTokenEscapeCharacter(d,n))?(a.push(d.token),r=d):s?t=!0:a.push(r.token)}else s?t=!0:a.push(r.token);l.advancePastToken(r)}return{col:this.columnFormatter.format(a.join("")),foundClosingQuote:t}}checkForMalformedColumn(l){const{parserOptions:n}=this,{nextNonSpaceToken:e}=l;if(e){const t=o.Token.isTokenDelimiter(e,n),a=o.Token.isTokenRowDelimiter(e);if(!t&&!a){const r=l.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${n.escapedDelimiter}' OR new line got: '${e.token}'. at '${r}`)}l.advanceToToken(e)}else l.hasMoreData||l.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.ColumnFormatter=S.QuotedColumnParser=S.NonQuotedColumnParser=S.ColumnParser=void 0;var m=i("./ColumnParser");Object.defineProperty(S,"ColumnParser",{enumerable:!0,get:function(){return m.ColumnParser}});var o=i("./NonQuotedColumnParser");Object.defineProperty(S,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var l=i("./QuotedColumnParser");Object.defineProperty(S,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}});var n=i("./ColumnFormatter");Object.defineProperty(S,"ColumnFormatter",{enumerable:!0,get:function(){return n.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.QuotedColumnParser=S.NonQuotedColumnParser=S.ColumnParser=S.Token=S.Scanner=S.RowParser=S.Parser=void 0;var m=i("./Parser");Object.defineProperty(S,"Parser",{enumerable:!0,get:function(){return m.Parser}});var o=i("./RowParser");Object.defineProperty(S,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var l=i("./Scanner");Object.defineProperty(S,"Scanner",{enumerable:!0,get:function(){return l.Scanner}});var n=i("./Token");Object.defineProperty(S,"Token",{enumerable:!0,get:function(){return n.Token}});var e=i("./column");Object.defineProperty(S,"ColumnParser",{enumerable:!0,get:function(){return e.ColumnParser}}),Object.defineProperty(S,"NonQuotedColumnParser",{enumerable:!0,get:function(){return e.NonQuotedColumnParser}}),Object.defineProperty(S,"QuotedColumnParser",{enumerable:!0,get:function(){return e.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(i,T,S){var m=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(S,"__esModule",{value:!0}),S.HeaderTransformer=void 0;const o=m(i("lodash.isundefined")),l=m(i("lodash.isfunction")),n=m(i("lodash.uniq")),e=m(i("lodash.groupby"));S.HeaderTransformer=class{constructor(t){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=t,t.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(t.headers)?this.setHeaders(t.headers):l.default(t.headers)&&(this.headersTransform=t.headers)}transform(t,a){return this.shouldMapRow(t)?a(null,this.processRow(t)):a(null,{row:null,isValid:!0})}shouldMapRow(t){const{parserOptions:a}=this;if(!this.headersTransform&&a.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(t)){if(this.headersTransform)this.setHeaders(this.headersTransform(t));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(t)}return!1}return!0}processRow(t){if(!this.headers)return{row:t,isValid:!0};const{parserOptions:a}=this;if(!a.discardUnmappedColumns&&t.length>this.headersLength){if(!a.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${t.length}`);return{row:t,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${t.length}`}}return a.strictColumnHandling&&t.length<this.headersLength?{row:t,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${t.length}`}:{row:this.mapHeaders(t),isValid:!0}}mapHeaders(t){const a={},{headers:r,headersLength:s}=this;for(let d=0;d<s;d+=1){const u=r[d];if(!o.default(u)){const c=t[d];o.default(c)?a[u]="":a[u]=c}}return a}setHeaders(t){var a;const r=t.filter(s=>!!s);if(n.default(r).length!==r.length){const s=e.default(r),d=Object.keys(s).filter(u=>s[u].length>1);throw new Error("Duplicate headers found "+JSON.stringify(d))}this.headers=t,this.receivedHeaders=!0,this.headersLength=((a=this.headers)===null||a===void 0?void 0:a.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(i,T,S){var m=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(S,"__esModule",{value:!0}),S.RowTransformerValidator=void 0;const o=m(i("lodash.isfunction")),l=i("../types");class n{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(t){return l.isSyncTransform(t)?(a,r)=>{let s=null;try{s=t(a)}catch(d){return r(d)}return r(null,s)}:t}static createValidator(t){return l.isSyncValidate(t)?(a,r)=>{r(null,{row:a,isValid:t(a)})}:(a,r)=>{t(a,(s,d,u)=>s?r(s):r(null,d?{row:a,isValid:d,reason:u}:{row:a,isValid:!1,reason:u}))}}set rowTransform(t){if(!o.default(t))throw new TypeError("The transform should be a function");this._rowTransform=n.createTransform(t)}set rowValidator(t){if(!o.default(t))throw new TypeError("The validate should be a function");this._rowValidator=n.createValidator(t)}transformAndValidate(t,a){return this.callTransformer(t,(r,s)=>r?a(r):s?this.callValidator(s,(d,u)=>d?a(d):u&&!u.isValid?a(null,{row:s,isValid:!1,reason:u.reason}):a(null,{row:s,isValid:!0})):a(null,{row:null,isValid:!0}))}callTransformer(t,a){return this._rowTransform?this._rowTransform(t,a):a(null,t)}callValidator(t,a){return this._rowValidator?this._rowValidator(t,a):a(null,{row:t,isValid:!0})}}S.RowTransformerValidator=n},{"../types":169,"lodash.isfunction":446}],168:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.HeaderTransformer=S.RowTransformerValidator=void 0;var m=i("./RowTransformerValidator");Object.defineProperty(S,"RowTransformerValidator",{enumerable:!0,get:function(){return m.RowTransformerValidator}});var o=i("./HeaderTransformer");Object.defineProperty(S,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.isSyncValidate=S.isSyncTransform=void 0,S.isSyncTransform=m=>m.length===1,S.isSyncValidate=m=>m.length===1},{}],170:[function(i,T,S){const m=S;m.bignum=i("bn.js"),m.define=i("./asn1/api").define,m.base=i("./asn1/base"),m.constants=i("./asn1/constants"),m.decoders=i("./asn1/decoders"),m.encoders=i("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(i,T,S){const m=i("./encoders"),o=i("./decoders"),l=i("inherits");function n(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}S.define=function(e,t){return new n(e,t)},n.prototype._createNamed=function(e){const t=this.name;function a(r){this._initNamed(r,t)}return l(a,e),a.prototype._initNamed=function(r,s){e.call(this,r,s)},new a(this)},n.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(o[e])),this.decoders[e]},n.prototype.decode=function(e,t,a){return this._getDecoder(t).decode(e,a)},n.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(m[e])),this.encoders[e]},n.prototype.encode=function(e,t,a){return this._getEncoder(t).encode(e,a)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(i,T,S){const m=i("inherits"),o=i("../base/reporter").Reporter,l=i("safer-buffer").Buffer;function n(t,a){o.call(this,a),l.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function e(t,a){if(Array.isArray(t))this.length=0,this.value=t.map(function(r){return e.isEncoderBuffer(r)||(r=new e(r,a)),this.length+=r.length,r},this);else if(typeof t=="number"){if(!(0<=t&&t<=255))return a.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if(typeof t=="string")this.value=t,this.length=l.byteLength(t);else{if(!l.isBuffer(t))return a.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}m(n,o),S.DecoderBuffer=n,n.isDecoderBuffer=function(t){return t instanceof n?!0:typeof t=="object"&&l.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"},n.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},n.prototype.restore=function(t){const a=new n(this.base);return a.offset=t.offset,a.length=this.offset,this.offset=t.offset,o.prototype.restore.call(this,t.reporter),a},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},n.prototype.skip=function(t,a){if(!(this.offset+t<=this.length))return this.error(a||"DecoderBuffer overrun");const r=new n(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+t,this.offset+=t,r},n.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},S.EncoderBuffer=e,e.isEncoderBuffer=function(t){return t instanceof e?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"},e.prototype.join=function(t,a){return t||(t=l.alloc(this.length)),a||(a=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(r){r.join(t,a),a+=r.length}):(typeof this.value=="number"?t[a]=this.value:typeof this.value=="string"?t.write(this.value,a):l.isBuffer(this.value)&&this.value.copy(t,a),a+=this.length)),t}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(i,T,S){const m=S;m.Reporter=i("./reporter").Reporter,m.DecoderBuffer=i("./buffer").DecoderBuffer,m.EncoderBuffer=i("./buffer").EncoderBuffer,m.Node=i("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(i,T,S){const m=i("../base/reporter").Reporter,o=i("../base/buffer").EncoderBuffer,l=i("../base/buffer").DecoderBuffer,n=i("minimalistic-assert"),e=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],t=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(e);function a(s,d,u){const c={};this._baseState=c,c.name=u,c.enc=s,c.parent=d||null,c.children=null,c.tag=null,c.args=null,c.reverseArgs=null,c.choice=null,c.optional=!1,c.any=!1,c.obj=!1,c.use=null,c.useDecoder=null,c.key=null,c.default=null,c.explicit=null,c.implicit=null,c.contains=null,c.parent||(c.children=[],this._wrap())}T.exports=a;const r=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];a.prototype.clone=function(){const s=this._baseState,d={};r.forEach(function(c){d[c]=s[c]});const u=new this.constructor(d.parent);return u._baseState=d,u},a.prototype._wrap=function(){const s=this._baseState;t.forEach(function(d){this[d]=function(){const u=new this.constructor(this);return s.children.push(u),u[d].apply(u,arguments)}},this)},a.prototype._init=function(s){const d=this._baseState;n(d.parent===null),s.call(this),d.children=d.children.filter(function(u){return u._baseState.parent===this},this),n.equal(d.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(s){const d=this._baseState,u=s.filter(function(c){return c instanceof this.constructor},this);s=s.filter(function(c){return!(c instanceof this.constructor)},this),u.length!==0&&(n(d.children===null),d.children=u,u.forEach(function(c){c._baseState.parent=this},this)),s.length!==0&&(n(d.args===null),d.args=s,d.reverseArgs=s.map(function(c){if(typeof c!="object"||c.constructor!==Object)return c;const f={};return Object.keys(c).forEach(function(h){h==(0|h)&&(h|=0);const w=c[h];f[w]=h}),f}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(s){a.prototype[s]=function(){const d=this._baseState;throw new Error(s+" not implemented for encoding: "+d.enc)}}),e.forEach(function(s){a.prototype[s]=function(){const d=this._baseState,u=Array.prototype.slice.call(arguments);return n(d.tag===null),d.tag=s,this._useArgs(u),this}}),a.prototype.use=function(s){n(s);const d=this._baseState;return n(d.use===null),d.use=s,this},a.prototype.optional=function(){return this._baseState.optional=!0,this},a.prototype.def=function(s){const d=this._baseState;return n(d.default===null),d.default=s,d.optional=!0,this},a.prototype.explicit=function(s){const d=this._baseState;return n(d.explicit===null&&d.implicit===null),d.explicit=s,this},a.prototype.implicit=function(s){const d=this._baseState;return n(d.explicit===null&&d.implicit===null),d.implicit=s,this},a.prototype.obj=function(){const s=this._baseState,d=Array.prototype.slice.call(arguments);return s.obj=!0,d.length!==0&&this._useArgs(d),this},a.prototype.key=function(s){const d=this._baseState;return n(d.key===null),d.key=s,this},a.prototype.any=function(){return this._baseState.any=!0,this},a.prototype.choice=function(s){const d=this._baseState;return n(d.choice===null),d.choice=s,this._useArgs(Object.keys(s).map(function(u){return s[u]})),this},a.prototype.contains=function(s){const d=this._baseState;return n(d.use===null),d.contains=s,this},a.prototype._decode=function(s,d){const u=this._baseState;if(u.parent===null)return s.wrapResult(u.children[0]._decode(s,d));let c,f=u.default,h=!0,w=null;if(u.key!==null&&(w=s.enterKey(u.key)),u.optional){let k=null;if(u.explicit!==null?k=u.explicit:u.implicit!==null?k=u.implicit:u.tag!==null&&(k=u.tag),k!==null||u.any){if(h=this._peekTag(s,k,u.any),s.isError(h))return h}else{const E=s.save();try{u.choice===null?this._decodeGeneric(u.tag,s,d):this._decodeChoice(s,d),h=!0}catch{h=!1}s.restore(E)}}if(u.obj&&h&&(c=s.enterObject()),h){if(u.explicit!==null){const E=this._decodeTag(s,u.explicit);if(s.isError(E))return E;s=E}const k=s.offset;if(u.use===null&&u.choice===null){let E;u.any&&(E=s.save());const j=this._decodeTag(s,u.implicit!==null?u.implicit:u.tag,u.any);if(s.isError(j))return j;u.any?f=s.raw(E):s=j}if(d&&d.track&&u.tag!==null&&d.track(s.path(),k,s.length,"tagged"),d&&d.track&&u.tag!==null&&d.track(s.path(),s.offset,s.length,"content"),u.any||(f=u.choice===null?this._decodeGeneric(u.tag,s,d):this._decodeChoice(s,d)),s.isError(f))return f;if(u.any||u.choice!==null||u.children===null||u.children.forEach(function(E){E._decode(s,d)}),u.contains&&(u.tag==="octstr"||u.tag==="bitstr")){const E=new l(f);f=this._getUse(u.contains,s._reporterState.obj)._decode(E,d)}}return u.obj&&h&&(f=s.leaveObject(c)),u.key===null||f===null&&h!==!0?w!==null&&s.exitKey(w):s.leaveKey(w,u.key,f),f},a.prototype._decodeGeneric=function(s,d,u){const c=this._baseState;return s==="seq"||s==="set"?null:s==="seqof"||s==="setof"?this._decodeList(d,s,c.args[0],u):/str$/.test(s)?this._decodeStr(d,s,u):s==="objid"&&c.args?this._decodeObjid(d,c.args[0],c.args[1],u):s==="objid"?this._decodeObjid(d,null,null,u):s==="gentime"||s==="utctime"?this._decodeTime(d,s,u):s==="null_"?this._decodeNull(d,u):s==="bool"?this._decodeBool(d,u):s==="objDesc"?this._decodeStr(d,s,u):s==="int"||s==="enum"?this._decodeInt(d,c.args&&c.args[0],u):c.use!==null?this._getUse(c.use,d._reporterState.obj)._decode(d,u):d.error("unknown tag: "+s)},a.prototype._getUse=function(s,d){const u=this._baseState;return u.useDecoder=this._use(s,d),n(u.useDecoder._baseState.parent===null),u.useDecoder=u.useDecoder._baseState.children[0],u.implicit!==u.useDecoder._baseState.implicit&&(u.useDecoder=u.useDecoder.clone(),u.useDecoder._baseState.implicit=u.implicit),u.useDecoder},a.prototype._decodeChoice=function(s,d){const u=this._baseState;let c=null,f=!1;return Object.keys(u.choice).some(function(h){const w=s.save(),k=u.choice[h];try{const E=k._decode(s,d);if(s.isError(E))return!1;c={type:h,value:E},f=!0}catch{return s.restore(w),!1}return!0},this),f?c:s.error("Choice not matched")},a.prototype._createEncoderBuffer=function(s){return new o(s,this.reporter)},a.prototype._encode=function(s,d,u){const c=this._baseState;if(c.default!==null&&c.default===s)return;const f=this._encodeValue(s,d,u);return f===void 0||this._skipDefault(f,d,u)?void 0:f},a.prototype._encodeValue=function(s,d,u){const c=this._baseState;if(c.parent===null)return c.children[0]._encode(s,d||new m);let f=null;if(this.reporter=d,c.optional&&s===void 0){if(c.default===null)return;s=c.default}let h=null,w=!1;if(c.any)f=this._createEncoderBuffer(s);else if(c.choice)f=this._encodeChoice(s,d);else if(c.contains)h=this._getUse(c.contains,u)._encode(s,d),w=!0;else if(c.children)h=c.children.map(function(k){if(k._baseState.tag==="null_")return k._encode(null,d,s);if(k._baseState.key===null)return d.error("Child should have a key");const E=d.enterKey(k._baseState.key);if(typeof s!="object")return d.error("Child expected, but input is not object");const j=k._encode(s[k._baseState.key],d,s);return d.leaveKey(E),j},this).filter(function(k){return k}),h=this._createEncoderBuffer(h);else if(c.tag==="seqof"||c.tag==="setof"){if(!c.args||c.args.length!==1)return d.error("Too many args for : "+c.tag);if(!Array.isArray(s))return d.error("seqof/setof, but data is not Array");const k=this.clone();k._baseState.implicit=null,h=this._createEncoderBuffer(s.map(function(E){const j=this._baseState;return this._getUse(j.args[0],s)._encode(E,d)},k))}else c.use!==null?f=this._getUse(c.use,u)._encode(s,d):(h=this._encodePrimitive(c.tag,s),w=!0);if(!c.any&&c.choice===null){const k=c.implicit!==null?c.implicit:c.tag,E=c.implicit===null?"universal":"context";k===null?c.use===null&&d.error("Tag could be omitted only for .use()"):c.use===null&&(f=this._encodeComposite(k,w,E,h))}return c.explicit!==null&&(f=this._encodeComposite(c.explicit,!1,"context",f)),f},a.prototype._encodeChoice=function(s,d){const u=this._baseState,c=u.choice[s.type];return c||n(!1,s.type+" not found in "+JSON.stringify(Object.keys(u.choice))),c._encode(s.value,d)},a.prototype._encodePrimitive=function(s,d){const u=this._baseState;if(/str$/.test(s))return this._encodeStr(d,s);if(s==="objid"&&u.args)return this._encodeObjid(d,u.reverseArgs[0],u.args[1]);if(s==="objid")return this._encodeObjid(d,null,null);if(s==="gentime"||s==="utctime")return this._encodeTime(d,s);if(s==="null_")return this._encodeNull();if(s==="int"||s==="enum")return this._encodeInt(d,u.args&&u.reverseArgs[0]);if(s==="bool")return this._encodeBool(d);if(s==="objDesc")return this._encodeStr(d,s);throw new Error("Unsupported tag: "+s)},a.prototype._isNumstr=function(s){return/^[0-9 ]*$/.test(s)},a.prototype._isPrintstr=function(s){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(s)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(i,T,S){const m=i("inherits");function o(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}function l(n,e){this.path=n,this.rethrow(e)}S.Reporter=o,o.prototype.isError=function(n){return n instanceof l},o.prototype.save=function(){const n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},o.prototype.restore=function(n){const e=this._reporterState;e.obj=n.obj,e.path=e.path.slice(0,n.pathLen)},o.prototype.enterKey=function(n){return this._reporterState.path.push(n)},o.prototype.exitKey=function(n){const e=this._reporterState;e.path=e.path.slice(0,n-1)},o.prototype.leaveKey=function(n,e,t){const a=this._reporterState;this.exitKey(n),a.obj!==null&&(a.obj[e]=t)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const n=this._reporterState,e=n.obj;return n.obj={},e},o.prototype.leaveObject=function(n){const e=this._reporterState,t=e.obj;return e.obj=n,t},o.prototype.error=function(n){let e;const t=this._reporterState,a=n instanceof l;if(e=a?n:new l(t.path.map(function(r){return"["+JSON.stringify(r)+"]"}).join(""),n.message||n,n.stack),!t.options.partial)throw e;return a||t.errors.push(e),e},o.prototype.wrapResult=function(n){const e=this._reporterState;return e.options.partial?{result:this.isError(n)?null:n,errors:e.errors}:n},m(l,Error),l.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,l),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:440}],176:[function(i,T,S){function m(o){const l={};return Object.keys(o).forEach(function(n){(0|n)==n&&(n|=0);const e=o[n];l[e]=n}),l}S.tagClass={0:"universal",1:"application",2:"context",3:"private"},S.tagClassByName=m(S.tagClass),S.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},S.tagByName=m(S.tag)},{}],177:[function(i,T,S){const m=S;m._reverse=function(o){const l={};return Object.keys(o).forEach(function(n){(0|n)==n&&(n|=0);const e=o[n];l[e]=n}),l},m.der=i("./der")},{"./der":176}],178:[function(i,T,S){const m=i("inherits"),o=i("bn.js"),l=i("../base/buffer").DecoderBuffer,n=i("../base/node"),e=i("../constants/der");function t(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new a,this.tree._init(d.body)}function a(d){n.call(this,"der",d)}function r(d,u){let c=d.readUInt8(u);if(d.isError(c))return c;const f=e.tagClass[c>>6],h=(32&c)==0;if((31&c)==31){let w=c;for(c=0;(128&w)==128;){if(w=d.readUInt8(u),d.isError(w))return w;c<<=7,c|=127&w}}else c&=31;return{cls:f,primitive:h,tag:c,tagStr:e.tag[c]}}function s(d,u,c){let f=d.readUInt8(c);if(d.isError(f))return f;if(!u&&f===128)return null;if(!(128&f))return f;const h=127&f;if(h>4)return d.error("length octect is too long");f=0;for(let w=0;w<h;w++){f<<=8;const k=d.readUInt8(c);if(d.isError(k))return k;f|=k}return f}T.exports=t,t.prototype.decode=function(d,u){return l.isDecoderBuffer(d)||(d=new l(d,u)),this.tree._decode(d,u)},m(a,n),a.prototype._peekTag=function(d,u,c){if(d.isEmpty())return!1;const f=d.save(),h=r(d,'Failed to peek tag: "'+u+'"');return d.isError(h)?h:(d.restore(f),h.tag===u||h.tagStr===u||h.tagStr+"of"===u||c)},a.prototype._decodeTag=function(d,u,c){const f=r(d,'Failed to decode tag of "'+u+'"');if(d.isError(f))return f;let h=s(d,f.primitive,'Failed to get length of "'+u+'"');if(d.isError(h))return h;if(!c&&f.tag!==u&&f.tagStr!==u&&f.tagStr+"of"!==u)return d.error('Failed to match tag: "'+u+'"');if(f.primitive||h!==null)return d.skip(h,'Failed to match body of: "'+u+'"');const w=d.save(),k=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(k)?k:(h=d.offset-w.offset,d.restore(w),d.skip(h,'Failed to match body of: "'+u+'"'))},a.prototype._skipUntilEnd=function(d,u){for(;;){const c=r(d,u);if(d.isError(c))return c;const f=s(d,c.primitive,u);if(d.isError(f))return f;let h;if(h=c.primitive||f!==null?d.skip(f):this._skipUntilEnd(d,u),d.isError(h))return h;if(c.tagStr==="end")break}},a.prototype._decodeList=function(d,u,c,f){const h=[];for(;!d.isEmpty();){const w=this._peekTag(d,"end");if(d.isError(w))return w;const k=c.decode(d,"der",f);if(d.isError(k)&&w)break;h.push(k)}return h},a.prototype._decodeStr=function(d,u){if(u==="bitstr"){const c=d.readUInt8();return d.isError(c)?c:{unused:c,data:d.raw()}}if(u==="bmpstr"){const c=d.raw();if(c.length%2==1)return d.error("Decoding of string type: bmpstr length mismatch");let f="";for(let h=0;h<c.length/2;h++)f+=String.fromCharCode(c.readUInt16BE(2*h));return f}if(u==="numstr"){const c=d.raw().toString("ascii");return this._isNumstr(c)?c:d.error("Decoding of string type: numstr unsupported characters")}if(u==="octstr"||u==="objDesc")return d.raw();if(u==="printstr"){const c=d.raw().toString("ascii");return this._isPrintstr(c)?c:d.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(u)?d.raw().toString():d.error("Decoding of string type: "+u+" unsupported")},a.prototype._decodeObjid=function(d,u,c){let f;const h=[];let w=0,k=0;for(;!d.isEmpty();)k=d.readUInt8(),w<<=7,w|=127&k,!(128&k)&&(h.push(w),w=0);128&k&&h.push(w);const E=h[0]/40|0,j=h[0]%40;if(f=c?h:[E,j].concat(h.slice(1)),u){let $=u[f.join(" ")];$===void 0&&($=u[f.join(".")]),$!==void 0&&(f=$)}return f},a.prototype._decodeTime=function(d,u){const c=d.raw().toString();let f,h,w,k,E,j;if(u==="gentime")f=0|c.slice(0,4),h=0|c.slice(4,6),w=0|c.slice(6,8),k=0|c.slice(8,10),E=0|c.slice(10,12),j=0|c.slice(12,14);else{if(u!=="utctime")return d.error("Decoding "+u+" time is not supported yet");f=0|c.slice(0,2),h=0|c.slice(2,4),w=0|c.slice(4,6),k=0|c.slice(6,8),E=0|c.slice(8,10),j=0|c.slice(10,12),f=f<70?2e3+f:1900+f}return Date.UTC(f,h-1,w,k,E,j,0)},a.prototype._decodeNull=function(){return null},a.prototype._decodeBool=function(d){const u=d.readUInt8();return d.isError(u)?u:u!==0},a.prototype._decodeInt=function(d,u){const c=d.raw();let f=new o(c);return u&&(f=u[f.toString(10)]||f),f},a.prototype._use=function(d,u){return typeof d=="function"&&(d=d(u)),d._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(i,T,S){const m=S;m.der=i("./der"),m.pem=i("./pem")},{"./der":178,"./pem":180}],180:[function(i,T,S){const m=i("inherits"),o=i("safer-buffer").Buffer,l=i("./der");function n(e){l.call(this,e),this.enc="pem"}m(n,l),T.exports=n,n.prototype.decode=function(e,t){const a=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let d=-1,u=-1;for(let h=0;h<a.length;h++){const w=a[h].match(s);if(w!==null&&w[2]===r){if(d!==-1){if(w[1]!=="END")break;u=h;break}if(w[1]!=="BEGIN")break;d=h}}if(d===-1||u===-1)throw new Error("PEM section not found for: "+r);const c=a.slice(d+1,u).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const f=o.from(c,"base64");return l.prototype.decode.call(this,f,t)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(i,T,S){const m=i("inherits"),o=i("safer-buffer").Buffer,l=i("../base/node"),n=i("../constants/der");function e(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new t,this.tree._init(r.body)}function t(r){l.call(this,"der",r)}function a(r){return r<10?"0"+r:r}T.exports=e,e.prototype.encode=function(r,s){return this.tree._encode(r,s).join()},m(t,l),t.prototype._encodeComposite=function(r,s,d,u){const c=function(w,k,E,j){let $;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),n.tagByName.hasOwnProperty(w))$=n.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return j.error("Unknown tag: "+w);$=w}return $>=31?j.error("Multi-octet tag encoding unsupported"):(k||($|=32),$|=n.tagClassByName[E||"universal"]<<6,$)}(r,s,d,this.reporter);if(u.length<128){const w=o.alloc(2);return w[0]=c,w[1]=u.length,this._createEncoderBuffer([w,u])}let f=1;for(let w=u.length;w>=256;w>>=8)f++;const h=o.alloc(2+f);h[0]=c,h[1]=128|f;for(let w=1+f,k=u.length;k>0;w--,k>>=8)h[w]=255&k;return this._createEncoderBuffer([h,u])},t.prototype._encodeStr=function(r,s){if(s==="bitstr")return this._createEncoderBuffer([0|r.unused,r.data]);if(s==="bmpstr"){const d=o.alloc(2*r.length);for(let u=0;u<r.length;u++)d.writeUInt16BE(r.charCodeAt(u),2*u);return this._createEncoderBuffer(d)}return s==="numstr"?this._isNumstr(r)?this._createEncoderBuffer(r):this.reporter.error("Encoding of string type: numstr supports only digits and space"):s==="printstr"?this._isPrintstr(r)?this._createEncoderBuffer(r):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(s)||s==="objDesc"?this._createEncoderBuffer(r):this.reporter.error("Encoding of string type: "+s+" unsupported")},t.prototype._encodeObjid=function(r,s,d){if(typeof r=="string"){if(!s)return this.reporter.error("string objid given, but no values map found");if(!s.hasOwnProperty(r))return this.reporter.error("objid not found in values map");r=s[r].split(/[\s.]+/g);for(let h=0;h<r.length;h++)r[h]|=0}else if(Array.isArray(r)){r=r.slice();for(let h=0;h<r.length;h++)r[h]|=0}if(!Array.isArray(r))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(r));if(!d){if(r[1]>=40)return this.reporter.error("Second objid identifier OOB");r.splice(0,2,40*r[0]+r[1])}let u=0;for(let h=0;h<r.length;h++){let w=r[h];for(u++;w>=128;w>>=7)u++}const c=o.alloc(u);let f=c.length-1;for(let h=r.length-1;h>=0;h--){let w=r[h];for(c[f--]=127&w;(w>>=7)>0;)c[f--]=128|127&w}return this._createEncoderBuffer(c)},t.prototype._encodeTime=function(r,s){let d;const u=new Date(r);return s==="gentime"?d=[a(u.getUTCFullYear()),a(u.getUTCMonth()+1),a(u.getUTCDate()),a(u.getUTCHours()),a(u.getUTCMinutes()),a(u.getUTCSeconds()),"Z"].join(""):s==="utctime"?d=[a(u.getUTCFullYear()%100),a(u.getUTCMonth()+1),a(u.getUTCDate()),a(u.getUTCHours()),a(u.getUTCMinutes()),a(u.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+s+" time is not supported yet"),this._encodeStr(d,"octstr")},t.prototype._encodeNull=function(){return this._createEncoderBuffer("")},t.prototype._encodeInt=function(r,s){if(typeof r=="string"){if(!s)return this.reporter.error("String int or enum given, but no values map");if(!s.hasOwnProperty(r))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(r));r=s[r]}if(typeof r!="number"&&!o.isBuffer(r)){const c=r.toArray();!r.sign&&128&c[0]&&c.unshift(0),r=o.from(c)}if(o.isBuffer(r)){let c=r.length;r.length===0&&c++;const f=o.alloc(c);return r.copy(f),r.length===0&&(f[0]=0),this._createEncoderBuffer(f)}if(r<128)return this._createEncoderBuffer(r);if(r<256)return this._createEncoderBuffer([0,r]);let d=1;for(let c=r;c>=256;c>>=8)d++;const u=new Array(d);for(let c=u.length-1;c>=0;c--)u[c]=255&r,r>>=8;return 128&u[0]&&u.unshift(0),this._createEncoderBuffer(o.from(u))},t.prototype._encodeBool=function(r){return this._createEncoderBuffer(r?255:0)},t.prototype._use=function(r,s){return typeof r=="function"&&(r=r(s)),r._getEncoder("der").tree},t.prototype._skipDefault=function(r,s,d){const u=this._baseState;let c;if(u.default===null)return!1;const f=r.join();if(u.defaultBuffer===void 0&&(u.defaultBuffer=this._encodeValue(u.default,s,d).join()),f.length!==u.defaultBuffer.length)return!1;for(c=0;c<f.length;c++)if(f[c]!==u.defaultBuffer[c])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(i,T,S){const m=S;m.der=i("./der"),m.pem=i("./pem")},{"./der":181,"./pem":183}],183:[function(i,T,S){const m=i("inherits"),o=i("./der");function l(n){o.call(this,n),this.enc="pem"}m(l,o),T.exports=l,l.prototype.encode=function(n,e){const t=o.prototype.encode.call(this,n).toString("base64"),a=["-----BEGIN "+e.label+"-----"];for(let r=0;r<t.length;r+=64)a.push(t.slice(r,r+64));return a.push("-----END "+e.label+"-----"),a.join(`
`)}},{"./der":181,inherits:440}],184:[function(i,T,S){(function(m,o){function l(_,C){if(!_)throw new Error(C||"Assertion failed")}function n(_,C){_.super_=C;var v=function(){};v.prototype=C.prototype,_.prototype=new v,_.prototype.constructor=_}function e(_,C,v){if(e.isBN(_))return _;this.negative=0,this.words=null,this.length=0,this.red=null,_!==null&&(C!=="le"&&C!=="be"||(v=C,C=10),this._init(_||0,C||10,v||"be"))}var t;typeof m=="object"?m.exports=e:(void 0).BN=e,e.BN=e,e.wordSize=26;try{t=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i("buffer").Buffer}catch{}function a(_,C){var v=_.charCodeAt(C);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function r(_,C,v){var p=a(_,v);return v-1>=C&&(p|=a(_,v-1)<<4),p}function s(_,C,v,p){for(var b=0,g=Math.min(_.length,v),y=C;y<g;y++){var x=_.charCodeAt(y)-48;b*=p,b+=x>=49?x-49+10:x>=17?x-17+10:x}return b}e.isBN=function(_){return _ instanceof e||_!==null&&typeof _=="object"&&_.constructor.wordSize===e.wordSize&&Array.isArray(_.words)},e.max=function(_,C){return _.cmp(C)>0?_:C},e.min=function(_,C){return _.cmp(C)<0?_:C},e.prototype._init=function(_,C,v){if(typeof _=="number")return this._initNumber(_,C,v);if(typeof _=="object")return this._initArray(_,C,v);C==="hex"&&(C=16),l(C===(0|C)&&C>=2&&C<=36);var p=0;(_=_.toString().replace(/\s+/g,""))[0]==="-"&&(p++,this.negative=1),p<_.length&&(C===16?this._parseHex(_,p,v):(this._parseBase(_,C,p),v==="le"&&this._initArray(this.toArray(),C,v)))},e.prototype._initNumber=function(_,C,v){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[67108863&_],this.length=1):_<4503599627370496?(this.words=[67108863&_,_/67108864&67108863],this.length=2):(l(_<9007199254740992),this.words=[67108863&_,_/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),C,v)},e.prototype._initArray=function(_,C,v){if(l(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var b,g,y=0;if(v==="be")for(p=_.length-1,b=0;p>=0;p-=3)g=_[p]|_[p-1]<<8|_[p-2]<<16,this.words[b]|=g<<y&67108863,this.words[b+1]=g>>>26-y&67108863,(y+=24)>=26&&(y-=26,b++);else if(v==="le")for(p=0,b=0;p<_.length;p+=3)g=_[p]|_[p+1]<<8|_[p+2]<<16,this.words[b]|=g<<y&67108863,this.words[b+1]=g>>>26-y&67108863,(y+=24)>=26&&(y-=26,b++);return this.strip()},e.prototype._parseHex=function(_,C,v){this.length=Math.ceil((_.length-C)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var b,g=0,y=0;if(v==="be")for(p=_.length-1;p>=C;p-=2)b=r(_,C,p)<<g,this.words[y]|=67108863&b,g>=18?(g-=18,y+=1,this.words[y]|=b>>>26):g+=8;else for(p=(_.length-C)%2==0?C+1:C;p<_.length;p+=2)b=r(_,C,p)<<g,this.words[y]|=67108863&b,g>=18?(g-=18,y+=1,this.words[y]|=b>>>26):g+=8;this.strip()},e.prototype._parseBase=function(_,C,v){this.words=[0],this.length=1;for(var p=0,b=1;b<=67108863;b*=C)p++;p--,b=b/C|0;for(var g=_.length-v,y=g%p,x=Math.min(g,g-y)+v,M=0,F=v;F<x;F+=p)M=s(_,F,F+p,C),this.imuln(b),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(y!==0){var q=1;for(M=s(_,F,_.length,C),F=0;F<y;F++)q*=C;this.imuln(q),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this.strip()},e.prototype.copy=function(_){_.words=new Array(this.length);for(var C=0;C<this.length;C++)_.words[C]=this.words[C];_.length=this.length,_.negative=this.negative,_.red=this.red},e.prototype.clone=function(){var _=new e(null);return this.copy(_),_},e.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},e.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},e.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(_,C,v){v.negative=C.negative^_.negative;var p=_.length+C.length|0;v.length=p,p=p-1|0;var b=0|_.words[0],g=0|C.words[0],y=b*g,x=67108863&y,M=y/67108864|0;v.words[0]=x;for(var F=1;F<p;F++){for(var q=M>>>26,U=67108863&M,Y=Math.min(F,C.length-1),B=Math.max(0,F-_.length+1);B<=Y;B++){var W=F-B|0;q+=(y=(b=0|_.words[W])*(g=0|C.words[B])+U)/67108864|0,U=67108863&y}v.words[F]=0|U,M=0|q}return M!==0?v.words[F]=0|M:v.length--,v.strip()}e.prototype.toString=function(_,C){var v;if(C=0|C||1,(_=_||10)===16||_==="hex"){v="";for(var p=0,b=0,g=0;g<this.length;g++){var y=this.words[g],x=(16777215&(y<<p|b)).toString(16);v=(b=y>>>24-p&16777215)!==0||g!==this.length-1?d[6-x.length]+x+v:x+v,(p+=2)>=26&&(p-=26,g--)}for(b!==0&&(v=b.toString(16)+v);v.length%C!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(_===(0|_)&&_>=2&&_<=36){var M=u[_],F=c[_];v="";var q=this.clone();for(q.negative=0;!q.isZero();){var U=q.modn(F).toString(_);v=(q=q.idivn(F)).isZero()?U+v:d[M-U.length]+U+v}for(this.isZero()&&(v="0"+v);v.length%C!=0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}l(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=67108864*this.words[1]:this.length===3&&this.words[2]===1?_+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},e.prototype.toJSON=function(){return this.toString(16)},e.prototype.toBuffer=function(_,C){return l(t!==void 0),this.toArrayLike(t,_,C)},e.prototype.toArray=function(_,C){return this.toArrayLike(Array,_,C)},e.prototype.toArrayLike=function(_,C,v){var p=this.byteLength(),b=v||Math.max(1,p);l(p<=b,"byte array longer than desired length"),l(b>0,"Requested array length <= 0"),this.strip();var g,y,x=C==="le",M=new _(b),F=this.clone();if(x){for(y=0;!F.isZero();y++)g=F.andln(255),F.iushrn(8),M[y]=g;for(;y<b;y++)M[y]=0}else{for(y=0;y<b-p;y++)M[y]=0;for(y=0;!F.isZero();y++)g=F.andln(255),F.iushrn(8),M[b-y-1]=g}return M},Math.clz32?e.prototype._countBits=function(_){return 32-Math.clz32(_)}:e.prototype._countBits=function(_){var C=_,v=0;return C>=4096&&(v+=13,C>>>=13),C>=64&&(v+=7,C>>>=7),C>=8&&(v+=4,C>>>=4),C>=2&&(v+=2,C>>>=2),v+C},e.prototype._zeroBits=function(_){if(_===0)return 26;var C=_,v=0;return!(8191&C)&&(v+=13,C>>>=13),!(127&C)&&(v+=7,C>>>=7),!(15&C)&&(v+=4,C>>>=4),!(3&C)&&(v+=2,C>>>=2),!(1&C)&&v++,v},e.prototype.bitLength=function(){var _=this.words[this.length-1],C=this._countBits(_);return 26*(this.length-1)+C},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,C=0;C<this.length;C++){var v=this._zeroBits(this.words[C]);if(_+=v,v!==26)break}return _},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},e.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var C=0;C<_.length;C++)this.words[C]=this.words[C]|_.words[C];return this.strip()},e.prototype.ior=function(_){return l((this.negative|_.negative)==0),this.iuor(_)},e.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},e.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},e.prototype.iuand=function(_){var C;C=this.length>_.length?_:this;for(var v=0;v<C.length;v++)this.words[v]=this.words[v]&_.words[v];return this.length=C.length,this.strip()},e.prototype.iand=function(_){return l((this.negative|_.negative)==0),this.iuand(_)},e.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},e.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},e.prototype.iuxor=function(_){var C,v;this.length>_.length?(C=this,v=_):(C=_,v=this);for(var p=0;p<v.length;p++)this.words[p]=C.words[p]^v.words[p];if(this!==C)for(;p<C.length;p++)this.words[p]=C.words[p];return this.length=C.length,this.strip()},e.prototype.ixor=function(_){return l((this.negative|_.negative)==0),this.iuxor(_)},e.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},e.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},e.prototype.inotn=function(_){l(typeof _=="number"&&_>=0);var C=0|Math.ceil(_/26),v=_%26;this._expand(C),v>0&&C--;for(var p=0;p<C;p++)this.words[p]=67108863&~this.words[p];return v>0&&(this.words[p]=~this.words[p]&67108863>>26-v),this.strip()},e.prototype.notn=function(_){return this.clone().inotn(_)},e.prototype.setn=function(_,C){l(typeof _=="number"&&_>=0);var v=_/26|0,p=_%26;return this._expand(v+1),this.words[v]=C?this.words[v]|1<<p:this.words[v]&~(1<<p),this.strip()},e.prototype.iadd=function(_){var C,v,p;if(this.negative!==0&&_.negative===0)return this.negative=0,C=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,C=this.isub(_),_.negative=1,C._normSign();this.length>_.length?(v=this,p=_):(v=_,p=this);for(var b=0,g=0;g<p.length;g++)C=(0|v.words[g])+(0|p.words[g])+b,this.words[g]=67108863&C,b=C>>>26;for(;b!==0&&g<v.length;g++)C=(0|v.words[g])+b,this.words[g]=67108863&C,b=C>>>26;if(this.length=v.length,b!==0)this.words[this.length]=b,this.length++;else if(v!==this)for(;g<v.length;g++)this.words[g]=v.words[g];return this},e.prototype.add=function(_){var C;return _.negative!==0&&this.negative===0?(_.negative=0,C=this.sub(_),_.negative^=1,C):_.negative===0&&this.negative!==0?(this.negative=0,C=_.sub(this),this.negative=1,C):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},e.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var C=this.iadd(_);return _.negative=1,C._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var v,p,b=this.cmp(_);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;b>0?(v=this,p=_):(v=_,p=this);for(var g=0,y=0;y<p.length;y++)g=(C=(0|v.words[y])-(0|p.words[y])+g)>>26,this.words[y]=67108863&C;for(;g!==0&&y<v.length;y++)g=(C=(0|v.words[y])+g)>>26,this.words[y]=67108863&C;if(g===0&&y<v.length&&v!==this)for(;y<v.length;y++)this.words[y]=v.words[y];return this.length=Math.max(this.length,y),v!==this&&(this.negative=1),this.strip()},e.prototype.sub=function(_){return this.clone().isub(_)};var h=function(_,C,v){var p,b,g,y=_.words,x=C.words,M=v.words,F=0,q=0|y[0],U=8191&q,Y=q>>>13,B=0|y[1],W=8191&B,I=B>>>13,A=0|y[2],z=8191&A,V=A>>>13,Z=0|y[3],X=8191&Z,K=Z>>>13,ie=0|y[4],ne=8191&ie,G=ie>>>13,ee=0|y[5],J=8191&ee,te=ee>>>13,se=0|y[6],ae=8191&se,de=se>>>13,he=0|y[7],ve=8191&he,Se=he>>>13,Te=0|y[8],ke=8191&Te,Be=Te>>>13,re=0|y[9],pe=8191&re,we=re>>>13,be=0|x[0],me=8191&be,Ee=be>>>13,Oe=0|x[1],Ae=8191&Oe,Ye=Oe>>>13,st=0|x[2],je=8191&st,tt=st>>>13,Ze=0|x[3],We=8191&Ze,mt=Ze>>>13,ot=0|x[4],Re=8191&ot,nt=ot>>>13,ht=0|x[5],$e=8191&ht,lt=ht>>>13,ft=0|x[6],Xe=8191&ft,oe=ft>>>13,le=0|x[7],ge=8191&le,Me=le>>>13,Ne=0|x[8],Fe=8191&Ne,qe=Ne>>>13,ze=0|x[9],Pe=8191&ze,Ve=ze>>>13;v.negative=_.negative^C.negative,v.length=19;var He=(F+(p=Math.imul(U,me))|0)+((8191&(b=(b=Math.imul(U,Ee))+Math.imul(Y,me)|0))<<13)|0;F=((g=Math.imul(Y,Ee))+(b>>>13)|0)+(He>>>26)|0,He&=67108863,p=Math.imul(W,me),b=(b=Math.imul(W,Ee))+Math.imul(I,me)|0,g=Math.imul(I,Ee);var Ke=(F+(p=p+Math.imul(U,Ae)|0)|0)+((8191&(b=(b=b+Math.imul(U,Ye)|0)+Math.imul(Y,Ae)|0))<<13)|0;F=((g=g+Math.imul(Y,Ye)|0)+(b>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,p=Math.imul(z,me),b=(b=Math.imul(z,Ee))+Math.imul(V,me)|0,g=Math.imul(V,Ee),p=p+Math.imul(W,Ae)|0,b=(b=b+Math.imul(W,Ye)|0)+Math.imul(I,Ae)|0,g=g+Math.imul(I,Ye)|0;var yt=(F+(p=p+Math.imul(U,je)|0)|0)+((8191&(b=(b=b+Math.imul(U,tt)|0)+Math.imul(Y,je)|0))<<13)|0;F=((g=g+Math.imul(Y,tt)|0)+(b>>>13)|0)+(yt>>>26)|0,yt&=67108863,p=Math.imul(X,me),b=(b=Math.imul(X,Ee))+Math.imul(K,me)|0,g=Math.imul(K,Ee),p=p+Math.imul(z,Ae)|0,b=(b=b+Math.imul(z,Ye)|0)+Math.imul(V,Ae)|0,g=g+Math.imul(V,Ye)|0,p=p+Math.imul(W,je)|0,b=(b=b+Math.imul(W,tt)|0)+Math.imul(I,je)|0,g=g+Math.imul(I,tt)|0;var gt=(F+(p=p+Math.imul(U,We)|0)|0)+((8191&(b=(b=b+Math.imul(U,mt)|0)+Math.imul(Y,We)|0))<<13)|0;F=((g=g+Math.imul(Y,mt)|0)+(b>>>13)|0)+(gt>>>26)|0,gt&=67108863,p=Math.imul(ne,me),b=(b=Math.imul(ne,Ee))+Math.imul(G,me)|0,g=Math.imul(G,Ee),p=p+Math.imul(X,Ae)|0,b=(b=b+Math.imul(X,Ye)|0)+Math.imul(K,Ae)|0,g=g+Math.imul(K,Ye)|0,p=p+Math.imul(z,je)|0,b=(b=b+Math.imul(z,tt)|0)+Math.imul(V,je)|0,g=g+Math.imul(V,tt)|0,p=p+Math.imul(W,We)|0,b=(b=b+Math.imul(W,mt)|0)+Math.imul(I,We)|0,g=g+Math.imul(I,mt)|0;var wt=(F+(p=p+Math.imul(U,Re)|0)|0)+((8191&(b=(b=b+Math.imul(U,nt)|0)+Math.imul(Y,Re)|0))<<13)|0;F=((g=g+Math.imul(Y,nt)|0)+(b>>>13)|0)+(wt>>>26)|0,wt&=67108863,p=Math.imul(J,me),b=(b=Math.imul(J,Ee))+Math.imul(te,me)|0,g=Math.imul(te,Ee),p=p+Math.imul(ne,Ae)|0,b=(b=b+Math.imul(ne,Ye)|0)+Math.imul(G,Ae)|0,g=g+Math.imul(G,Ye)|0,p=p+Math.imul(X,je)|0,b=(b=b+Math.imul(X,tt)|0)+Math.imul(K,je)|0,g=g+Math.imul(K,tt)|0,p=p+Math.imul(z,We)|0,b=(b=b+Math.imul(z,mt)|0)+Math.imul(V,We)|0,g=g+Math.imul(V,mt)|0,p=p+Math.imul(W,Re)|0,b=(b=b+Math.imul(W,nt)|0)+Math.imul(I,Re)|0,g=g+Math.imul(I,nt)|0;var xt=(F+(p=p+Math.imul(U,$e)|0)|0)+((8191&(b=(b=b+Math.imul(U,lt)|0)+Math.imul(Y,$e)|0))<<13)|0;F=((g=g+Math.imul(Y,lt)|0)+(b>>>13)|0)+(xt>>>26)|0,xt&=67108863,p=Math.imul(ae,me),b=(b=Math.imul(ae,Ee))+Math.imul(de,me)|0,g=Math.imul(de,Ee),p=p+Math.imul(J,Ae)|0,b=(b=b+Math.imul(J,Ye)|0)+Math.imul(te,Ae)|0,g=g+Math.imul(te,Ye)|0,p=p+Math.imul(ne,je)|0,b=(b=b+Math.imul(ne,tt)|0)+Math.imul(G,je)|0,g=g+Math.imul(G,tt)|0,p=p+Math.imul(X,We)|0,b=(b=b+Math.imul(X,mt)|0)+Math.imul(K,We)|0,g=g+Math.imul(K,mt)|0,p=p+Math.imul(z,Re)|0,b=(b=b+Math.imul(z,nt)|0)+Math.imul(V,Re)|0,g=g+Math.imul(V,nt)|0,p=p+Math.imul(W,$e)|0,b=(b=b+Math.imul(W,lt)|0)+Math.imul(I,$e)|0,g=g+Math.imul(I,lt)|0;var Et=(F+(p=p+Math.imul(U,Xe)|0)|0)+((8191&(b=(b=b+Math.imul(U,oe)|0)+Math.imul(Y,Xe)|0))<<13)|0;F=((g=g+Math.imul(Y,oe)|0)+(b>>>13)|0)+(Et>>>26)|0,Et&=67108863,p=Math.imul(ve,me),b=(b=Math.imul(ve,Ee))+Math.imul(Se,me)|0,g=Math.imul(Se,Ee),p=p+Math.imul(ae,Ae)|0,b=(b=b+Math.imul(ae,Ye)|0)+Math.imul(de,Ae)|0,g=g+Math.imul(de,Ye)|0,p=p+Math.imul(J,je)|0,b=(b=b+Math.imul(J,tt)|0)+Math.imul(te,je)|0,g=g+Math.imul(te,tt)|0,p=p+Math.imul(ne,We)|0,b=(b=b+Math.imul(ne,mt)|0)+Math.imul(G,We)|0,g=g+Math.imul(G,mt)|0,p=p+Math.imul(X,Re)|0,b=(b=b+Math.imul(X,nt)|0)+Math.imul(K,Re)|0,g=g+Math.imul(K,nt)|0,p=p+Math.imul(z,$e)|0,b=(b=b+Math.imul(z,lt)|0)+Math.imul(V,$e)|0,g=g+Math.imul(V,lt)|0,p=p+Math.imul(W,Xe)|0,b=(b=b+Math.imul(W,oe)|0)+Math.imul(I,Xe)|0,g=g+Math.imul(I,oe)|0;var Q=(F+(p=p+Math.imul(U,ge)|0)|0)+((8191&(b=(b=b+Math.imul(U,Me)|0)+Math.imul(Y,ge)|0))<<13)|0;F=((g=g+Math.imul(Y,Me)|0)+(b>>>13)|0)+(Q>>>26)|0,Q&=67108863,p=Math.imul(ke,me),b=(b=Math.imul(ke,Ee))+Math.imul(Be,me)|0,g=Math.imul(Be,Ee),p=p+Math.imul(ve,Ae)|0,b=(b=b+Math.imul(ve,Ye)|0)+Math.imul(Se,Ae)|0,g=g+Math.imul(Se,Ye)|0,p=p+Math.imul(ae,je)|0,b=(b=b+Math.imul(ae,tt)|0)+Math.imul(de,je)|0,g=g+Math.imul(de,tt)|0,p=p+Math.imul(J,We)|0,b=(b=b+Math.imul(J,mt)|0)+Math.imul(te,We)|0,g=g+Math.imul(te,mt)|0,p=p+Math.imul(ne,Re)|0,b=(b=b+Math.imul(ne,nt)|0)+Math.imul(G,Re)|0,g=g+Math.imul(G,nt)|0,p=p+Math.imul(X,$e)|0,b=(b=b+Math.imul(X,lt)|0)+Math.imul(K,$e)|0,g=g+Math.imul(K,lt)|0,p=p+Math.imul(z,Xe)|0,b=(b=b+Math.imul(z,oe)|0)+Math.imul(V,Xe)|0,g=g+Math.imul(V,oe)|0,p=p+Math.imul(W,ge)|0,b=(b=b+Math.imul(W,Me)|0)+Math.imul(I,ge)|0,g=g+Math.imul(I,Me)|0;var ue=(F+(p=p+Math.imul(U,Fe)|0)|0)+((8191&(b=(b=b+Math.imul(U,qe)|0)+Math.imul(Y,Fe)|0))<<13)|0;F=((g=g+Math.imul(Y,qe)|0)+(b>>>13)|0)+(ue>>>26)|0,ue&=67108863,p=Math.imul(pe,me),b=(b=Math.imul(pe,Ee))+Math.imul(we,me)|0,g=Math.imul(we,Ee),p=p+Math.imul(ke,Ae)|0,b=(b=b+Math.imul(ke,Ye)|0)+Math.imul(Be,Ae)|0,g=g+Math.imul(Be,Ye)|0,p=p+Math.imul(ve,je)|0,b=(b=b+Math.imul(ve,tt)|0)+Math.imul(Se,je)|0,g=g+Math.imul(Se,tt)|0,p=p+Math.imul(ae,We)|0,b=(b=b+Math.imul(ae,mt)|0)+Math.imul(de,We)|0,g=g+Math.imul(de,mt)|0,p=p+Math.imul(J,Re)|0,b=(b=b+Math.imul(J,nt)|0)+Math.imul(te,Re)|0,g=g+Math.imul(te,nt)|0,p=p+Math.imul(ne,$e)|0,b=(b=b+Math.imul(ne,lt)|0)+Math.imul(G,$e)|0,g=g+Math.imul(G,lt)|0,p=p+Math.imul(X,Xe)|0,b=(b=b+Math.imul(X,oe)|0)+Math.imul(K,Xe)|0,g=g+Math.imul(K,oe)|0,p=p+Math.imul(z,ge)|0,b=(b=b+Math.imul(z,Me)|0)+Math.imul(V,ge)|0,g=g+Math.imul(V,Me)|0,p=p+Math.imul(W,Fe)|0,b=(b=b+Math.imul(W,qe)|0)+Math.imul(I,Fe)|0,g=g+Math.imul(I,qe)|0;var ye=(F+(p=p+Math.imul(U,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(U,Ve)|0)+Math.imul(Y,Pe)|0))<<13)|0;F=((g=g+Math.imul(Y,Ve)|0)+(b>>>13)|0)+(ye>>>26)|0,ye&=67108863,p=Math.imul(pe,Ae),b=(b=Math.imul(pe,Ye))+Math.imul(we,Ae)|0,g=Math.imul(we,Ye),p=p+Math.imul(ke,je)|0,b=(b=b+Math.imul(ke,tt)|0)+Math.imul(Be,je)|0,g=g+Math.imul(Be,tt)|0,p=p+Math.imul(ve,We)|0,b=(b=b+Math.imul(ve,mt)|0)+Math.imul(Se,We)|0,g=g+Math.imul(Se,mt)|0,p=p+Math.imul(ae,Re)|0,b=(b=b+Math.imul(ae,nt)|0)+Math.imul(de,Re)|0,g=g+Math.imul(de,nt)|0,p=p+Math.imul(J,$e)|0,b=(b=b+Math.imul(J,lt)|0)+Math.imul(te,$e)|0,g=g+Math.imul(te,lt)|0,p=p+Math.imul(ne,Xe)|0,b=(b=b+Math.imul(ne,oe)|0)+Math.imul(G,Xe)|0,g=g+Math.imul(G,oe)|0,p=p+Math.imul(X,ge)|0,b=(b=b+Math.imul(X,Me)|0)+Math.imul(K,ge)|0,g=g+Math.imul(K,Me)|0,p=p+Math.imul(z,Fe)|0,b=(b=b+Math.imul(z,qe)|0)+Math.imul(V,Fe)|0,g=g+Math.imul(V,qe)|0;var xe=(F+(p=p+Math.imul(W,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(W,Ve)|0)+Math.imul(I,Pe)|0))<<13)|0;F=((g=g+Math.imul(I,Ve)|0)+(b>>>13)|0)+(xe>>>26)|0,xe&=67108863,p=Math.imul(pe,je),b=(b=Math.imul(pe,tt))+Math.imul(we,je)|0,g=Math.imul(we,tt),p=p+Math.imul(ke,We)|0,b=(b=b+Math.imul(ke,mt)|0)+Math.imul(Be,We)|0,g=g+Math.imul(Be,mt)|0,p=p+Math.imul(ve,Re)|0,b=(b=b+Math.imul(ve,nt)|0)+Math.imul(Se,Re)|0,g=g+Math.imul(Se,nt)|0,p=p+Math.imul(ae,$e)|0,b=(b=b+Math.imul(ae,lt)|0)+Math.imul(de,$e)|0,g=g+Math.imul(de,lt)|0,p=p+Math.imul(J,Xe)|0,b=(b=b+Math.imul(J,oe)|0)+Math.imul(te,Xe)|0,g=g+Math.imul(te,oe)|0,p=p+Math.imul(ne,ge)|0,b=(b=b+Math.imul(ne,Me)|0)+Math.imul(G,ge)|0,g=g+Math.imul(G,Me)|0,p=p+Math.imul(X,Fe)|0,b=(b=b+Math.imul(X,qe)|0)+Math.imul(K,Fe)|0,g=g+Math.imul(K,qe)|0;var De=(F+(p=p+Math.imul(z,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(z,Ve)|0)+Math.imul(V,Pe)|0))<<13)|0;F=((g=g+Math.imul(V,Ve)|0)+(b>>>13)|0)+(De>>>26)|0,De&=67108863,p=Math.imul(pe,We),b=(b=Math.imul(pe,mt))+Math.imul(we,We)|0,g=Math.imul(we,mt),p=p+Math.imul(ke,Re)|0,b=(b=b+Math.imul(ke,nt)|0)+Math.imul(Be,Re)|0,g=g+Math.imul(Be,nt)|0,p=p+Math.imul(ve,$e)|0,b=(b=b+Math.imul(ve,lt)|0)+Math.imul(Se,$e)|0,g=g+Math.imul(Se,lt)|0,p=p+Math.imul(ae,Xe)|0,b=(b=b+Math.imul(ae,oe)|0)+Math.imul(de,Xe)|0,g=g+Math.imul(de,oe)|0,p=p+Math.imul(J,ge)|0,b=(b=b+Math.imul(J,Me)|0)+Math.imul(te,ge)|0,g=g+Math.imul(te,Me)|0,p=p+Math.imul(ne,Fe)|0,b=(b=b+Math.imul(ne,qe)|0)+Math.imul(G,Fe)|0,g=g+Math.imul(G,qe)|0;var Ce=(F+(p=p+Math.imul(X,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(X,Ve)|0)+Math.imul(K,Pe)|0))<<13)|0;F=((g=g+Math.imul(K,Ve)|0)+(b>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,p=Math.imul(pe,Re),b=(b=Math.imul(pe,nt))+Math.imul(we,Re)|0,g=Math.imul(we,nt),p=p+Math.imul(ke,$e)|0,b=(b=b+Math.imul(ke,lt)|0)+Math.imul(Be,$e)|0,g=g+Math.imul(Be,lt)|0,p=p+Math.imul(ve,Xe)|0,b=(b=b+Math.imul(ve,oe)|0)+Math.imul(Se,Xe)|0,g=g+Math.imul(Se,oe)|0,p=p+Math.imul(ae,ge)|0,b=(b=b+Math.imul(ae,Me)|0)+Math.imul(de,ge)|0,g=g+Math.imul(de,Me)|0,p=p+Math.imul(J,Fe)|0,b=(b=b+Math.imul(J,qe)|0)+Math.imul(te,Fe)|0,g=g+Math.imul(te,qe)|0;var Ie=(F+(p=p+Math.imul(ne,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(ne,Ve)|0)+Math.imul(G,Pe)|0))<<13)|0;F=((g=g+Math.imul(G,Ve)|0)+(b>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,p=Math.imul(pe,$e),b=(b=Math.imul(pe,lt))+Math.imul(we,$e)|0,g=Math.imul(we,lt),p=p+Math.imul(ke,Xe)|0,b=(b=b+Math.imul(ke,oe)|0)+Math.imul(Be,Xe)|0,g=g+Math.imul(Be,oe)|0,p=p+Math.imul(ve,ge)|0,b=(b=b+Math.imul(ve,Me)|0)+Math.imul(Se,ge)|0,g=g+Math.imul(Se,Me)|0,p=p+Math.imul(ae,Fe)|0,b=(b=b+Math.imul(ae,qe)|0)+Math.imul(de,Fe)|0,g=g+Math.imul(de,qe)|0;var rt=(F+(p=p+Math.imul(J,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(J,Ve)|0)+Math.imul(te,Pe)|0))<<13)|0;F=((g=g+Math.imul(te,Ve)|0)+(b>>>13)|0)+(rt>>>26)|0,rt&=67108863,p=Math.imul(pe,Xe),b=(b=Math.imul(pe,oe))+Math.imul(we,Xe)|0,g=Math.imul(we,oe),p=p+Math.imul(ke,ge)|0,b=(b=b+Math.imul(ke,Me)|0)+Math.imul(Be,ge)|0,g=g+Math.imul(Be,Me)|0,p=p+Math.imul(ve,Fe)|0,b=(b=b+Math.imul(ve,qe)|0)+Math.imul(Se,Fe)|0,g=g+Math.imul(Se,qe)|0;var Ge=(F+(p=p+Math.imul(ae,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(ae,Ve)|0)+Math.imul(de,Pe)|0))<<13)|0;F=((g=g+Math.imul(de,Ve)|0)+(b>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,p=Math.imul(pe,ge),b=(b=Math.imul(pe,Me))+Math.imul(we,ge)|0,g=Math.imul(we,Me),p=p+Math.imul(ke,Fe)|0,b=(b=b+Math.imul(ke,qe)|0)+Math.imul(Be,Fe)|0,g=g+Math.imul(Be,qe)|0;var Je=(F+(p=p+Math.imul(ve,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(ve,Ve)|0)+Math.imul(Se,Pe)|0))<<13)|0;F=((g=g+Math.imul(Se,Ve)|0)+(b>>>13)|0)+(Je>>>26)|0,Je&=67108863,p=Math.imul(pe,Fe),b=(b=Math.imul(pe,qe))+Math.imul(we,Fe)|0,g=Math.imul(we,qe);var Le=(F+(p=p+Math.imul(ke,Pe)|0)|0)+((8191&(b=(b=b+Math.imul(ke,Ve)|0)+Math.imul(Be,Pe)|0))<<13)|0;F=((g=g+Math.imul(Be,Ve)|0)+(b>>>13)|0)+(Le>>>26)|0,Le&=67108863;var ct=(F+(p=Math.imul(pe,Pe))|0)+((8191&(b=(b=Math.imul(pe,Ve))+Math.imul(we,Pe)|0))<<13)|0;return F=((g=Math.imul(we,Ve))+(b>>>13)|0)+(ct>>>26)|0,ct&=67108863,M[0]=He,M[1]=Ke,M[2]=yt,M[3]=gt,M[4]=wt,M[5]=xt,M[6]=Et,M[7]=Q,M[8]=ue,M[9]=ye,M[10]=xe,M[11]=De,M[12]=Ce,M[13]=Ie,M[14]=rt,M[15]=Ge,M[16]=Je,M[17]=Le,M[18]=ct,F!==0&&(M[19]=F,v.length++),v};function w(_,C,v){return new k().mulp(_,C,v)}function k(_,C){this.x=_,this.y=C}Math.imul||(h=f),e.prototype.mulTo=function(_,C){var v=this.length+_.length;return this.length===10&&_.length===10?h(this,_,C):v<63?f(this,_,C):v<1024?function(p,b,g){g.negative=b.negative^p.negative,g.length=p.length+b.length;for(var y=0,x=0,M=0;M<g.length-1;M++){var F=x;x=0;for(var q=67108863&y,U=Math.min(M,b.length-1),Y=Math.max(0,M-p.length+1);Y<=U;Y++){var B=M-Y,W=(0|p.words[B])*(0|b.words[Y]),I=67108863&W;q=67108863&(I=I+q|0),x+=(F=(F=F+(W/67108864|0)|0)+(I>>>26)|0)>>>26,F&=67108863}g.words[M]=q,y=F,F=x}return y!==0?g.words[M]=y:g.length--,g.strip()}(this,_,C):w(this,_,C)},k.prototype.makeRBT=function(_){for(var C=new Array(_),v=e.prototype._countBits(_)-1,p=0;p<_;p++)C[p]=this.revBin(p,v,_);return C},k.prototype.revBin=function(_,C,v){if(_===0||_===v-1)return _;for(var p=0,b=0;b<C;b++)p|=(1&_)<<C-b-1,_>>=1;return p},k.prototype.permute=function(_,C,v,p,b,g){for(var y=0;y<g;y++)p[y]=C[_[y]],b[y]=v[_[y]]},k.prototype.transform=function(_,C,v,p,b,g){this.permute(g,_,C,v,p,b);for(var y=1;y<b;y<<=1)for(var x=y<<1,M=Math.cos(2*Math.PI/x),F=Math.sin(2*Math.PI/x),q=0;q<b;q+=x)for(var U=M,Y=F,B=0;B<y;B++){var W=v[q+B],I=p[q+B],A=v[q+B+y],z=p[q+B+y],V=U*A-Y*z;z=U*z+Y*A,A=V,v[q+B]=W+A,p[q+B]=I+z,v[q+B+y]=W-A,p[q+B+y]=I-z,B!==x&&(V=M*U-F*Y,Y=M*Y+F*U,U=V)}},k.prototype.guessLen13b=function(_,C){var v=1|Math.max(C,_),p=1&v,b=0;for(v=v/2|0;v;v>>>=1)b++;return 1<<b+1+p},k.prototype.conjugate=function(_,C,v){if(!(v<=1))for(var p=0;p<v/2;p++){var b=_[p];_[p]=_[v-p-1],_[v-p-1]=b,b=C[p],C[p]=-C[v-p-1],C[v-p-1]=-b}},k.prototype.normalize13b=function(_,C){for(var v=0,p=0;p<C/2;p++){var b=8192*Math.round(_[2*p+1]/C)+Math.round(_[2*p]/C)+v;_[p]=67108863&b,v=b<67108864?0:b/67108864|0}return _},k.prototype.convert13b=function(_,C,v,p){for(var b=0,g=0;g<C;g++)b+=0|_[g],v[2*g]=8191&b,b>>>=13,v[2*g+1]=8191&b,b>>>=13;for(g=2*C;g<p;++g)v[g]=0;l(b===0),l((-8192&b)==0)},k.prototype.stub=function(_){for(var C=new Array(_),v=0;v<_;v++)C[v]=0;return C},k.prototype.mulp=function(_,C,v){var p=2*this.guessLen13b(_.length,C.length),b=this.makeRBT(p),g=this.stub(p),y=new Array(p),x=new Array(p),M=new Array(p),F=new Array(p),q=new Array(p),U=new Array(p),Y=v.words;Y.length=p,this.convert13b(_.words,_.length,y,p),this.convert13b(C.words,C.length,F,p),this.transform(y,g,x,M,p,b),this.transform(F,g,q,U,p,b);for(var B=0;B<p;B++){var W=x[B]*q[B]-M[B]*U[B];M[B]=x[B]*U[B]+M[B]*q[B],x[B]=W}return this.conjugate(x,M,p),this.transform(x,M,Y,g,p,b),this.conjugate(Y,g,p),this.normalize13b(Y,p),v.negative=_.negative^C.negative,v.length=_.length+C.length,v.strip()},e.prototype.mul=function(_){var C=new e(null);return C.words=new Array(this.length+_.length),this.mulTo(_,C)},e.prototype.mulf=function(_){var C=new e(null);return C.words=new Array(this.length+_.length),w(this,_,C)},e.prototype.imul=function(_){return this.clone().mulTo(_,this)},e.prototype.imuln=function(_){l(typeof _=="number"),l(_<67108864);for(var C=0,v=0;v<this.length;v++){var p=(0|this.words[v])*_,b=(67108863&p)+(67108863&C);C>>=26,C+=p/67108864|0,C+=b>>>26,this.words[v]=67108863&b}return C!==0&&(this.words[v]=C,this.length++),this},e.prototype.muln=function(_){return this.clone().imuln(_)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(_){var C=function(g){for(var y=new Array(g.bitLength()),x=0;x<y.length;x++){var M=x/26|0,F=x%26;y[x]=(g.words[M]&1<<F)>>>F}return y}(_);if(C.length===0)return new e(1);for(var v=this,p=0;p<C.length&&C[p]===0;p++,v=v.sqr());if(++p<C.length)for(var b=v.sqr();p<C.length;p++,b=b.sqr())C[p]!==0&&(v=v.mul(b));return v},e.prototype.iushln=function(_){l(typeof _=="number"&&_>=0);var C,v=_%26,p=(_-v)/26,b=67108863>>>26-v<<26-v;if(v!==0){var g=0;for(C=0;C<this.length;C++){var y=this.words[C]&b,x=(0|this.words[C])-y<<v;this.words[C]=x|g,g=y>>>26-v}g&&(this.words[C]=g,this.length++)}if(p!==0){for(C=this.length-1;C>=0;C--)this.words[C+p]=this.words[C];for(C=0;C<p;C++)this.words[C]=0;this.length+=p}return this.strip()},e.prototype.ishln=function(_){return l(this.negative===0),this.iushln(_)},e.prototype.iushrn=function(_,C,v){var p;l(typeof _=="number"&&_>=0),p=C?(C-C%26)/26:0;var b=_%26,g=Math.min((_-b)/26,this.length),y=67108863^67108863>>>b<<b,x=v;if(p-=g,p=Math.max(0,p),x){for(var M=0;M<g;M++)x.words[M]=this.words[M];x.length=g}if(g!==0)if(this.length>g)for(this.length-=g,M=0;M<this.length;M++)this.words[M]=this.words[M+g];else this.words[0]=0,this.length=1;var F=0;for(M=this.length-1;M>=0&&(F!==0||M>=p);M--){var q=0|this.words[M];this.words[M]=F<<26-b|q>>>b,F=q&y}return x&&F!==0&&(x.words[x.length++]=F),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},e.prototype.ishrn=function(_,C,v){return l(this.negative===0),this.iushrn(_,C,v)},e.prototype.shln=function(_){return this.clone().ishln(_)},e.prototype.ushln=function(_){return this.clone().iushln(_)},e.prototype.shrn=function(_){return this.clone().ishrn(_)},e.prototype.ushrn=function(_){return this.clone().iushrn(_)},e.prototype.testn=function(_){l(typeof _=="number"&&_>=0);var C=_%26,v=(_-C)/26,p=1<<C;return!(this.length<=v)&&!!(this.words[v]&p)},e.prototype.imaskn=function(_){l(typeof _=="number"&&_>=0);var C=_%26,v=(_-C)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(C!==0&&v++,this.length=Math.min(v,this.length),C!==0){var p=67108863^67108863>>>C<<C;this.words[this.length-1]&=p}return this.strip()},e.prototype.maskn=function(_){return this.clone().imaskn(_)},e.prototype.iaddn=function(_){return l(typeof _=="number"),l(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(0|this.words[0])<_?(this.words[0]=_-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},e.prototype._iaddn=function(_){this.words[0]+=_;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},e.prototype.isubn=function(_){if(l(typeof _=="number"),l(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this.strip()},e.prototype.addn=function(_){return this.clone().iaddn(_)},e.prototype.subn=function(_){return this.clone().isubn(_)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(_,C,v){var p,b,g=_.length+v;this._expand(g);var y=0;for(p=0;p<_.length;p++){b=(0|this.words[p+v])+y;var x=(0|_.words[p])*C;y=((b-=67108863&x)>>26)-(x/67108864|0),this.words[p+v]=67108863&b}for(;p<this.length-v;p++)y=(b=(0|this.words[p+v])+y)>>26,this.words[p+v]=67108863&b;if(y===0)return this.strip();for(l(y===-1),y=0,p=0;p<this.length;p++)y=(b=-(0|this.words[p])+y)>>26,this.words[p]=67108863&b;return this.negative=1,this.strip()},e.prototype._wordDiv=function(_,C){var v=(this.length,_.length),p=this.clone(),b=_,g=0|b.words[b.length-1];(v=26-this._countBits(g))!==0&&(b=b.ushln(v),p.iushln(v),g=0|b.words[b.length-1]);var y,x=p.length-b.length;if(C!=="mod"){(y=new e(null)).length=x+1,y.words=new Array(y.length);for(var M=0;M<y.length;M++)y.words[M]=0}var F=p.clone()._ishlnsubmul(b,1,x);F.negative===0&&(p=F,y&&(y.words[x]=1));for(var q=x-1;q>=0;q--){var U=67108864*(0|p.words[b.length+q])+(0|p.words[b.length+q-1]);for(U=Math.min(U/g|0,67108863),p._ishlnsubmul(b,U,q);p.negative!==0;)U--,p.negative=0,p._ishlnsubmul(b,1,q),p.isZero()||(p.negative^=1);y&&(y.words[q]=U)}return y&&y.strip(),p.strip(),C!=="div"&&v!==0&&p.iushrn(v),{div:y||null,mod:p}},e.prototype.divmod=function(_,C,v){return l(!_.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:this.negative!==0&&_.negative===0?(g=this.neg().divmod(_,C),C!=="mod"&&(p=g.div.neg()),C!=="div"&&(b=g.mod.neg(),v&&b.negative!==0&&b.iadd(_)),{div:p,mod:b}):this.negative===0&&_.negative!==0?(g=this.divmod(_.neg(),C),C!=="mod"&&(p=g.div.neg()),{div:p,mod:g.mod}):this.negative&_.negative?(g=this.neg().divmod(_.neg(),C),C!=="div"&&(b=g.mod.neg(),v&&b.negative!==0&&b.isub(_)),{div:g.div,mod:b}):_.length>this.length||this.cmp(_)<0?{div:new e(0),mod:this}:_.length===1?C==="div"?{div:this.divn(_.words[0]),mod:null}:C==="mod"?{div:null,mod:new e(this.modn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new e(this.modn(_.words[0]))}:this._wordDiv(_,C);var p,b,g},e.prototype.div=function(_){return this.divmod(_,"div",!1).div},e.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},e.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},e.prototype.divRound=function(_){var C=this.divmod(_);if(C.mod.isZero())return C.div;var v=C.div.negative!==0?C.mod.isub(_):C.mod,p=_.ushrn(1),b=_.andln(1),g=v.cmp(p);return g<0||b===1&&g===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},e.prototype.modn=function(_){l(_<=67108863);for(var C=67108864%_,v=0,p=this.length-1;p>=0;p--)v=(C*v+(0|this.words[p]))%_;return v},e.prototype.idivn=function(_){l(_<=67108863);for(var C=0,v=this.length-1;v>=0;v--){var p=(0|this.words[v])+67108864*C;this.words[v]=p/_|0,C=p%_}return this.strip()},e.prototype.divn=function(_){return this.clone().idivn(_)},e.prototype.egcd=function(_){l(_.negative===0),l(!_.isZero());var C=this,v=_.clone();C=C.negative!==0?C.umod(_):C.clone();for(var p=new e(1),b=new e(0),g=new e(0),y=new e(1),x=0;C.isEven()&&v.isEven();)C.iushrn(1),v.iushrn(1),++x;for(var M=v.clone(),F=C.clone();!C.isZero();){for(var q=0,U=1;!(C.words[0]&U)&&q<26;++q,U<<=1);if(q>0)for(C.iushrn(q);q-- >0;)(p.isOdd()||b.isOdd())&&(p.iadd(M),b.isub(F)),p.iushrn(1),b.iushrn(1);for(var Y=0,B=1;!(v.words[0]&B)&&Y<26;++Y,B<<=1);if(Y>0)for(v.iushrn(Y);Y-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(M),y.isub(F)),g.iushrn(1),y.iushrn(1);C.cmp(v)>=0?(C.isub(v),p.isub(g),b.isub(y)):(v.isub(C),g.isub(p),y.isub(b))}return{a:g,b:y,gcd:v.iushln(x)}},e.prototype._invmp=function(_){l(_.negative===0),l(!_.isZero());var C=this,v=_.clone();C=C.negative!==0?C.umod(_):C.clone();for(var p,b=new e(1),g=new e(0),y=v.clone();C.cmpn(1)>0&&v.cmpn(1)>0;){for(var x=0,M=1;!(C.words[0]&M)&&x<26;++x,M<<=1);if(x>0)for(C.iushrn(x);x-- >0;)b.isOdd()&&b.iadd(y),b.iushrn(1);for(var F=0,q=1;!(v.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(v.iushrn(F);F-- >0;)g.isOdd()&&g.iadd(y),g.iushrn(1);C.cmp(v)>=0?(C.isub(v),b.isub(g)):(v.isub(C),g.isub(b))}return(p=C.cmpn(1)===0?b:g).cmpn(0)<0&&p.iadd(_),p},e.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var C=this.clone(),v=_.clone();C.negative=0,v.negative=0;for(var p=0;C.isEven()&&v.isEven();p++)C.iushrn(1),v.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;v.isEven();)v.iushrn(1);var b=C.cmp(v);if(b<0){var g=C;C=v,v=g}else if(b===0||v.cmpn(1)===0)break;C.isub(v)}return v.iushln(p)},e.prototype.invm=function(_){return this.egcd(_).a.umod(_)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(_){return this.words[0]&_},e.prototype.bincn=function(_){l(typeof _=="number");var C=_%26,v=(_-C)/26,p=1<<C;if(this.length<=v)return this._expand(v+1),this.words[v]|=p,this;for(var b=p,g=v;b!==0&&g<this.length;g++){var y=0|this.words[g];b=(y+=b)>>>26,y&=67108863,this.words[g]=y}return b!==0&&(this.words[g]=b,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(_){var C,v=_<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;if(this.strip(),this.length>1)C=1;else{v&&(_=-_),l(_<=67108863,"Number is too big");var p=0|this.words[0];C=p===_?0:p<_?-1:1}return this.negative!==0?0|-C:C},e.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var C=this.ucmp(_);return this.negative!==0?0|-C:C},e.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var C=0,v=this.length-1;v>=0;v--){var p=0|this.words[v],b=0|_.words[v];if(p!==b){p<b?C=-1:p>b&&(C=1);break}}return C},e.prototype.gtn=function(_){return this.cmpn(_)===1},e.prototype.gt=function(_){return this.cmp(_)===1},e.prototype.gten=function(_){return this.cmpn(_)>=0},e.prototype.gte=function(_){return this.cmp(_)>=0},e.prototype.ltn=function(_){return this.cmpn(_)===-1},e.prototype.lt=function(_){return this.cmp(_)===-1},e.prototype.lten=function(_){return this.cmpn(_)<=0},e.prototype.lte=function(_){return this.cmp(_)<=0},e.prototype.eqn=function(_){return this.cmpn(_)===0},e.prototype.eq=function(_){return this.cmp(_)===0},e.red=function(_){return new H(_)},e.prototype.toRed=function(_){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},e.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(_){return this.red=_,this},e.prototype.forceRed=function(_){return l(!this.red,"Already a number in reduction context"),this._forceRed(_)},e.prototype.redAdd=function(_){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},e.prototype.redIAdd=function(_){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},e.prototype.redSub=function(_){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},e.prototype.redISub=function(_){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},e.prototype.redShl=function(_){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},e.prototype.redMul=function(_){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},e.prototype.redIMul=function(_){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},e.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(_){return l(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var E={k256:null,p224:null,p192:null,p25519:null};function j(_,C){this.name=_,this.p=new e(C,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function D(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function R(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function H(_){if(typeof _=="string"){var C=e._prime(_);this.m=C.p,this.prime=C}else l(_.gtn(1),"modulus must be greater than 1"),this.m=_,this.prime=null}function N(_){H.call(this,_),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var _=new e(null);return _.words=new Array(Math.ceil(this.n/13)),_},j.prototype.ireduce=function(_){var C,v=_;do this.split(v,this.tmp),C=(v=(v=this.imulK(v)).iadd(this.tmp)).bitLength();while(C>this.n);var p=C<this.n?-1:v.ucmp(this.p);return p===0?(v.words[0]=0,v.length=1):p>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},j.prototype.split=function(_,C){_.iushrn(this.n,0,C)},j.prototype.imulK=function(_){return _.imul(this.k)},n($,j),$.prototype.split=function(_,C){for(var v=Math.min(_.length,9),p=0;p<v;p++)C.words[p]=_.words[p];if(C.length=v,_.length<=9)return _.words[0]=0,void(_.length=1);var b=_.words[9];for(C.words[C.length++]=4194303&b,p=10;p<_.length;p++){var g=0|_.words[p];_.words[p-10]=(4194303&g)<<4|b>>>22,b=g}b>>>=22,_.words[p-10]=b,b===0&&_.length>10?_.length-=10:_.length-=9},$.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var C=0,v=0;v<_.length;v++){var p=0|_.words[v];C+=977*p,_.words[v]=67108863&C,C=64*p+(C/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_},n(D,j),n(P,j),n(R,j),R.prototype.imulK=function(_){for(var C=0,v=0;v<_.length;v++){var p=19*(0|_.words[v])+C,b=67108863&p;p>>>=26,_.words[v]=b,C=p}return C!==0&&(_.words[_.length++]=C),_},e._prime=function(_){if(E[_])return E[_];var C;if(_==="k256")C=new $;else if(_==="p224")C=new D;else if(_==="p192")C=new P;else{if(_!=="p25519")throw new Error("Unknown prime "+_);C=new R}return E[_]=C,C},H.prototype._verify1=function(_){l(_.negative===0,"red works only with positives"),l(_.red,"red works only with red numbers")},H.prototype._verify2=function(_,C){l((_.negative|C.negative)==0,"red works only with positives"),l(_.red&&_.red===C.red,"red works only with red numbers")},H.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):_.umod(this.m)._forceRed(this)},H.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},H.prototype.add=function(_,C){this._verify2(_,C);var v=_.add(C);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},H.prototype.iadd=function(_,C){this._verify2(_,C);var v=_.iadd(C);return v.cmp(this.m)>=0&&v.isub(this.m),v},H.prototype.sub=function(_,C){this._verify2(_,C);var v=_.sub(C);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},H.prototype.isub=function(_,C){this._verify2(_,C);var v=_.isub(C);return v.cmpn(0)<0&&v.iadd(this.m),v},H.prototype.shl=function(_,C){return this._verify1(_),this.imod(_.ushln(C))},H.prototype.imul=function(_,C){return this._verify2(_,C),this.imod(_.imul(C))},H.prototype.mul=function(_,C){return this._verify2(_,C),this.imod(_.mul(C))},H.prototype.isqr=function(_){return this.imul(_,_.clone())},H.prototype.sqr=function(_){return this.mul(_,_)},H.prototype.sqrt=function(_){if(_.isZero())return _.clone();var C=this.m.andln(3);if(l(C%2==1),C===3){var v=this.m.add(new e(1)).iushrn(2);return this.pow(_,v)}for(var p=this.m.subn(1),b=0;!p.isZero()&&p.andln(1)===0;)b++,p.iushrn(1);l(!p.isZero());var g=new e(1).toRed(this),y=g.redNeg(),x=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new e(2*M*M).toRed(this);this.pow(M,x).cmp(y)!==0;)M.redIAdd(y);for(var F=this.pow(M,p),q=this.pow(_,p.addn(1).iushrn(1)),U=this.pow(_,p),Y=b;U.cmp(g)!==0;){for(var B=U,W=0;B.cmp(g)!==0;W++)B=B.redSqr();l(W<Y);var I=this.pow(F,new e(1).iushln(Y-W-1));q=q.redMul(I),F=I.redSqr(),U=U.redMul(F),Y=W}return q},H.prototype.invm=function(_){var C=_._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},H.prototype.pow=function(_,C){if(C.isZero())return new e(1).toRed(this);if(C.cmpn(1)===0)return _.clone();var v=new Array(16);v[0]=new e(1).toRed(this),v[1]=_;for(var p=2;p<v.length;p++)v[p]=this.mul(v[p-1],_);var b=v[0],g=0,y=0,x=C.bitLength()%26;for(x===0&&(x=26),p=C.length-1;p>=0;p--){for(var M=C.words[p],F=x-1;F>=0;F--){var q=M>>F&1;b!==v[0]&&(b=this.sqr(b)),q!==0||g!==0?(g<<=1,g|=q,(++y===4||p===0&&F===0)&&(b=this.mul(b,v[g]),y=0,g=0)):y=0}x=26}return b},H.prototype.convertTo=function(_){var C=_.umod(this.m);return C===_?C.clone():C},H.prototype.convertFrom=function(_){var C=_.clone();return C.red=null,C},e.mont=function(_){return new N(_)},n(N,H),N.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},N.prototype.convertFrom=function(_){var C=this.imod(_.mul(this.rinv));return C.red=null,C},N.prototype.imul=function(_,C){if(_.isZero()||C.isZero())return _.words[0]=0,_.length=1,_;var v=_.imul(C),p=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=v.isub(p).iushrn(this.shift),g=b;return b.cmp(this.m)>=0?g=b.isub(this.m):b.cmpn(0)<0&&(g=b.iadd(this.m)),g._forceRed(this)},N.prototype.mul=function(_,C){if(_.isZero()||C.isZero())return new e(0)._forceRed(this);var v=_.mul(C),p=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),b=v.isub(p).iushrn(this.shift),g=b;return b.cmp(this.m)>=0?g=b.isub(this.m):b.cmpn(0)<0&&(g=b.iadd(this.m)),g._forceRed(this)},N.prototype.invm=function(_){return this.imod(_._invmp(this.m).mul(this.r2))._forceRed(this)}})(T===void 0||T)},{buffer:188}],185:[function(i,T,S){S.byteLength=function(s){var d=a(s),u=d[0],c=d[1];return 3*(u+c)/4-c},S.toByteArray=function(s){var d,u,c=a(s),f=c[0],h=c[1],w=new l(function(j,$,D){return 3*($+D)/4-D}(0,f,h)),k=0,E=h>0?f-4:f;for(u=0;u<E;u+=4)d=o[s.charCodeAt(u)]<<18|o[s.charCodeAt(u+1)]<<12|o[s.charCodeAt(u+2)]<<6|o[s.charCodeAt(u+3)],w[k++]=d>>16&255,w[k++]=d>>8&255,w[k++]=255&d;return h===2&&(d=o[s.charCodeAt(u)]<<2|o[s.charCodeAt(u+1)]>>4,w[k++]=255&d),h===1&&(d=o[s.charCodeAt(u)]<<10|o[s.charCodeAt(u+1)]<<4|o[s.charCodeAt(u+2)]>>2,w[k++]=d>>8&255,w[k++]=255&d),w},S.fromByteArray=function(s){for(var d,u=s.length,c=u%3,f=[],h=0,w=u-c;h<w;h+=16383)f.push(r(s,h,h+16383>w?w:h+16383));return c===1?(d=s[u-1],f.push(m[d>>2]+m[d<<4&63]+"==")):c===2&&(d=(s[u-2]<<8)+s[u-1],f.push(m[d>>10]+m[d>>4&63]+m[d<<2&63]+"=")),f.join("")};for(var m=[],o=[],l=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,t=n.length;e<t;++e)m[e]=n[e],o[n.charCodeAt(e)]=e;function a(s){var d=s.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=s.indexOf("=");return u===-1&&(u=d),[u,u===d?0:4-u%4]}function r(s,d,u){for(var c,f,h=[],w=d;w<u;w+=3)c=(s[w]<<16&16711680)+(s[w+1]<<8&65280)+(255&s[w+2]),h.push(m[(f=c)>>18&63]+m[f>>12&63]+m[f>>6&63]+m[63&f]);return h.join("")}o[45]=62,o[95]=63},{}],186:[function(i,T,S){(function(m,o){function l(v,p){if(!v)throw new Error(p||"Assertion failed")}function n(v,p){v.super_=p;var b=function(){};b.prototype=p.prototype,v.prototype=new b,v.prototype.constructor=v}function e(v,p,b){if(e.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&(p!=="le"&&p!=="be"||(b=p,p=10),this._init(v||0,p||10,b||"be"))}var t;typeof m=="object"?m.exports=e:(void 0).BN=e,e.BN=e,e.wordSize=26;try{t=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:i("buffer").Buffer}catch{}function a(v,p){var b=v.charCodeAt(p);return b>=48&&b<=57?b-48:b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:void l(!1,"Invalid character in "+v)}function r(v,p,b){var g=a(v,b);return b-1>=p&&(g|=a(v,b-1)<<4),g}function s(v,p,b,g){for(var y=0,x=0,M=Math.min(v.length,b),F=p;F<M;F++){var q=v.charCodeAt(F)-48;y*=g,x=q>=49?q-49+10:q>=17?q-17+10:q,l(q>=0&&x<g,"Invalid character"),y+=x}return y}function d(v,p){v.words=p.words,v.length=p.length,v.negative=p.negative,v.red=p.red}if(e.isBN=function(v){return v instanceof e||v!==null&&typeof v=="object"&&v.constructor.wordSize===e.wordSize&&Array.isArray(v.words)},e.max=function(v,p){return v.cmp(p)>0?v:p},e.min=function(v,p){return v.cmp(p)<0?v:p},e.prototype._init=function(v,p,b){if(typeof v=="number")return this._initNumber(v,p,b);if(typeof v=="object")return this._initArray(v,p,b);p==="hex"&&(p=16),l(p===(0|p)&&p>=2&&p<=36);var g=0;(v=v.toString().replace(/\s+/g,""))[0]==="-"&&(g++,this.negative=1),g<v.length&&(p===16?this._parseHex(v,g,b):(this._parseBase(v,p,g),b==="le"&&this._initArray(this.toArray(),p,b)))},e.prototype._initNumber=function(v,p,b){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[67108863&v],this.length=1):v<4503599627370496?(this.words=[67108863&v,v/67108864&67108863],this.length=2):(l(v<9007199254740992),this.words=[67108863&v,v/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),p,b)},e.prototype._initArray=function(v,p,b){if(l(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,x,M=0;if(b==="be")for(g=v.length-1,y=0;g>=0;g-=3)x=v[g]|v[g-1]<<8|v[g-2]<<16,this.words[y]|=x<<M&67108863,this.words[y+1]=x>>>26-M&67108863,(M+=24)>=26&&(M-=26,y++);else if(b==="le")for(g=0,y=0;g<v.length;g+=3)x=v[g]|v[g+1]<<8|v[g+2]<<16,this.words[y]|=x<<M&67108863,this.words[y+1]=x>>>26-M&67108863,(M+=24)>=26&&(M-=26,y++);return this._strip()},e.prototype._parseHex=function(v,p,b){this.length=Math.ceil((v.length-p)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var y,x=0,M=0;if(b==="be")for(g=v.length-1;g>=p;g-=2)y=r(v,p,g)<<x,this.words[M]|=67108863&y,x>=18?(x-=18,M+=1,this.words[M]|=y>>>26):x+=8;else for(g=(v.length-p)%2==0?p+1:p;g<v.length;g+=2)y=r(v,p,g)<<x,this.words[M]|=67108863&y,x>=18?(x-=18,M+=1,this.words[M]|=y>>>26):x+=8;this._strip()},e.prototype._parseBase=function(v,p,b){this.words=[0],this.length=1;for(var g=0,y=1;y<=67108863;y*=p)g++;g--,y=y/p|0;for(var x=v.length-b,M=x%g,F=Math.min(x,x-M)+b,q=0,U=b;U<F;U+=g)q=s(v,U,U+g,p),this.imuln(y),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q);if(M!==0){var Y=1;for(q=s(v,U,v.length,p),U=0;U<M;U++)Y*=p;this.imuln(Y),this.words[0]+q<67108864?this.words[0]+=q:this._iaddn(q)}this._strip()},e.prototype.copy=function(v){v.words=new Array(this.length);for(var p=0;p<this.length;p++)v.words[p]=this.words[p];v.length=this.length,v.negative=this.negative,v.red=this.red},e.prototype._move=function(v){d(v,this)},e.prototype.clone=function(){var v=new e(null);return this.copy(v),v},e.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},e.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},e.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{e.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{e.prototype.inspect=u}else e.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];e.prototype.toString=function(v,p){var b;if(p=0|p||1,(v=v||10)===16||v==="hex"){b="";for(var g=0,y=0,x=0;x<this.length;x++){var M=this.words[x],F=(16777215&(M<<g|y)).toString(16);y=M>>>24-g&16777215,(g+=2)>=26&&(g-=26,x--),b=y!==0||x!==this.length-1?c[6-F.length]+F+b:F+b}for(y!==0&&(b=y.toString(16)+b);b.length%p!=0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(v===(0|v)&&v>=2&&v<=36){var q=f[v],U=h[v];b="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var B=Y.modrn(U).toString(v);b=(Y=Y.idivn(U)).isZero()?B+b:c[q-B.length]+B+b}for(this.isZero()&&(b="0"+b);b.length%p!=0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}l(!1,"Base should be between 2 and 36")},e.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=67108864*this.words[1]:this.length===3&&this.words[2]===1?v+=4503599627370496+67108864*this.words[1]:this.length>2&&l(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},e.prototype.toJSON=function(){return this.toString(16,2)},t&&(e.prototype.toBuffer=function(v,p){return this.toArrayLike(t,v,p)}),e.prototype.toArray=function(v,p){return this.toArrayLike(Array,v,p)};function w(v,p,b){b.negative=p.negative^v.negative;var g=v.length+p.length|0;b.length=g,g=g-1|0;var y=0|v.words[0],x=0|p.words[0],M=y*x,F=67108863&M,q=M/67108864|0;b.words[0]=F;for(var U=1;U<g;U++){for(var Y=q>>>26,B=67108863&q,W=Math.min(U,p.length-1),I=Math.max(0,U-v.length+1);I<=W;I++){var A=U-I|0;Y+=(M=(y=0|v.words[A])*(x=0|p.words[I])+B)/67108864|0,B=67108863&M}b.words[U]=0|B,q=0|Y}return q!==0?b.words[U]=0|q:b.length--,b._strip()}e.prototype.toArrayLike=function(v,p,b){this._strip();var g=this.byteLength(),y=b||Math.max(1,g);l(g<=y,"byte array longer than desired length"),l(y>0,"Requested array length <= 0");var x=function(M,F){return M.allocUnsafe?M.allocUnsafe(F):new M(F)}(v,y);return this["_toArrayLike"+(p==="le"?"LE":"BE")](x,g),x},e.prototype._toArrayLikeLE=function(v,p){for(var b=0,g=0,y=0,x=0;y<this.length;y++){var M=this.words[y]<<x|g;v[b++]=255&M,b<v.length&&(v[b++]=M>>8&255),b<v.length&&(v[b++]=M>>16&255),x===6?(b<v.length&&(v[b++]=M>>24&255),g=0,x=0):(g=M>>>24,x+=2)}if(b<v.length)for(v[b++]=g;b<v.length;)v[b++]=0},e.prototype._toArrayLikeBE=function(v,p){for(var b=v.length-1,g=0,y=0,x=0;y<this.length;y++){var M=this.words[y]<<x|g;v[b--]=255&M,b>=0&&(v[b--]=M>>8&255),b>=0&&(v[b--]=M>>16&255),x===6?(b>=0&&(v[b--]=M>>24&255),g=0,x=0):(g=M>>>24,x+=2)}if(b>=0)for(v[b--]=g;b>=0;)v[b--]=0},Math.clz32?e.prototype._countBits=function(v){return 32-Math.clz32(v)}:e.prototype._countBits=function(v){var p=v,b=0;return p>=4096&&(b+=13,p>>>=13),p>=64&&(b+=7,p>>>=7),p>=8&&(b+=4,p>>>=4),p>=2&&(b+=2,p>>>=2),b+p},e.prototype._zeroBits=function(v){if(v===0)return 26;var p=v,b=0;return!(8191&p)&&(b+=13,p>>>=13),!(127&p)&&(b+=7,p>>>=7),!(15&p)&&(b+=4,p>>>=4),!(3&p)&&(b+=2,p>>>=2),!(1&p)&&b++,b},e.prototype.bitLength=function(){var v=this.words[this.length-1],p=this._countBits(v);return 26*(this.length-1)+p},e.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,p=0;p<this.length;p++){var b=this._zeroBits(this.words[p]);if(v+=b,b!==26)break}return v},e.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},e.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},e.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},e.prototype.isNeg=function(){return this.negative!==0},e.prototype.neg=function(){return this.clone().ineg()},e.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},e.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var p=0;p<v.length;p++)this.words[p]=this.words[p]|v.words[p];return this._strip()},e.prototype.ior=function(v){return l((this.negative|v.negative)==0),this.iuor(v)},e.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},e.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},e.prototype.iuand=function(v){var p;p=this.length>v.length?v:this;for(var b=0;b<p.length;b++)this.words[b]=this.words[b]&v.words[b];return this.length=p.length,this._strip()},e.prototype.iand=function(v){return l((this.negative|v.negative)==0),this.iuand(v)},e.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},e.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},e.prototype.iuxor=function(v){var p,b;this.length>v.length?(p=this,b=v):(p=v,b=this);for(var g=0;g<b.length;g++)this.words[g]=p.words[g]^b.words[g];if(this!==p)for(;g<p.length;g++)this.words[g]=p.words[g];return this.length=p.length,this._strip()},e.prototype.ixor=function(v){return l((this.negative|v.negative)==0),this.iuxor(v)},e.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},e.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},e.prototype.inotn=function(v){l(typeof v=="number"&&v>=0);var p=0|Math.ceil(v/26),b=v%26;this._expand(p),b>0&&p--;for(var g=0;g<p;g++)this.words[g]=67108863&~this.words[g];return b>0&&(this.words[g]=~this.words[g]&67108863>>26-b),this._strip()},e.prototype.notn=function(v){return this.clone().inotn(v)},e.prototype.setn=function(v,p){l(typeof v=="number"&&v>=0);var b=v/26|0,g=v%26;return this._expand(b+1),this.words[b]=p?this.words[b]|1<<g:this.words[b]&~(1<<g),this._strip()},e.prototype.iadd=function(v){var p,b,g;if(this.negative!==0&&v.negative===0)return this.negative=0,p=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,p=this.isub(v),v.negative=1,p._normSign();this.length>v.length?(b=this,g=v):(b=v,g=this);for(var y=0,x=0;x<g.length;x++)p=(0|b.words[x])+(0|g.words[x])+y,this.words[x]=67108863&p,y=p>>>26;for(;y!==0&&x<b.length;x++)p=(0|b.words[x])+y,this.words[x]=67108863&p,y=p>>>26;if(this.length=b.length,y!==0)this.words[this.length]=y,this.length++;else if(b!==this)for(;x<b.length;x++)this.words[x]=b.words[x];return this},e.prototype.add=function(v){var p;return v.negative!==0&&this.negative===0?(v.negative=0,p=this.sub(v),v.negative^=1,p):v.negative===0&&this.negative!==0?(this.negative=0,p=v.sub(this),this.negative=1,p):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},e.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var p=this.iadd(v);return v.negative=1,p._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var b,g,y=this.cmp(v);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(b=this,g=v):(b=v,g=this);for(var x=0,M=0;M<g.length;M++)x=(p=(0|b.words[M])-(0|g.words[M])+x)>>26,this.words[M]=67108863&p;for(;x!==0&&M<b.length;M++)x=(p=(0|b.words[M])+x)>>26,this.words[M]=67108863&p;if(x===0&&M<b.length&&b!==this)for(;M<b.length;M++)this.words[M]=b.words[M];return this.length=Math.max(this.length,M),b!==this&&(this.negative=1),this._strip()},e.prototype.sub=function(v){return this.clone().isub(v)};var k=function(v,p,b){var g,y,x,M=v.words,F=p.words,q=b.words,U=0,Y=0|M[0],B=8191&Y,W=Y>>>13,I=0|M[1],A=8191&I,z=I>>>13,V=0|M[2],Z=8191&V,X=V>>>13,K=0|M[3],ie=8191&K,ne=K>>>13,G=0|M[4],ee=8191&G,J=G>>>13,te=0|M[5],se=8191&te,ae=te>>>13,de=0|M[6],he=8191&de,ve=de>>>13,Se=0|M[7],Te=8191&Se,ke=Se>>>13,Be=0|M[8],re=8191&Be,pe=Be>>>13,we=0|M[9],be=8191&we,me=we>>>13,Ee=0|F[0],Oe=8191&Ee,Ae=Ee>>>13,Ye=0|F[1],st=8191&Ye,je=Ye>>>13,tt=0|F[2],Ze=8191&tt,We=tt>>>13,mt=0|F[3],ot=8191&mt,Re=mt>>>13,nt=0|F[4],ht=8191&nt,$e=nt>>>13,lt=0|F[5],ft=8191&lt,Xe=lt>>>13,oe=0|F[6],le=8191&oe,ge=oe>>>13,Me=0|F[7],Ne=8191&Me,Fe=Me>>>13,qe=0|F[8],ze=8191&qe,Pe=qe>>>13,Ve=0|F[9],He=8191&Ve,Ke=Ve>>>13;b.negative=v.negative^p.negative,b.length=19;var yt=(U+(g=Math.imul(B,Oe))|0)+((8191&(y=(y=Math.imul(B,Ae))+Math.imul(W,Oe)|0))<<13)|0;U=((x=Math.imul(W,Ae))+(y>>>13)|0)+(yt>>>26)|0,yt&=67108863,g=Math.imul(A,Oe),y=(y=Math.imul(A,Ae))+Math.imul(z,Oe)|0,x=Math.imul(z,Ae);var gt=(U+(g=g+Math.imul(B,st)|0)|0)+((8191&(y=(y=y+Math.imul(B,je)|0)+Math.imul(W,st)|0))<<13)|0;U=((x=x+Math.imul(W,je)|0)+(y>>>13)|0)+(gt>>>26)|0,gt&=67108863,g=Math.imul(Z,Oe),y=(y=Math.imul(Z,Ae))+Math.imul(X,Oe)|0,x=Math.imul(X,Ae),g=g+Math.imul(A,st)|0,y=(y=y+Math.imul(A,je)|0)+Math.imul(z,st)|0,x=x+Math.imul(z,je)|0;var wt=(U+(g=g+Math.imul(B,Ze)|0)|0)+((8191&(y=(y=y+Math.imul(B,We)|0)+Math.imul(W,Ze)|0))<<13)|0;U=((x=x+Math.imul(W,We)|0)+(y>>>13)|0)+(wt>>>26)|0,wt&=67108863,g=Math.imul(ie,Oe),y=(y=Math.imul(ie,Ae))+Math.imul(ne,Oe)|0,x=Math.imul(ne,Ae),g=g+Math.imul(Z,st)|0,y=(y=y+Math.imul(Z,je)|0)+Math.imul(X,st)|0,x=x+Math.imul(X,je)|0,g=g+Math.imul(A,Ze)|0,y=(y=y+Math.imul(A,We)|0)+Math.imul(z,Ze)|0,x=x+Math.imul(z,We)|0;var xt=(U+(g=g+Math.imul(B,ot)|0)|0)+((8191&(y=(y=y+Math.imul(B,Re)|0)+Math.imul(W,ot)|0))<<13)|0;U=((x=x+Math.imul(W,Re)|0)+(y>>>13)|0)+(xt>>>26)|0,xt&=67108863,g=Math.imul(ee,Oe),y=(y=Math.imul(ee,Ae))+Math.imul(J,Oe)|0,x=Math.imul(J,Ae),g=g+Math.imul(ie,st)|0,y=(y=y+Math.imul(ie,je)|0)+Math.imul(ne,st)|0,x=x+Math.imul(ne,je)|0,g=g+Math.imul(Z,Ze)|0,y=(y=y+Math.imul(Z,We)|0)+Math.imul(X,Ze)|0,x=x+Math.imul(X,We)|0,g=g+Math.imul(A,ot)|0,y=(y=y+Math.imul(A,Re)|0)+Math.imul(z,ot)|0,x=x+Math.imul(z,Re)|0;var Et=(U+(g=g+Math.imul(B,ht)|0)|0)+((8191&(y=(y=y+Math.imul(B,$e)|0)+Math.imul(W,ht)|0))<<13)|0;U=((x=x+Math.imul(W,$e)|0)+(y>>>13)|0)+(Et>>>26)|0,Et&=67108863,g=Math.imul(se,Oe),y=(y=Math.imul(se,Ae))+Math.imul(ae,Oe)|0,x=Math.imul(ae,Ae),g=g+Math.imul(ee,st)|0,y=(y=y+Math.imul(ee,je)|0)+Math.imul(J,st)|0,x=x+Math.imul(J,je)|0,g=g+Math.imul(ie,Ze)|0,y=(y=y+Math.imul(ie,We)|0)+Math.imul(ne,Ze)|0,x=x+Math.imul(ne,We)|0,g=g+Math.imul(Z,ot)|0,y=(y=y+Math.imul(Z,Re)|0)+Math.imul(X,ot)|0,x=x+Math.imul(X,Re)|0,g=g+Math.imul(A,ht)|0,y=(y=y+Math.imul(A,$e)|0)+Math.imul(z,ht)|0,x=x+Math.imul(z,$e)|0;var Q=(U+(g=g+Math.imul(B,ft)|0)|0)+((8191&(y=(y=y+Math.imul(B,Xe)|0)+Math.imul(W,ft)|0))<<13)|0;U=((x=x+Math.imul(W,Xe)|0)+(y>>>13)|0)+(Q>>>26)|0,Q&=67108863,g=Math.imul(he,Oe),y=(y=Math.imul(he,Ae))+Math.imul(ve,Oe)|0,x=Math.imul(ve,Ae),g=g+Math.imul(se,st)|0,y=(y=y+Math.imul(se,je)|0)+Math.imul(ae,st)|0,x=x+Math.imul(ae,je)|0,g=g+Math.imul(ee,Ze)|0,y=(y=y+Math.imul(ee,We)|0)+Math.imul(J,Ze)|0,x=x+Math.imul(J,We)|0,g=g+Math.imul(ie,ot)|0,y=(y=y+Math.imul(ie,Re)|0)+Math.imul(ne,ot)|0,x=x+Math.imul(ne,Re)|0,g=g+Math.imul(Z,ht)|0,y=(y=y+Math.imul(Z,$e)|0)+Math.imul(X,ht)|0,x=x+Math.imul(X,$e)|0,g=g+Math.imul(A,ft)|0,y=(y=y+Math.imul(A,Xe)|0)+Math.imul(z,ft)|0,x=x+Math.imul(z,Xe)|0;var ue=(U+(g=g+Math.imul(B,le)|0)|0)+((8191&(y=(y=y+Math.imul(B,ge)|0)+Math.imul(W,le)|0))<<13)|0;U=((x=x+Math.imul(W,ge)|0)+(y>>>13)|0)+(ue>>>26)|0,ue&=67108863,g=Math.imul(Te,Oe),y=(y=Math.imul(Te,Ae))+Math.imul(ke,Oe)|0,x=Math.imul(ke,Ae),g=g+Math.imul(he,st)|0,y=(y=y+Math.imul(he,je)|0)+Math.imul(ve,st)|0,x=x+Math.imul(ve,je)|0,g=g+Math.imul(se,Ze)|0,y=(y=y+Math.imul(se,We)|0)+Math.imul(ae,Ze)|0,x=x+Math.imul(ae,We)|0,g=g+Math.imul(ee,ot)|0,y=(y=y+Math.imul(ee,Re)|0)+Math.imul(J,ot)|0,x=x+Math.imul(J,Re)|0,g=g+Math.imul(ie,ht)|0,y=(y=y+Math.imul(ie,$e)|0)+Math.imul(ne,ht)|0,x=x+Math.imul(ne,$e)|0,g=g+Math.imul(Z,ft)|0,y=(y=y+Math.imul(Z,Xe)|0)+Math.imul(X,ft)|0,x=x+Math.imul(X,Xe)|0,g=g+Math.imul(A,le)|0,y=(y=y+Math.imul(A,ge)|0)+Math.imul(z,le)|0,x=x+Math.imul(z,ge)|0;var ye=(U+(g=g+Math.imul(B,Ne)|0)|0)+((8191&(y=(y=y+Math.imul(B,Fe)|0)+Math.imul(W,Ne)|0))<<13)|0;U=((x=x+Math.imul(W,Fe)|0)+(y>>>13)|0)+(ye>>>26)|0,ye&=67108863,g=Math.imul(re,Oe),y=(y=Math.imul(re,Ae))+Math.imul(pe,Oe)|0,x=Math.imul(pe,Ae),g=g+Math.imul(Te,st)|0,y=(y=y+Math.imul(Te,je)|0)+Math.imul(ke,st)|0,x=x+Math.imul(ke,je)|0,g=g+Math.imul(he,Ze)|0,y=(y=y+Math.imul(he,We)|0)+Math.imul(ve,Ze)|0,x=x+Math.imul(ve,We)|0,g=g+Math.imul(se,ot)|0,y=(y=y+Math.imul(se,Re)|0)+Math.imul(ae,ot)|0,x=x+Math.imul(ae,Re)|0,g=g+Math.imul(ee,ht)|0,y=(y=y+Math.imul(ee,$e)|0)+Math.imul(J,ht)|0,x=x+Math.imul(J,$e)|0,g=g+Math.imul(ie,ft)|0,y=(y=y+Math.imul(ie,Xe)|0)+Math.imul(ne,ft)|0,x=x+Math.imul(ne,Xe)|0,g=g+Math.imul(Z,le)|0,y=(y=y+Math.imul(Z,ge)|0)+Math.imul(X,le)|0,x=x+Math.imul(X,ge)|0,g=g+Math.imul(A,Ne)|0,y=(y=y+Math.imul(A,Fe)|0)+Math.imul(z,Ne)|0,x=x+Math.imul(z,Fe)|0;var xe=(U+(g=g+Math.imul(B,ze)|0)|0)+((8191&(y=(y=y+Math.imul(B,Pe)|0)+Math.imul(W,ze)|0))<<13)|0;U=((x=x+Math.imul(W,Pe)|0)+(y>>>13)|0)+(xe>>>26)|0,xe&=67108863,g=Math.imul(be,Oe),y=(y=Math.imul(be,Ae))+Math.imul(me,Oe)|0,x=Math.imul(me,Ae),g=g+Math.imul(re,st)|0,y=(y=y+Math.imul(re,je)|0)+Math.imul(pe,st)|0,x=x+Math.imul(pe,je)|0,g=g+Math.imul(Te,Ze)|0,y=(y=y+Math.imul(Te,We)|0)+Math.imul(ke,Ze)|0,x=x+Math.imul(ke,We)|0,g=g+Math.imul(he,ot)|0,y=(y=y+Math.imul(he,Re)|0)+Math.imul(ve,ot)|0,x=x+Math.imul(ve,Re)|0,g=g+Math.imul(se,ht)|0,y=(y=y+Math.imul(se,$e)|0)+Math.imul(ae,ht)|0,x=x+Math.imul(ae,$e)|0,g=g+Math.imul(ee,ft)|0,y=(y=y+Math.imul(ee,Xe)|0)+Math.imul(J,ft)|0,x=x+Math.imul(J,Xe)|0,g=g+Math.imul(ie,le)|0,y=(y=y+Math.imul(ie,ge)|0)+Math.imul(ne,le)|0,x=x+Math.imul(ne,ge)|0,g=g+Math.imul(Z,Ne)|0,y=(y=y+Math.imul(Z,Fe)|0)+Math.imul(X,Ne)|0,x=x+Math.imul(X,Fe)|0,g=g+Math.imul(A,ze)|0,y=(y=y+Math.imul(A,Pe)|0)+Math.imul(z,ze)|0,x=x+Math.imul(z,Pe)|0;var De=(U+(g=g+Math.imul(B,He)|0)|0)+((8191&(y=(y=y+Math.imul(B,Ke)|0)+Math.imul(W,He)|0))<<13)|0;U=((x=x+Math.imul(W,Ke)|0)+(y>>>13)|0)+(De>>>26)|0,De&=67108863,g=Math.imul(be,st),y=(y=Math.imul(be,je))+Math.imul(me,st)|0,x=Math.imul(me,je),g=g+Math.imul(re,Ze)|0,y=(y=y+Math.imul(re,We)|0)+Math.imul(pe,Ze)|0,x=x+Math.imul(pe,We)|0,g=g+Math.imul(Te,ot)|0,y=(y=y+Math.imul(Te,Re)|0)+Math.imul(ke,ot)|0,x=x+Math.imul(ke,Re)|0,g=g+Math.imul(he,ht)|0,y=(y=y+Math.imul(he,$e)|0)+Math.imul(ve,ht)|0,x=x+Math.imul(ve,$e)|0,g=g+Math.imul(se,ft)|0,y=(y=y+Math.imul(se,Xe)|0)+Math.imul(ae,ft)|0,x=x+Math.imul(ae,Xe)|0,g=g+Math.imul(ee,le)|0,y=(y=y+Math.imul(ee,ge)|0)+Math.imul(J,le)|0,x=x+Math.imul(J,ge)|0,g=g+Math.imul(ie,Ne)|0,y=(y=y+Math.imul(ie,Fe)|0)+Math.imul(ne,Ne)|0,x=x+Math.imul(ne,Fe)|0,g=g+Math.imul(Z,ze)|0,y=(y=y+Math.imul(Z,Pe)|0)+Math.imul(X,ze)|0,x=x+Math.imul(X,Pe)|0;var Ce=(U+(g=g+Math.imul(A,He)|0)|0)+((8191&(y=(y=y+Math.imul(A,Ke)|0)+Math.imul(z,He)|0))<<13)|0;U=((x=x+Math.imul(z,Ke)|0)+(y>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,g=Math.imul(be,Ze),y=(y=Math.imul(be,We))+Math.imul(me,Ze)|0,x=Math.imul(me,We),g=g+Math.imul(re,ot)|0,y=(y=y+Math.imul(re,Re)|0)+Math.imul(pe,ot)|0,x=x+Math.imul(pe,Re)|0,g=g+Math.imul(Te,ht)|0,y=(y=y+Math.imul(Te,$e)|0)+Math.imul(ke,ht)|0,x=x+Math.imul(ke,$e)|0,g=g+Math.imul(he,ft)|0,y=(y=y+Math.imul(he,Xe)|0)+Math.imul(ve,ft)|0,x=x+Math.imul(ve,Xe)|0,g=g+Math.imul(se,le)|0,y=(y=y+Math.imul(se,ge)|0)+Math.imul(ae,le)|0,x=x+Math.imul(ae,ge)|0,g=g+Math.imul(ee,Ne)|0,y=(y=y+Math.imul(ee,Fe)|0)+Math.imul(J,Ne)|0,x=x+Math.imul(J,Fe)|0,g=g+Math.imul(ie,ze)|0,y=(y=y+Math.imul(ie,Pe)|0)+Math.imul(ne,ze)|0,x=x+Math.imul(ne,Pe)|0;var Ie=(U+(g=g+Math.imul(Z,He)|0)|0)+((8191&(y=(y=y+Math.imul(Z,Ke)|0)+Math.imul(X,He)|0))<<13)|0;U=((x=x+Math.imul(X,Ke)|0)+(y>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,g=Math.imul(be,ot),y=(y=Math.imul(be,Re))+Math.imul(me,ot)|0,x=Math.imul(me,Re),g=g+Math.imul(re,ht)|0,y=(y=y+Math.imul(re,$e)|0)+Math.imul(pe,ht)|0,x=x+Math.imul(pe,$e)|0,g=g+Math.imul(Te,ft)|0,y=(y=y+Math.imul(Te,Xe)|0)+Math.imul(ke,ft)|0,x=x+Math.imul(ke,Xe)|0,g=g+Math.imul(he,le)|0,y=(y=y+Math.imul(he,ge)|0)+Math.imul(ve,le)|0,x=x+Math.imul(ve,ge)|0,g=g+Math.imul(se,Ne)|0,y=(y=y+Math.imul(se,Fe)|0)+Math.imul(ae,Ne)|0,x=x+Math.imul(ae,Fe)|0,g=g+Math.imul(ee,ze)|0,y=(y=y+Math.imul(ee,Pe)|0)+Math.imul(J,ze)|0,x=x+Math.imul(J,Pe)|0;var rt=(U+(g=g+Math.imul(ie,He)|0)|0)+((8191&(y=(y=y+Math.imul(ie,Ke)|0)+Math.imul(ne,He)|0))<<13)|0;U=((x=x+Math.imul(ne,Ke)|0)+(y>>>13)|0)+(rt>>>26)|0,rt&=67108863,g=Math.imul(be,ht),y=(y=Math.imul(be,$e))+Math.imul(me,ht)|0,x=Math.imul(me,$e),g=g+Math.imul(re,ft)|0,y=(y=y+Math.imul(re,Xe)|0)+Math.imul(pe,ft)|0,x=x+Math.imul(pe,Xe)|0,g=g+Math.imul(Te,le)|0,y=(y=y+Math.imul(Te,ge)|0)+Math.imul(ke,le)|0,x=x+Math.imul(ke,ge)|0,g=g+Math.imul(he,Ne)|0,y=(y=y+Math.imul(he,Fe)|0)+Math.imul(ve,Ne)|0,x=x+Math.imul(ve,Fe)|0,g=g+Math.imul(se,ze)|0,y=(y=y+Math.imul(se,Pe)|0)+Math.imul(ae,ze)|0,x=x+Math.imul(ae,Pe)|0;var Ge=(U+(g=g+Math.imul(ee,He)|0)|0)+((8191&(y=(y=y+Math.imul(ee,Ke)|0)+Math.imul(J,He)|0))<<13)|0;U=((x=x+Math.imul(J,Ke)|0)+(y>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,g=Math.imul(be,ft),y=(y=Math.imul(be,Xe))+Math.imul(me,ft)|0,x=Math.imul(me,Xe),g=g+Math.imul(re,le)|0,y=(y=y+Math.imul(re,ge)|0)+Math.imul(pe,le)|0,x=x+Math.imul(pe,ge)|0,g=g+Math.imul(Te,Ne)|0,y=(y=y+Math.imul(Te,Fe)|0)+Math.imul(ke,Ne)|0,x=x+Math.imul(ke,Fe)|0,g=g+Math.imul(he,ze)|0,y=(y=y+Math.imul(he,Pe)|0)+Math.imul(ve,ze)|0,x=x+Math.imul(ve,Pe)|0;var Je=(U+(g=g+Math.imul(se,He)|0)|0)+((8191&(y=(y=y+Math.imul(se,Ke)|0)+Math.imul(ae,He)|0))<<13)|0;U=((x=x+Math.imul(ae,Ke)|0)+(y>>>13)|0)+(Je>>>26)|0,Je&=67108863,g=Math.imul(be,le),y=(y=Math.imul(be,ge))+Math.imul(me,le)|0,x=Math.imul(me,ge),g=g+Math.imul(re,Ne)|0,y=(y=y+Math.imul(re,Fe)|0)+Math.imul(pe,Ne)|0,x=x+Math.imul(pe,Fe)|0,g=g+Math.imul(Te,ze)|0,y=(y=y+Math.imul(Te,Pe)|0)+Math.imul(ke,ze)|0,x=x+Math.imul(ke,Pe)|0;var Le=(U+(g=g+Math.imul(he,He)|0)|0)+((8191&(y=(y=y+Math.imul(he,Ke)|0)+Math.imul(ve,He)|0))<<13)|0;U=((x=x+Math.imul(ve,Ke)|0)+(y>>>13)|0)+(Le>>>26)|0,Le&=67108863,g=Math.imul(be,Ne),y=(y=Math.imul(be,Fe))+Math.imul(me,Ne)|0,x=Math.imul(me,Fe),g=g+Math.imul(re,ze)|0,y=(y=y+Math.imul(re,Pe)|0)+Math.imul(pe,ze)|0,x=x+Math.imul(pe,Pe)|0;var ct=(U+(g=g+Math.imul(Te,He)|0)|0)+((8191&(y=(y=y+Math.imul(Te,Ke)|0)+Math.imul(ke,He)|0))<<13)|0;U=((x=x+Math.imul(ke,Ke)|0)+(y>>>13)|0)+(ct>>>26)|0,ct&=67108863,g=Math.imul(be,ze),y=(y=Math.imul(be,Pe))+Math.imul(me,ze)|0,x=Math.imul(me,Pe);var dt=(U+(g=g+Math.imul(re,He)|0)|0)+((8191&(y=(y=y+Math.imul(re,Ke)|0)+Math.imul(pe,He)|0))<<13)|0;U=((x=x+Math.imul(pe,Ke)|0)+(y>>>13)|0)+(dt>>>26)|0,dt&=67108863;var pt=(U+(g=Math.imul(be,He))|0)+((8191&(y=(y=Math.imul(be,Ke))+Math.imul(me,He)|0))<<13)|0;return U=((x=Math.imul(me,Ke))+(y>>>13)|0)+(pt>>>26)|0,pt&=67108863,q[0]=yt,q[1]=gt,q[2]=wt,q[3]=xt,q[4]=Et,q[5]=Q,q[6]=ue,q[7]=ye,q[8]=xe,q[9]=De,q[10]=Ce,q[11]=Ie,q[12]=rt,q[13]=Ge,q[14]=Je,q[15]=Le,q[16]=ct,q[17]=dt,q[18]=pt,U!==0&&(q[19]=U,b.length++),b};function E(v,p,b){b.negative=p.negative^v.negative,b.length=v.length+p.length;for(var g=0,y=0,x=0;x<b.length-1;x++){var M=y;y=0;for(var F=67108863&g,q=Math.min(x,p.length-1),U=Math.max(0,x-v.length+1);U<=q;U++){var Y=x-U,B=(0|v.words[Y])*(0|p.words[U]),W=67108863&B;F=67108863&(W=W+F|0),y+=(M=(M=M+(B/67108864|0)|0)+(W>>>26)|0)>>>26,M&=67108863}b.words[x]=F,g=M,M=y}return g!==0?b.words[x]=g:b.length--,b._strip()}function j(v,p,b){return E(v,p,b)}Math.imul||(k=w),e.prototype.mulTo=function(v,p){var b=this.length+v.length;return this.length===10&&v.length===10?k(this,v,p):b<63?w(this,v,p):b<1024?E(this,v,p):j(this,v,p)},e.prototype.mul=function(v){var p=new e(null);return p.words=new Array(this.length+v.length),this.mulTo(v,p)},e.prototype.mulf=function(v){var p=new e(null);return p.words=new Array(this.length+v.length),j(this,v,p)},e.prototype.imul=function(v){return this.clone().mulTo(v,this)},e.prototype.imuln=function(v){var p=v<0;p&&(v=-v),l(typeof v=="number"),l(v<67108864);for(var b=0,g=0;g<this.length;g++){var y=(0|this.words[g])*v,x=(67108863&y)+(67108863&b);b>>=26,b+=y/67108864|0,b+=x>>>26,this.words[g]=67108863&x}return b!==0&&(this.words[g]=b,this.length++),p?this.ineg():this},e.prototype.muln=function(v){return this.clone().imuln(v)},e.prototype.sqr=function(){return this.mul(this)},e.prototype.isqr=function(){return this.imul(this.clone())},e.prototype.pow=function(v){var p=function(x){for(var M=new Array(x.bitLength()),F=0;F<M.length;F++){var q=F/26|0,U=F%26;M[F]=x.words[q]>>>U&1}return M}(v);if(p.length===0)return new e(1);for(var b=this,g=0;g<p.length&&p[g]===0;g++,b=b.sqr());if(++g<p.length)for(var y=b.sqr();g<p.length;g++,y=y.sqr())p[g]!==0&&(b=b.mul(y));return b},e.prototype.iushln=function(v){l(typeof v=="number"&&v>=0);var p,b=v%26,g=(v-b)/26,y=67108863>>>26-b<<26-b;if(b!==0){var x=0;for(p=0;p<this.length;p++){var M=this.words[p]&y,F=(0|this.words[p])-M<<b;this.words[p]=F|x,x=M>>>26-b}x&&(this.words[p]=x,this.length++)}if(g!==0){for(p=this.length-1;p>=0;p--)this.words[p+g]=this.words[p];for(p=0;p<g;p++)this.words[p]=0;this.length+=g}return this._strip()},e.prototype.ishln=function(v){return l(this.negative===0),this.iushln(v)},e.prototype.iushrn=function(v,p,b){var g;l(typeof v=="number"&&v>=0),g=p?(p-p%26)/26:0;var y=v%26,x=Math.min((v-y)/26,this.length),M=67108863^67108863>>>y<<y,F=b;if(g-=x,g=Math.max(0,g),F){for(var q=0;q<x;q++)F.words[q]=this.words[q];F.length=x}if(x!==0)if(this.length>x)for(this.length-=x,q=0;q<this.length;q++)this.words[q]=this.words[q+x];else this.words[0]=0,this.length=1;var U=0;for(q=this.length-1;q>=0&&(U!==0||q>=g);q--){var Y=0|this.words[q];this.words[q]=U<<26-y|Y>>>y,U=Y&M}return F&&U!==0&&(F.words[F.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},e.prototype.ishrn=function(v,p,b){return l(this.negative===0),this.iushrn(v,p,b)},e.prototype.shln=function(v){return this.clone().ishln(v)},e.prototype.ushln=function(v){return this.clone().iushln(v)},e.prototype.shrn=function(v){return this.clone().ishrn(v)},e.prototype.ushrn=function(v){return this.clone().iushrn(v)},e.prototype.testn=function(v){l(typeof v=="number"&&v>=0);var p=v%26,b=(v-p)/26,g=1<<p;return!(this.length<=b)&&!!(this.words[b]&g)},e.prototype.imaskn=function(v){l(typeof v=="number"&&v>=0);var p=v%26,b=(v-p)/26;if(l(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(p!==0&&b++,this.length=Math.min(b,this.length),p!==0){var g=67108863^67108863>>>p<<p;this.words[this.length-1]&=g}return this._strip()},e.prototype.maskn=function(v){return this.clone().imaskn(v)},e.prototype.iaddn=function(v){return l(typeof v=="number"),l(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(0|this.words[0])<=v?(this.words[0]=v-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},e.prototype._iaddn=function(v){this.words[0]+=v;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},e.prototype.isubn=function(v){if(l(typeof v=="number"),l(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},e.prototype.addn=function(v){return this.clone().iaddn(v)},e.prototype.subn=function(v){return this.clone().isubn(v)},e.prototype.iabs=function(){return this.negative=0,this},e.prototype.abs=function(){return this.clone().iabs()},e.prototype._ishlnsubmul=function(v,p,b){var g,y,x=v.length+b;this._expand(x);var M=0;for(g=0;g<v.length;g++){y=(0|this.words[g+b])+M;var F=(0|v.words[g])*p;M=((y-=67108863&F)>>26)-(F/67108864|0),this.words[g+b]=67108863&y}for(;g<this.length-b;g++)M=(y=(0|this.words[g+b])+M)>>26,this.words[g+b]=67108863&y;if(M===0)return this._strip();for(l(M===-1),M=0,g=0;g<this.length;g++)M=(y=-(0|this.words[g])+M)>>26,this.words[g]=67108863&y;return this.negative=1,this._strip()},e.prototype._wordDiv=function(v,p){var b=(this.length,v.length),g=this.clone(),y=v,x=0|y.words[y.length-1];(b=26-this._countBits(x))!==0&&(y=y.ushln(b),g.iushln(b),x=0|y.words[y.length-1]);var M,F=g.length-y.length;if(p!=="mod"){(M=new e(null)).length=F+1,M.words=new Array(M.length);for(var q=0;q<M.length;q++)M.words[q]=0}var U=g.clone()._ishlnsubmul(y,1,F);U.negative===0&&(g=U,M&&(M.words[F]=1));for(var Y=F-1;Y>=0;Y--){var B=67108864*(0|g.words[y.length+Y])+(0|g.words[y.length+Y-1]);for(B=Math.min(B/x|0,67108863),g._ishlnsubmul(y,B,Y);g.negative!==0;)B--,g.negative=0,g._ishlnsubmul(y,1,Y),g.isZero()||(g.negative^=1);M&&(M.words[Y]=B)}return M&&M._strip(),g._strip(),p!=="div"&&b!==0&&g.iushrn(b),{div:M||null,mod:g}},e.prototype.divmod=function(v,p,b){return l(!v.isZero()),this.isZero()?{div:new e(0),mod:new e(0)}:this.negative!==0&&v.negative===0?(x=this.neg().divmod(v,p),p!=="mod"&&(g=x.div.neg()),p!=="div"&&(y=x.mod.neg(),b&&y.negative!==0&&y.iadd(v)),{div:g,mod:y}):this.negative===0&&v.negative!==0?(x=this.divmod(v.neg(),p),p!=="mod"&&(g=x.div.neg()),{div:g,mod:x.mod}):this.negative&v.negative?(x=this.neg().divmod(v.neg(),p),p!=="div"&&(y=x.mod.neg(),b&&y.negative!==0&&y.isub(v)),{div:x.div,mod:y}):v.length>this.length||this.cmp(v)<0?{div:new e(0),mod:this}:v.length===1?p==="div"?{div:this.divn(v.words[0]),mod:null}:p==="mod"?{div:null,mod:new e(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new e(this.modrn(v.words[0]))}:this._wordDiv(v,p);var g,y,x},e.prototype.div=function(v){return this.divmod(v,"div",!1).div},e.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},e.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},e.prototype.divRound=function(v){var p=this.divmod(v);if(p.mod.isZero())return p.div;var b=p.div.negative!==0?p.mod.isub(v):p.mod,g=v.ushrn(1),y=v.andln(1),x=b.cmp(g);return x<0||y===1&&x===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},e.prototype.modrn=function(v){var p=v<0;p&&(v=-v),l(v<=67108863);for(var b=67108864%v,g=0,y=this.length-1;y>=0;y--)g=(b*g+(0|this.words[y]))%v;return p?-g:g},e.prototype.modn=function(v){return this.modrn(v)},e.prototype.idivn=function(v){var p=v<0;p&&(v=-v),l(v<=67108863);for(var b=0,g=this.length-1;g>=0;g--){var y=(0|this.words[g])+67108864*b;this.words[g]=y/v|0,b=y%v}return this._strip(),p?this.ineg():this},e.prototype.divn=function(v){return this.clone().idivn(v)},e.prototype.egcd=function(v){l(v.negative===0),l(!v.isZero());var p=this,b=v.clone();p=p.negative!==0?p.umod(v):p.clone();for(var g=new e(1),y=new e(0),x=new e(0),M=new e(1),F=0;p.isEven()&&b.isEven();)p.iushrn(1),b.iushrn(1),++F;for(var q=b.clone(),U=p.clone();!p.isZero();){for(var Y=0,B=1;!(p.words[0]&B)&&Y<26;++Y,B<<=1);if(Y>0)for(p.iushrn(Y);Y-- >0;)(g.isOdd()||y.isOdd())&&(g.iadd(q),y.isub(U)),g.iushrn(1),y.iushrn(1);for(var W=0,I=1;!(b.words[0]&I)&&W<26;++W,I<<=1);if(W>0)for(b.iushrn(W);W-- >0;)(x.isOdd()||M.isOdd())&&(x.iadd(q),M.isub(U)),x.iushrn(1),M.iushrn(1);p.cmp(b)>=0?(p.isub(b),g.isub(x),y.isub(M)):(b.isub(p),x.isub(g),M.isub(y))}return{a:x,b:M,gcd:b.iushln(F)}},e.prototype._invmp=function(v){l(v.negative===0),l(!v.isZero());var p=this,b=v.clone();p=p.negative!==0?p.umod(v):p.clone();for(var g,y=new e(1),x=new e(0),M=b.clone();p.cmpn(1)>0&&b.cmpn(1)>0;){for(var F=0,q=1;!(p.words[0]&q)&&F<26;++F,q<<=1);if(F>0)for(p.iushrn(F);F-- >0;)y.isOdd()&&y.iadd(M),y.iushrn(1);for(var U=0,Y=1;!(b.words[0]&Y)&&U<26;++U,Y<<=1);if(U>0)for(b.iushrn(U);U-- >0;)x.isOdd()&&x.iadd(M),x.iushrn(1);p.cmp(b)>=0?(p.isub(b),y.isub(x)):(b.isub(p),x.isub(y))}return(g=p.cmpn(1)===0?y:x).cmpn(0)<0&&g.iadd(v),g},e.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var p=this.clone(),b=v.clone();p.negative=0,b.negative=0;for(var g=0;p.isEven()&&b.isEven();g++)p.iushrn(1),b.iushrn(1);for(;;){for(;p.isEven();)p.iushrn(1);for(;b.isEven();)b.iushrn(1);var y=p.cmp(b);if(y<0){var x=p;p=b,b=x}else if(y===0||b.cmpn(1)===0)break;p.isub(b)}return b.iushln(g)},e.prototype.invm=function(v){return this.egcd(v).a.umod(v)},e.prototype.isEven=function(){return(1&this.words[0])==0},e.prototype.isOdd=function(){return(1&this.words[0])==1},e.prototype.andln=function(v){return this.words[0]&v},e.prototype.bincn=function(v){l(typeof v=="number");var p=v%26,b=(v-p)/26,g=1<<p;if(this.length<=b)return this._expand(b+1),this.words[b]|=g,this;for(var y=g,x=b;y!==0&&x<this.length;x++){var M=0|this.words[x];y=(M+=y)>>>26,M&=67108863,this.words[x]=M}return y!==0&&(this.words[x]=y,this.length++),this},e.prototype.isZero=function(){return this.length===1&&this.words[0]===0},e.prototype.cmpn=function(v){var p,b=v<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;if(this._strip(),this.length>1)p=1;else{b&&(v=-v),l(v<=67108863,"Number is too big");var g=0|this.words[0];p=g===v?0:g<v?-1:1}return this.negative!==0?0|-p:p},e.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var p=this.ucmp(v);return this.negative!==0?0|-p:p},e.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var p=0,b=this.length-1;b>=0;b--){var g=0|this.words[b],y=0|v.words[b];if(g!==y){g<y?p=-1:g>y&&(p=1);break}}return p},e.prototype.gtn=function(v){return this.cmpn(v)===1},e.prototype.gt=function(v){return this.cmp(v)===1},e.prototype.gten=function(v){return this.cmpn(v)>=0},e.prototype.gte=function(v){return this.cmp(v)>=0},e.prototype.ltn=function(v){return this.cmpn(v)===-1},e.prototype.lt=function(v){return this.cmp(v)===-1},e.prototype.lten=function(v){return this.cmpn(v)<=0},e.prototype.lte=function(v){return this.cmp(v)<=0},e.prototype.eqn=function(v){return this.cmpn(v)===0},e.prototype.eq=function(v){return this.cmp(v)===0},e.red=function(v){return new _(v)},e.prototype.toRed=function(v){return l(!this.red,"Already a number in reduction context"),l(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},e.prototype.fromRed=function(){return l(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},e.prototype._forceRed=function(v){return this.red=v,this},e.prototype.forceRed=function(v){return l(!this.red,"Already a number in reduction context"),this._forceRed(v)},e.prototype.redAdd=function(v){return l(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},e.prototype.redIAdd=function(v){return l(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},e.prototype.redSub=function(v){return l(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},e.prototype.redISub=function(v){return l(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},e.prototype.redShl=function(v){return l(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},e.prototype.redMul=function(v){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},e.prototype.redIMul=function(v){return l(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},e.prototype.redSqr=function(){return l(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},e.prototype.redISqr=function(){return l(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},e.prototype.redSqrt=function(){return l(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},e.prototype.redInvm=function(){return l(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},e.prototype.redNeg=function(){return l(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},e.prototype.redPow=function(v){return l(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var $={k256:null,p224:null,p192:null,p25519:null};function D(v,p){this.name=v,this.p=new e(p,16),this.n=this.p.bitLength(),this.k=new e(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function P(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(v){if(typeof v=="string"){var p=e._prime(v);this.m=p.p,this.prime=p}else l(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}function C(v){_.call(this,v),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new e(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var v=new e(null);return v.words=new Array(Math.ceil(this.n/13)),v},D.prototype.ireduce=function(v){var p,b=v;do this.split(b,this.tmp),p=(b=(b=this.imulK(b)).iadd(this.tmp)).bitLength();while(p>this.n);var g=p<this.n?-1:b.ucmp(this.p);return g===0?(b.words[0]=0,b.length=1):g>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},D.prototype.split=function(v,p){v.iushrn(this.n,0,p)},D.prototype.imulK=function(v){return v.imul(this.k)},n(P,D),P.prototype.split=function(v,p){for(var b=Math.min(v.length,9),g=0;g<b;g++)p.words[g]=v.words[g];if(p.length=b,v.length<=9)return v.words[0]=0,void(v.length=1);var y=v.words[9];for(p.words[p.length++]=4194303&y,g=10;g<v.length;g++){var x=0|v.words[g];v.words[g-10]=(4194303&x)<<4|y>>>22,y=x}y>>>=22,v.words[g-10]=y,y===0&&v.length>10?v.length-=10:v.length-=9},P.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var p=0,b=0;b<v.length;b++){var g=0|v.words[b];p+=977*g,v.words[b]=67108863&p,p=64*g+(p/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v},n(R,D),n(H,D),n(N,D),N.prototype.imulK=function(v){for(var p=0,b=0;b<v.length;b++){var g=19*(0|v.words[b])+p,y=67108863&g;g>>>=26,v.words[b]=y,p=g}return p!==0&&(v.words[v.length++]=p),v},e._prime=function(v){if($[v])return $[v];var p;if(v==="k256")p=new P;else if(v==="p224")p=new R;else if(v==="p192")p=new H;else{if(v!=="p25519")throw new Error("Unknown prime "+v);p=new N}return $[v]=p,p},_.prototype._verify1=function(v){l(v.negative===0,"red works only with positives"),l(v.red,"red works only with red numbers")},_.prototype._verify2=function(v,p){l((v.negative|p.negative)==0,"red works only with positives"),l(v.red&&v.red===p.red,"red works only with red numbers")},_.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(d(v,v.umod(this.m)._forceRed(this)),v)},_.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},_.prototype.add=function(v,p){this._verify2(v,p);var b=v.add(p);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},_.prototype.iadd=function(v,p){this._verify2(v,p);var b=v.iadd(p);return b.cmp(this.m)>=0&&b.isub(this.m),b},_.prototype.sub=function(v,p){this._verify2(v,p);var b=v.sub(p);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},_.prototype.isub=function(v,p){this._verify2(v,p);var b=v.isub(p);return b.cmpn(0)<0&&b.iadd(this.m),b},_.prototype.shl=function(v,p){return this._verify1(v),this.imod(v.ushln(p))},_.prototype.imul=function(v,p){return this._verify2(v,p),this.imod(v.imul(p))},_.prototype.mul=function(v,p){return this._verify2(v,p),this.imod(v.mul(p))},_.prototype.isqr=function(v){return this.imul(v,v.clone())},_.prototype.sqr=function(v){return this.mul(v,v)},_.prototype.sqrt=function(v){if(v.isZero())return v.clone();var p=this.m.andln(3);if(l(p%2==1),p===3){var b=this.m.add(new e(1)).iushrn(2);return this.pow(v,b)}for(var g=this.m.subn(1),y=0;!g.isZero()&&g.andln(1)===0;)y++,g.iushrn(1);l(!g.isZero());var x=new e(1).toRed(this),M=x.redNeg(),F=this.m.subn(1).iushrn(1),q=this.m.bitLength();for(q=new e(2*q*q).toRed(this);this.pow(q,F).cmp(M)!==0;)q.redIAdd(M);for(var U=this.pow(q,g),Y=this.pow(v,g.addn(1).iushrn(1)),B=this.pow(v,g),W=y;B.cmp(x)!==0;){for(var I=B,A=0;I.cmp(x)!==0;A++)I=I.redSqr();l(A<W);var z=this.pow(U,new e(1).iushln(W-A-1));Y=Y.redMul(z),U=z.redSqr(),B=B.redMul(U),W=A}return Y},_.prototype.invm=function(v){var p=v._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},_.prototype.pow=function(v,p){if(p.isZero())return new e(1).toRed(this);if(p.cmpn(1)===0)return v.clone();var b=new Array(16);b[0]=new e(1).toRed(this),b[1]=v;for(var g=2;g<b.length;g++)b[g]=this.mul(b[g-1],v);var y=b[0],x=0,M=0,F=p.bitLength()%26;for(F===0&&(F=26),g=p.length-1;g>=0;g--){for(var q=p.words[g],U=F-1;U>=0;U--){var Y=q>>U&1;y!==b[0]&&(y=this.sqr(y)),Y!==0||x!==0?(x<<=1,x|=Y,(++M===4||g===0&&U===0)&&(y=this.mul(y,b[x]),M=0,x=0)):M=0}F=26}return y},_.prototype.convertTo=function(v){var p=v.umod(this.m);return p===v?p.clone():p},_.prototype.convertFrom=function(v){var p=v.clone();return p.red=null,p},e.mont=function(v){return new C(v)},n(C,_),C.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},C.prototype.convertFrom=function(v){var p=this.imod(v.mul(this.rinv));return p.red=null,p},C.prototype.imul=function(v,p){if(v.isZero()||p.isZero())return v.words[0]=0,v.length=1,v;var b=v.imul(p),g=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=b.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},C.prototype.mul=function(v,p){if(v.isZero()||p.isZero())return new e(0)._forceRed(this);var b=v.mul(p),g=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=b.isub(g).iushrn(this.shift),x=y;return y.cmp(this.m)>=0?x=y.isub(this.m):y.cmpn(0)<0&&(x=y.iadd(this.m)),x._forceRed(this)},C.prototype.invm=function(v){return this.imod(v._invmp(this.m).mul(this.r2))._forceRed(this)}})(T===void 0||T)},{buffer:188}],187:[function(i,T,S){var m;function o(n){this.rand=n}if(T.exports=function(n){return m||(m=new o(null)),m.generate(n)},T.exports.Rand=o,o.prototype.generate=function(n){return this._rand(n)},o.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var e=new Uint8Array(n),t=0;t<e.length;t++)e[t]=this.rand.getByte();return e},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(n){var e=new Uint8Array(n);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(n){var e=new Uint8Array(n);return self.msCrypto.getRandomValues(e),e}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var l=i("crypto");if(typeof l.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(n){return l.randomBytes(n)}}catch{}},{crypto:188}],188:[function(i,T,S){},{}],189:[function(i,T,S){var m=i("safe-buffer").Buffer;function o(r){m.isBuffer(r)||(r=m.from(r));for(var s=r.length/4|0,d=new Array(s),u=0;u<s;u++)d[u]=r.readUInt32BE(4*u);return d}function l(r){for(;0<r.length;r++)r[0]=0}function n(r,s,d,u,c){for(var f,h,w,k,E=d[0],j=d[1],$=d[2],D=d[3],P=r[0]^s[0],R=r[1]^s[1],H=r[2]^s[2],N=r[3]^s[3],_=4,C=1;C<c;C++)f=E[P>>>24]^j[R>>>16&255]^$[H>>>8&255]^D[255&N]^s[_++],h=E[R>>>24]^j[H>>>16&255]^$[N>>>8&255]^D[255&P]^s[_++],w=E[H>>>24]^j[N>>>16&255]^$[P>>>8&255]^D[255&R]^s[_++],k=E[N>>>24]^j[P>>>16&255]^$[R>>>8&255]^D[255&H]^s[_++],P=f,R=h,H=w,N=k;return f=(u[P>>>24]<<24|u[R>>>16&255]<<16|u[H>>>8&255]<<8|u[255&N])^s[_++],h=(u[R>>>24]<<24|u[H>>>16&255]<<16|u[N>>>8&255]<<8|u[255&P])^s[_++],w=(u[H>>>24]<<24|u[N>>>16&255]<<16|u[P>>>8&255]<<8|u[255&R])^s[_++],k=(u[N>>>24]<<24|u[P>>>16&255]<<16|u[R>>>8&255]<<8|u[255&H])^s[_++],[f>>>=0,h>>>=0,w>>>=0,k>>>=0]}var e=[0,1,2,4,8,16,32,64,128,27,54],t=function(){for(var r=new Array(256),s=0;s<256;s++)r[s]=s<128?s<<1:s<<1^283;for(var d=[],u=[],c=[[],[],[],[]],f=[[],[],[],[]],h=0,w=0,k=0;k<256;++k){var E=w^w<<1^w<<2^w<<3^w<<4;E=E>>>8^255&E^99,d[h]=E,u[E]=h;var j=r[h],$=r[j],D=r[$],P=257*r[E]^16843008*E;c[0][h]=P<<24|P>>>8,c[1][h]=P<<16|P>>>16,c[2][h]=P<<8|P>>>24,c[3][h]=P,P=16843009*D^65537*$^257*j^16843008*h,f[0][E]=P<<24|P>>>8,f[1][E]=P<<16|P>>>16,f[2][E]=P<<8|P>>>24,f[3][E]=P,h===0?h=w=1:(h=j^r[r[r[D^j]]],w^=r[r[w]])}return{SBOX:d,INV_SBOX:u,SUB_MIX:c,INV_SUB_MIX:f}}();function a(r){this._key=o(r),this._reset()}a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var r=this._key,s=r.length,d=s+6,u=4*(d+1),c=[],f=0;f<s;f++)c[f]=r[f];for(f=s;f<u;f++){var h=c[f-1];f%s==0?(h=h<<8|h>>>24,h=t.SBOX[h>>>24]<<24|t.SBOX[h>>>16&255]<<16|t.SBOX[h>>>8&255]<<8|t.SBOX[255&h],h^=e[f/s|0]<<24):s>6&&f%s==4&&(h=t.SBOX[h>>>24]<<24|t.SBOX[h>>>16&255]<<16|t.SBOX[h>>>8&255]<<8|t.SBOX[255&h]),c[f]=c[f-s]^h}for(var w=[],k=0;k<u;k++){var E=u-k,j=c[E-(k%4?0:4)];w[k]=k<4||E<=4?j:t.INV_SUB_MIX[0][t.SBOX[j>>>24]]^t.INV_SUB_MIX[1][t.SBOX[j>>>16&255]]^t.INV_SUB_MIX[2][t.SBOX[j>>>8&255]]^t.INV_SUB_MIX[3][t.SBOX[255&j]]}this._nRounds=d,this._keySchedule=c,this._invKeySchedule=w},a.prototype.encryptBlockRaw=function(r){return n(r=o(r),this._keySchedule,t.SUB_MIX,t.SBOX,this._nRounds)},a.prototype.encryptBlock=function(r){var s=this.encryptBlockRaw(r),d=m.allocUnsafe(16);return d.writeUInt32BE(s[0],0),d.writeUInt32BE(s[1],4),d.writeUInt32BE(s[2],8),d.writeUInt32BE(s[3],12),d},a.prototype.decryptBlock=function(r){var s=(r=o(r))[1];r[1]=r[3],r[3]=s;var d=n(r,this._invKeySchedule,t.INV_SUB_MIX,t.INV_SBOX,this._nRounds),u=m.allocUnsafe(16);return u.writeUInt32BE(d[0],0),u.writeUInt32BE(d[3],4),u.writeUInt32BE(d[2],8),u.writeUInt32BE(d[1],12),u},a.prototype.scrub=function(){l(this._keySchedule),l(this._invKeySchedule),l(this._key)},T.exports.AES=a},{"safe-buffer":494}],190:[function(i,T,S){var m=i("./aes"),o=i("safe-buffer").Buffer,l=i("cipher-base"),n=i("inherits"),e=i("./ghash"),t=i("buffer-xor"),a=i("./incr32");function r(s,d,u,c){l.call(this);var f=o.alloc(4,0);this._cipher=new m.AES(d);var h=this._cipher.encryptBlock(f);this._ghash=new e(h),u=function(w,k,E){if(k.length===12)return w._finID=o.concat([k,o.from([0,0,0,1])]),o.concat([k,o.from([0,0,0,2])]);var j=new e(E),$=k.length,D=$%16;j.update(k),D&&(D=16-D,j.update(o.alloc(D,0))),j.update(o.alloc(8,0));var P=8*$,R=o.alloc(8);R.writeUIntBE(P,0,8),j.update(R),w._finID=j.state;var H=o.from(w._finID);return a(H),H}(this,u,h),this._prev=o.from(u),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=c,this._alen=0,this._len=0,this._mode=s,this._authTag=null,this._called=!1}n(r,l),r.prototype._update=function(s){if(!this._called&&this._alen){var d=16-this._alen%16;d<16&&(d=o.alloc(d,0),this._ghash.update(d))}this._called=!0;var u=this._mode.encrypt(this,s);return this._decrypt?this._ghash.update(s):this._ghash.update(u),this._len+=s.length,u},r.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var s=t(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(d,u){var c=0;d.length!==u.length&&c++;for(var f=Math.min(d.length,u.length),h=0;h<f;++h)c+=d[h]^u[h];return c}(s,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=s,this._cipher.scrub()},r.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},r.prototype.setAuthTag=function(s){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=s},r.prototype.setAAD=function(s){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(s),this._alen+=s.length},T.exports=r},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(i,T,S){var m=i("./encrypter"),o=i("./decrypter"),l=i("./modes/list.json");S.createCipher=S.Cipher=m.createCipher,S.createCipheriv=S.Cipheriv=m.createCipheriv,S.createDecipher=S.Decipher=o.createDecipher,S.createDecipheriv=S.Decipheriv=o.createDecipheriv,S.listCiphers=S.getCiphers=function(){return Object.keys(l)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(i,T,S){var m=i("./authCipher"),o=i("safe-buffer").Buffer,l=i("./modes"),n=i("./streamCipher"),e=i("cipher-base"),t=i("./aes"),a=i("evp_bytestokey");function r(u,c,f){e.call(this),this._cache=new s,this._last=void 0,this._cipher=new t.AES(c),this._prev=o.from(f),this._mode=u,this._autopadding=!0}function s(){this.cache=o.allocUnsafe(0)}function d(u,c,f){var h=l[u.toLowerCase()];if(!h)throw new TypeError("invalid suite type");if(typeof f=="string"&&(f=o.from(f)),h.mode!=="GCM"&&f.length!==h.iv)throw new TypeError("invalid iv length "+f.length);if(typeof c=="string"&&(c=o.from(c)),c.length!==h.key/8)throw new TypeError("invalid key length "+c.length);return h.type==="stream"?new n(h.module,c,f,!0):h.type==="auth"?new m(h.module,c,f,!0):new r(h.module,c,f)}i("inherits")(r,e),r.prototype._update=function(u){var c,f;this._cache.add(u);for(var h=[];c=this._cache.get(this._autopadding);)f=this._mode.decrypt(this,c),h.push(f);return o.concat(h)},r.prototype._final=function(){var u=this._cache.flush();if(this._autopadding)return function(c){var f=c[15];if(f<1||f>16)throw new Error("unable to decrypt data");for(var h=-1;++h<f;)if(c[h+(16-f)]!==f)throw new Error("unable to decrypt data");if(f!==16)return c.slice(0,16-f)}(this._mode.decrypt(this,u));if(u)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(u){return this._autopadding=!!u,this},s.prototype.add=function(u){this.cache=o.concat([this.cache,u])},s.prototype.get=function(u){var c;if(u){if(this.cache.length>16)return c=this.cache.slice(0,16),this.cache=this.cache.slice(16),c}else if(this.cache.length>=16)return c=this.cache.slice(0,16),this.cache=this.cache.slice(16),c;return null},s.prototype.flush=function(){if(this.cache.length)return this.cache},S.createDecipher=function(u,c){var f=l[u.toLowerCase()];if(!f)throw new TypeError("invalid suite type");var h=a(c,!1,f.key,f.iv);return d(u,h.key,h.iv)},S.createDecipheriv=d},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(i,T,S){var m=i("./modes"),o=i("./authCipher"),l=i("safe-buffer").Buffer,n=i("./streamCipher"),e=i("cipher-base"),t=i("./aes"),a=i("evp_bytestokey");function r(c,f,h){e.call(this),this._cache=new d,this._cipher=new t.AES(f),this._prev=l.from(h),this._mode=c,this._autopadding=!0}i("inherits")(r,e),r.prototype._update=function(c){var f,h;this._cache.add(c);for(var w=[];f=this._cache.get();)h=this._mode.encrypt(this,f),w.push(h);return l.concat(w)};var s=l.alloc(16,16);function d(){this.cache=l.allocUnsafe(0)}function u(c,f,h){var w=m[c.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof f=="string"&&(f=l.from(f)),f.length!==w.key/8)throw new TypeError("invalid key length "+f.length);if(typeof h=="string"&&(h=l.from(h)),w.mode!=="GCM"&&h.length!==w.iv)throw new TypeError("invalid iv length "+h.length);return w.type==="stream"?new n(w.module,f,h):w.type==="auth"?new o(w.module,f,h):new r(w.module,f,h)}r.prototype._final=function(){var c=this._cache.flush();if(this._autopadding)return c=this._mode.encrypt(this,c),this._cipher.scrub(),c;if(!c.equals(s))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(c){return this._autopadding=!!c,this},d.prototype.add=function(c){this.cache=l.concat([this.cache,c])},d.prototype.get=function(){if(this.cache.length>15){var c=this.cache.slice(0,16);return this.cache=this.cache.slice(16),c}return null},d.prototype.flush=function(){for(var c=16-this.cache.length,f=l.allocUnsafe(c),h=-1;++h<c;)f.writeUInt8(c,h);return l.concat([this.cache,f])},S.createCipheriv=u,S.createCipher=function(c,f){var h=m[c.toLowerCase()];if(!h)throw new TypeError("invalid suite type");var w=a(f,!1,h.key,h.iv);return u(c,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(i,T,S){var m=i("safe-buffer").Buffer,o=m.alloc(16,0);function l(e){var t=m.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function n(e){this.h=e,this.state=m.alloc(16,0),this.cache=m.allocUnsafe(0)}n.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},n.prototype._multiply=function(){for(var e,t,a,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],s=[0,0,0,0],d=-1;++d<128;){for(this.state[~~(d/8)]&1<<7-d%8&&(s[0]^=r[0],s[1]^=r[1],s[2]^=r[2],s[3]^=r[3]),a=(1&r[3])!=0,t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,a&&(r[0]=r[0]^-520093696)}this.state=l(s)},n.prototype.update=function(e){var t;for(this.cache=m.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},n.prototype.final=function(e,t){return this.cache.length&&this.ghash(m.concat([this.cache,o],16)),this.ghash(l([0,e,0,t])),this.state},T.exports=n},{"safe-buffer":494}],195:[function(i,T,S){T.exports=function(m){for(var o,l=m.length;l--;){if((o=m.readUInt8(l))!==255){o++,m.writeUInt8(o,l);break}m.writeUInt8(0,l)}}},{}],196:[function(i,T,S){var m=i("buffer-xor");S.encrypt=function(o,l){var n=m(l,o._prev);return o._prev=o._cipher.encryptBlock(n),o._prev},S.decrypt=function(o,l){var n=o._prev;o._prev=l;var e=o._cipher.decryptBlock(l);return m(e,n)}},{"buffer-xor":219}],197:[function(i,T,S){var m=i("safe-buffer").Buffer,o=i("buffer-xor");function l(n,e,t){var a=e.length,r=o(e,n._cache);return n._cache=n._cache.slice(a),n._prev=m.concat([n._prev,t?e:r]),r}S.encrypt=function(n,e,t){for(var a,r=m.allocUnsafe(0);e.length;){if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=m.allocUnsafe(0)),!(n._cache.length<=e.length)){r=m.concat([r,l(n,e,t)]);break}a=n._cache.length,r=m.concat([r,l(n,e.slice(0,a),t)]),e=e.slice(a)}return r}},{"buffer-xor":219,"safe-buffer":494}],198:[function(i,T,S){var m=i("safe-buffer").Buffer;function o(n,e,t){for(var a,r,s=-1,d=0;++s<8;)a=e&1<<7-s?128:0,d+=(128&(r=n._cipher.encryptBlock(n._prev)[0]^a))>>s%8,n._prev=l(n._prev,t?a:r);return d}function l(n,e){var t=n.length,a=-1,r=m.allocUnsafe(n.length);for(n=m.concat([n,m.from([e])]);++a<t;)r[a]=n[a]<<1|n[a+1]>>7;return r}S.encrypt=function(n,e,t){for(var a=e.length,r=m.allocUnsafe(a),s=-1;++s<a;)r[s]=o(n,e[s],t);return r}},{"safe-buffer":494}],199:[function(i,T,S){var m=i("safe-buffer").Buffer;function o(l,n,e){var t=l._cipher.encryptBlock(l._prev)[0]^n;return l._prev=m.concat([l._prev.slice(1),m.from([e?n:t])]),t}S.encrypt=function(l,n,e){for(var t=n.length,a=m.allocUnsafe(t),r=-1;++r<t;)a[r]=o(l,n[r],e);return a}},{"safe-buffer":494}],200:[function(i,T,S){var m=i("buffer-xor"),o=i("safe-buffer").Buffer,l=i("../incr32");function n(e){var t=e._cipher.encryptBlockRaw(e._prev);return l(e._prev),t}S.encrypt=function(e,t){var a=Math.ceil(t.length/16),r=e._cache.length;e._cache=o.concat([e._cache,o.allocUnsafe(16*a)]);for(var s=0;s<a;s++){var d=n(e),u=r+16*s;e._cache.writeUInt32BE(d[0],u+0),e._cache.writeUInt32BE(d[1],u+4),e._cache.writeUInt32BE(d[2],u+8),e._cache.writeUInt32BE(d[3],u+12)}var c=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),m(t,c)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(i,T,S){S.encrypt=function(m,o){return m._cipher.encryptBlock(o)},S.decrypt=function(m,o){return m._cipher.decryptBlock(o)}},{}],202:[function(i,T,S){var m={ECB:i("./ecb"),CBC:i("./cbc"),CFB:i("./cfb"),CFB8:i("./cfb8"),CFB1:i("./cfb1"),OFB:i("./ofb"),CTR:i("./ctr"),GCM:i("./ctr")},o=i("./list.json");for(var l in o)o[l].module=m[o[l].mode];T.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(i,T,S){T.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(i,T,S){(function(m){(function(){var o=i("buffer-xor");function l(n){return n._prev=n._cipher.encryptBlock(n._prev),n._prev}S.encrypt=function(n,e){for(;n._cache.length<e.length;)n._cache=m.concat([n._cache,l(n)]);var t=n._cache.slice(0,e.length);return n._cache=n._cache.slice(e.length),o(e,t)}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(i,T,S){var m=i("./aes"),o=i("safe-buffer").Buffer,l=i("cipher-base");function n(e,t,a,r){l.call(this),this._cipher=new m.AES(t),this._prev=o.from(a),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._mode=e}i("inherits")(n,l),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},T.exports=n},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(i,T,S){var m=i("browserify-des"),o=i("browserify-aes/browser"),l=i("browserify-aes/modes"),n=i("browserify-des/modes"),e=i("evp_bytestokey");function t(r,s,d){if(r=r.toLowerCase(),l[r])return o.createCipheriv(r,s,d);if(n[r])return new m({key:s,iv:d,mode:r});throw new TypeError("invalid suite type")}function a(r,s,d){if(r=r.toLowerCase(),l[r])return o.createDecipheriv(r,s,d);if(n[r])return new m({key:s,iv:d,mode:r,decrypt:!0});throw new TypeError("invalid suite type")}S.createCipher=S.Cipher=function(r,s){var d,u;if(r=r.toLowerCase(),l[r])d=l[r].key,u=l[r].iv;else{if(!n[r])throw new TypeError("invalid suite type");d=8*n[r].key,u=n[r].iv}var c=e(s,!1,d,u);return t(r,c.key,c.iv)},S.createCipheriv=S.Cipheriv=t,S.createDecipher=S.Decipher=function(r,s){var d,u;if(r=r.toLowerCase(),l[r])d=l[r].key,u=l[r].iv;else{if(!n[r])throw new TypeError("invalid suite type");d=8*n[r].key,u=n[r].iv}var c=e(s,!1,d,u);return a(r,c.key,c.iv)},S.createDecipheriv=S.Decipheriv=a,S.listCiphers=S.getCiphers=function(){return Object.keys(n).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(i,T,S){var m=i("cipher-base"),o=i("des.js"),l=i("inherits"),n=i("safe-buffer").Buffer,e={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function t(a){m.call(this);var r,s=a.mode.toLowerCase(),d=e[s];r=a.decrypt?"decrypt":"encrypt";var u=a.key;n.isBuffer(u)||(u=n.from(u)),s!=="des-ede"&&s!=="des-ede-cbc"||(u=n.concat([u,u.slice(0,8)]));var c=a.iv;n.isBuffer(c)||(c=n.from(c)),this._des=d.create({key:u,iv:c,type:r})}e.des=e["des-cbc"],e.des3=e["des-ede3-cbc"],T.exports=t,l(t,m),t.prototype._update=function(a){return n.from(this._des.update(a))},t.prototype._final=function(){return n.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(i,T,S){S["des-ecb"]={key:8,iv:0},S["des-cbc"]=S.des={key:8,iv:8},S["des-ede3-cbc"]=S.des3={key:24,iv:8},S["des-ede3"]={key:24,iv:0},S["des-ede-cbc"]={key:16,iv:8},S["des-ede"]={key:16,iv:0}},{}],209:[function(i,T,S){(function(m){(function(){var o=i("bn.js"),l=i("randombytes");function n(t){var a,r=t.modulus.byteLength();do a=new o(l(r));while(a.cmp(t.modulus)>=0||!a.umod(t.prime1)||!a.umod(t.prime2));return a}function e(t,a){var r=function($){var D=n($);return{blinder:D.toRed(o.mont($.modulus)).redPow(new o($.publicExponent)).fromRed(),unblinder:D.invm($.modulus)}}(a),s=a.modulus.byteLength(),d=new o(t).mul(r.blinder).umod(a.modulus),u=d.toRed(o.mont(a.prime1)),c=d.toRed(o.mont(a.prime2)),f=a.coefficient,h=a.prime1,w=a.prime2,k=u.redPow(a.exponent1).fromRed(),E=c.redPow(a.exponent2).fromRed(),j=k.isub(E).imul(f).umod(h).imul(w);return E.iadd(j).imul(r.unblinder).umod(a.modulus).toArrayLike(m,"be",s)}e.getr=n,T.exports=e}).call(this)}).call(this,i("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(i,T,S){T.exports=i("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(i,T,S){T.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(i,T,S){T.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(i,T,S){var m=i("safe-buffer").Buffer,o=i("create-hash"),l=i("readable-stream"),n=i("inherits"),e=i("./sign"),t=i("./verify"),a=i("./algorithms.json");function r(c){l.Writable.call(this);var f=a[c];if(!f)throw new Error("Unknown message digest");this._hashType=f.hash,this._hash=o(f.hash),this._tag=f.id,this._signType=f.sign}function s(c){l.Writable.call(this);var f=a[c];if(!f)throw new Error("Unknown message digest");this._hash=o(f.hash),this._tag=f.id,this._signType=f.sign}function d(c){return new r(c)}function u(c){return new s(c)}Object.keys(a).forEach(function(c){a[c].id=m.from(a[c].id,"hex"),a[c.toLowerCase()]=a[c]}),n(r,l.Writable),r.prototype._write=function(c,f,h){this._hash.update(c),h()},r.prototype.update=function(c,f){return typeof c=="string"&&(c=m.from(c,f)),this._hash.update(c),this},r.prototype.sign=function(c,f){this.end();var h=this._hash.digest(),w=e(h,c,this._hashType,this._signType,this._tag);return f?w.toString(f):w},n(s,l.Writable),s.prototype._write=function(c,f,h){this._hash.update(c),h()},s.prototype.update=function(c,f){return typeof c=="string"&&(c=m.from(c,f)),this._hash.update(c),this},s.prototype.verify=function(c,f,h){typeof f=="string"&&(f=m.from(f,h)),this.end();var w=this._hash.digest();return t(f,w,c,this._signType,this._tag)},T.exports={Sign:d,Verify:u,createSign:d,createVerify:u}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(i,T,S){var m=i("safe-buffer").Buffer,o=i("create-hmac"),l=i("browserify-rsa"),n=i("elliptic").ec,e=i("bn.js"),t=i("parse-asn1"),a=i("./curves.json");function r(c,f,h,w){if((c=m.from(c.toArray())).length<f.byteLength()){var k=m.alloc(f.byteLength()-c.length);c=m.concat([k,c])}var E=h.length,j=function(P,R){P=(P=s(P,R)).mod(R);var H=m.from(P.toArray());if(H.length<R.byteLength()){var N=m.alloc(R.byteLength()-H.length);H=m.concat([N,H])}return H}(h,f),$=m.alloc(E);$.fill(1);var D=m.alloc(E);return D=o(w,D).update($).update(m.from([0])).update(c).update(j).digest(),$=o(w,D).update($).digest(),{k:D=o(w,D).update($).update(m.from([1])).update(c).update(j).digest(),v:$=o(w,D).update($).digest()}}function s(c,f){var h=new e(c),w=(c.length<<3)-f.bitLength();return w>0&&h.ishrn(w),h}function d(c,f,h){var w,k;do{for(w=m.alloc(0);8*w.length<c.bitLength();)f.v=o(h,f.k).update(f.v).digest(),w=m.concat([w,f.v]);k=s(w,c),f.k=o(h,f.k).update(f.v).update(m.from([0])).digest(),f.v=o(h,f.k).update(f.v).digest()}while(k.cmp(c)!==-1);return k}function u(c,f,h,w){return c.toRed(e.mont(h)).redPow(f).fromRed().mod(w)}T.exports=function(c,f,h,w,k){var E=t(f);if(E.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(P,R){var H=a[R.curve.join(".")];if(!H)throw new Error("unknown curve "+R.curve.join("."));var N=new n(H).keyFromPrivate(R.privateKey).sign(P);return m.from(N.toDER())}(c,E)}if(E.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(P,R,H){for(var N,_=R.params.priv_key,C=R.params.p,v=R.params.q,p=R.params.g,b=new e(0),g=s(P,v).mod(v),y=!1,x=r(_,v,P,H);y===!1;)N=d(v,x,H),b=u(p,N,C,v),(y=N.invm(v).imul(g.add(_.mul(b))).mod(v)).cmpn(0)===0&&(y=!1,b=new e(0));return function(M,F){M=M.toArray(),F=F.toArray(),128&M[0]&&(M=[0].concat(M)),128&F[0]&&(F=[0].concat(F));var q=[48,M.length+F.length+4,2,M.length];return q=q.concat(M,[2,F.length],F),m.from(q)}(b,y)}(c,E,h)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");c=m.concat([k,c]);for(var j=E.modulus.byteLength(),$=[0,1];c.length+$.length+1<j;)$.push(255);$.push(0);for(var D=-1;++D<c.length;)$.push(c[D]);return l($,E)},T.exports.getKey=r,T.exports.makeKey=d},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(i,T,S){var m=i("safe-buffer").Buffer,o=i("bn.js"),l=i("elliptic").ec,n=i("parse-asn1"),e=i("./curves.json");function t(a,r){if(a.cmpn(0)<=0)throw new Error("invalid sig");if(a.cmp(r)>=r)throw new Error("invalid sig")}T.exports=function(a,r,s,d,u){var c=n(s);if(c.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return function($,D,P){var R=e[P.data.algorithm.curve.join(".")];if(!R)throw new Error("unknown curve "+P.data.algorithm.curve.join("."));var H=new l(R),N=P.data.subjectPrivateKey.data;return H.verify(D,$,N)}(a,r,c)}if(c.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return function($,D,P){var R=P.data.p,H=P.data.q,N=P.data.g,_=P.data.pub_key,C=n.signature.decode($,"der"),v=C.s,p=C.r;t(v,H),t(p,H);var b=o.mont(R),g=v.invm(H);return N.toRed(b).redPow(new o(D).mul(g).mod(H)).fromRed().mul(_.toRed(b).redPow(p.mul(g).mod(H)).fromRed()).mod(R).mod(H).cmp(p)===0}(a,r,c)}if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");r=m.concat([u,r]);for(var f=c.modulus.byteLength(),h=[1],w=0;r.length+h.length+2<f;)h.push(255),w++;h.push(0);for(var k=-1;++k<r.length;)h.push(r[k]);h=m.from(h);var E=o.mont(c.modulus);a=(a=new o(a).toRed(E)).redPow(new o(c.publicExponent)),a=m.from(a.fromRed().toArray());var j=w<8?1:0;for(f=Math.min(a.length,h.length),a.length!==h.length&&(j=1),k=-1;++k<f;)j|=a[k]^h[k];return j===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(i,T,S){},{}],217:[function(i,T,S){var m=i("buffer"),o=m.Buffer;function l(e,t){for(var a in e)t[a]=e[a]}function n(e,t,a){return o(e,t,a)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?T.exports=m:(l(m,S),S.Buffer=n),l(o,n),n.from=function(e,t,a){if(typeof e=="number")throw new TypeError("Argument must not be a number");return o(e,t,a)},n.alloc=function(e,t,a){if(typeof e!="number")throw new TypeError("Argument must be a number");var r=o(e);return t!==void 0?typeof a=="string"?r.fill(t,a):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return o(e)},n.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(e)}},{buffer:220}],218:[function(i,T,S){var m=i("safe-buffer").Buffer,o=m.isEncoding||function(c){switch((c=""+c)&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(c){var f;switch(this.encoding=function(h){var w=function(k){if(!k)return"utf8";for(var E;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(E)return;k=(""+k).toLowerCase(),E=!0}}(h);if(typeof w!="string"&&(m.isEncoding===o||!o(h)))throw new Error("Unknown encoding: "+h);return w||h}(c),this.encoding){case"utf16le":this.text=t,this.end=a,f=4;break;case"utf8":this.fillLast=e,f=4;break;case"base64":this.text=r,this.end=s,f=3;break;default:return this.write=d,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(f)}function n(c){return c<=127?0:c>>5==6?2:c>>4==14?3:c>>3==30?4:c>>6==2?-1:-2}function e(c){var f=this.lastTotal-this.lastNeed,h=function(w,k,E){if((192&k[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&k.length>1){if((192&k[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&k.length>2&&(192&k[2])!=128)return w.lastNeed=2,""}}(this,c);return h!==void 0?h:this.lastNeed<=c.length?(c.copy(this.lastChar,f,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(c.copy(this.lastChar,f,0,c.length),void(this.lastNeed-=c.length))}function t(c,f){if((c.length-f)%2==0){var h=c.toString("utf16le",f);if(h){var w=h.charCodeAt(h.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],h.slice(0,-1)}return h}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",f,c.length-1)}function a(c){var f=c&&c.length?this.write(c):"";if(this.lastNeed){var h=this.lastTotal-this.lastNeed;return f+this.lastChar.toString("utf16le",0,h)}return f}function r(c,f){var h=(c.length-f)%3;return h===0?c.toString("base64",f):(this.lastNeed=3-h,this.lastTotal=3,h===1?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",f,c.length-h))}function s(c){var f=c&&c.length?this.write(c):"";return this.lastNeed?f+this.lastChar.toString("base64",0,3-this.lastNeed):f}function d(c){return c.toString(this.encoding)}function u(c){return c&&c.length?this.write(c):""}S.StringDecoder=l,l.prototype.write=function(c){if(c.length===0)return"";var f,h;if(this.lastNeed){if((f=this.fillLast(c))===void 0)return"";h=this.lastNeed,this.lastNeed=0}else h=0;return h<c.length?f?f+this.text(c,h):this.text(c,h):f||""},l.prototype.end=function(c){var f=c&&c.length?this.write(c):"";return this.lastNeed?f+"":f},l.prototype.text=function(c,f){var h=function(k,E,j){var $=E.length-1;if($<j)return 0;var D=n(E[$]);return D>=0?(D>0&&(k.lastNeed=D-1),D):--$<j||D===-2?0:(D=n(E[$]))>=0?(D>0&&(k.lastNeed=D-2),D):--$<j||D===-2?0:(D=n(E[$]))>=0?(D>0&&(D===2?D=0:k.lastNeed=D-3),D):0}(this,c,f);if(!this.lastNeed)return c.toString("utf8",f);this.lastTotal=h;var w=c.length-(h-this.lastNeed);return c.copy(this.lastChar,0,w),c.toString("utf8",f,w)},l.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length}},{"safe-buffer":217}],219:[function(i,T,S){(function(m){(function(){T.exports=function(o,l){for(var n=Math.min(o.length,l.length),e=new m(n),t=0;t<n;++t)e[t]=o[t]^l[t];return e}}).call(this)}).call(this,i("buffer").Buffer)},{buffer:220}],220:[function(i,T,S){(function(m){(function(){var o=i("base64-js"),l=i("ieee754");S.Buffer=e,S.SlowBuffer=function(I){return+I!=I&&(I=0),e.alloc(+I)},S.INSPECT_MAX_BYTES=50;function n(I){if(I>2147483647)throw new RangeError('The value "'+I+'" is invalid for option "size"');var A=new Uint8Array(I);return A.__proto__=e.prototype,A}function e(I,A,z){if(typeof I=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return r(I)}return t(I,A,z)}function t(I,A,z){if(typeof I=="string")return function(X,K){if(typeof K=="string"&&K!==""||(K="utf8"),!e.isEncoding(K))throw new TypeError("Unknown encoding: "+K);var ie=0|u(X,K),ne=n(ie),G=ne.write(X,K);return G!==ie&&(ne=ne.slice(0,G)),ne}(I,A);if(ArrayBuffer.isView(I))return s(I);if(I==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I);if(B(I,ArrayBuffer)||I&&B(I.buffer,ArrayBuffer))return function(X,K,ie){if(K<0||X.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<K+(ie||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=K===void 0&&ie===void 0?new Uint8Array(X):ie===void 0?new Uint8Array(X,K):new Uint8Array(X,K,ie),ne.__proto__=e.prototype,ne}(I,A,z);if(typeof I=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var V=I.valueOf&&I.valueOf();if(V!=null&&V!==I)return e.from(V,A,z);var Z=function(X){if(e.isBuffer(X)){var K=0|d(X.length),ie=n(K);return ie.length===0||X.copy(ie,0,0,K),ie}if(X.length!==void 0)return typeof X.length!="number"||W(X.length)?n(0):s(X);if(X.type==="Buffer"&&Array.isArray(X.data))return s(X.data)}(I);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof I[Symbol.toPrimitive]=="function")return e.from(I[Symbol.toPrimitive]("string"),A,z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof I)}function a(I){if(typeof I!="number")throw new TypeError('"size" argument must be of type number');if(I<0)throw new RangeError('The value "'+I+'" is invalid for option "size"')}function r(I){return a(I),n(I<0?0:0|d(I))}function s(I){for(var A=I.length<0?0:0|d(I.length),z=n(A),V=0;V<A;V+=1)z[V]=255&I[V];return z}function d(I){if(I>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|I}function u(I,A){if(e.isBuffer(I))return I.length;if(ArrayBuffer.isView(I)||B(I,ArrayBuffer))return I.byteLength;if(typeof I!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof I);var z=I.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&z===0)return 0;for(var Z=!1;;)switch(A){case"ascii":case"latin1":case"binary":return z;case"utf8":case"utf-8":return q(I).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*z;case"hex":return z>>>1;case"base64":return U(I).length;default:if(Z)return V?-1:q(I).length;A=(""+A).toLowerCase(),Z=!0}}function c(I,A,z){var V=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((z===void 0||z>this.length)&&(z=this.length),z<=0)||(z>>>=0)<=(A>>>=0))return"";for(I||(I="utf8");;)switch(I){case"hex":return C(this,A,z);case"utf8":case"utf-8":return H(this,A,z);case"ascii":return N(this,A,z);case"latin1":case"binary":return _(this,A,z);case"base64":return R(this,A,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,A,z);default:if(V)throw new TypeError("Unknown encoding: "+I);I=(I+"").toLowerCase(),V=!0}}function f(I,A,z){var V=I[A];I[A]=I[z],I[z]=V}function h(I,A,z,V,Z){if(I.length===0)return-1;if(typeof z=="string"?(V=z,z=0):z>2147483647?z=2147483647:z<-2147483648&&(z=-2147483648),W(z=+z)&&(z=Z?0:I.length-1),z<0&&(z=I.length+z),z>=I.length){if(Z)return-1;z=I.length-1}else if(z<0){if(!Z)return-1;z=0}if(typeof A=="string"&&(A=e.from(A,V)),e.isBuffer(A))return A.length===0?-1:w(I,A,z,V,Z);if(typeof A=="number")return A&=255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(I,A,z):Uint8Array.prototype.lastIndexOf.call(I,A,z):w(I,[A],z,V,Z);throw new TypeError("val must be string, number or Buffer")}function w(I,A,z,V,Z){var X,K=1,ie=I.length,ne=A.length;if(V!==void 0&&((V=String(V).toLowerCase())==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(I.length<2||A.length<2)return-1;K=2,ie/=2,ne/=2,z/=2}function G(se,ae){return K===1?se[ae]:se.readUInt16BE(ae*K)}if(Z){var ee=-1;for(X=z;X<ie;X++)if(G(I,X)===G(A,ee===-1?0:X-ee)){if(ee===-1&&(ee=X),X-ee+1===ne)return ee*K}else ee!==-1&&(X-=X-ee),ee=-1}else for(z+ne>ie&&(z=ie-ne),X=z;X>=0;X--){for(var J=!0,te=0;te<ne;te++)if(G(I,X+te)!==G(A,te)){J=!1;break}if(J)return X}return-1}function k(I,A,z,V){z=Number(z)||0;var Z=I.length-z;V?(V=Number(V))>Z&&(V=Z):V=Z;var X=A.length;V>X/2&&(V=X/2);for(var K=0;K<V;++K){var ie=parseInt(A.substr(2*K,2),16);if(W(ie))return K;I[z+K]=ie}return K}function E(I,A,z,V){return Y(q(A,I.length-z),I,z,V)}function j(I,A,z,V){return Y(function(Z){for(var X=[],K=0;K<Z.length;++K)X.push(255&Z.charCodeAt(K));return X}(A),I,z,V)}function $(I,A,z,V){return j(I,A,z,V)}function D(I,A,z,V){return Y(U(A),I,z,V)}function P(I,A,z,V){return Y(function(Z,X){for(var K,ie,ne,G=[],ee=0;ee<Z.length&&!((X-=2)<0);++ee)K=Z.charCodeAt(ee),ie=K>>8,ne=K%256,G.push(ne),G.push(ie);return G}(A,I.length-z),I,z,V)}function R(I,A,z){return A===0&&z===I.length?o.fromByteArray(I):o.fromByteArray(I.slice(A,z))}function H(I,A,z){z=Math.min(I.length,z);for(var V=[],Z=A;Z<z;){var X,K,ie,ne,G=I[Z],ee=null,J=G>239?4:G>223?3:G>191?2:1;if(Z+J<=z)switch(J){case 1:G<128&&(ee=G);break;case 2:(192&(X=I[Z+1]))==128&&(ne=(31&G)<<6|63&X)>127&&(ee=ne);break;case 3:X=I[Z+1],K=I[Z+2],(192&X)==128&&(192&K)==128&&(ne=(15&G)<<12|(63&X)<<6|63&K)>2047&&(ne<55296||ne>57343)&&(ee=ne);break;case 4:X=I[Z+1],K=I[Z+2],ie=I[Z+3],(192&X)==128&&(192&K)==128&&(192&ie)==128&&(ne=(15&G)<<18|(63&X)<<12|(63&K)<<6|63&ie)>65535&&ne<1114112&&(ee=ne)}ee===null?(ee=65533,J=1):ee>65535&&(ee-=65536,V.push(ee>>>10&1023|55296),ee=56320|1023&ee),V.push(ee),Z+=J}return function(te){var se=te.length;if(se<=4096)return String.fromCharCode.apply(String,te);for(var ae="",de=0;de<se;)ae+=String.fromCharCode.apply(String,te.slice(de,de+=4096));return ae}(V)}S.kMaxLength=2147483647,e.TYPED_ARRAY_SUPPORT=function(){try{var I=new Uint8Array(1);return I.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},I.foo()===42}catch{return!1}}(),e.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(I,A,z){return t(I,A,z)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(I,A,z){return function(V,Z,X){return a(V),V<=0?n(V):Z!==void 0?typeof X=="string"?n(V).fill(Z,X):n(V).fill(Z):n(V)}(I,A,z)},e.allocUnsafe=function(I){return r(I)},e.allocUnsafeSlow=function(I){return r(I)},e.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==e.prototype},e.compare=function(I,A){if(B(I,Uint8Array)&&(I=e.from(I,I.offset,I.byteLength)),B(A,Uint8Array)&&(A=e.from(A,A.offset,A.byteLength)),!e.isBuffer(I)||!e.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===A)return 0;for(var z=I.length,V=A.length,Z=0,X=Math.min(z,V);Z<X;++Z)if(I[Z]!==A[Z]){z=I[Z],V=A[Z];break}return z<V?-1:V<z?1:0},e.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(I,A){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return e.alloc(0);var z;if(A===void 0)for(A=0,z=0;z<I.length;++z)A+=I[z].length;var V=e.allocUnsafe(A),Z=0;for(z=0;z<I.length;++z){var X=I[z];if(B(X,Uint8Array)&&(X=e.from(X)),!e.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(V,Z),Z+=X.length}return V},e.byteLength=u,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<I;A+=2)f(this,A,A+1);return this},e.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<I;A+=4)f(this,A,A+3),f(this,A+1,A+2);return this},e.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<I;A+=8)f(this,A,A+7),f(this,A+1,A+6),f(this,A+2,A+5),f(this,A+3,A+4);return this},e.prototype.toString=function(){var I=this.length;return I===0?"":arguments.length===0?H(this,0,I):c.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(I){if(!e.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||e.compare(this,I)===0},e.prototype.inspect=function(){var I="",A=S.INSPECT_MAX_BYTES;return I=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(I+=" ... "),"<Buffer "+I+">"},e.prototype.compare=function(I,A,z,V,Z){if(B(I,Uint8Array)&&(I=e.from(I,I.offset,I.byteLength)),!e.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(A===void 0&&(A=0),z===void 0&&(z=I?I.length:0),V===void 0&&(V=0),Z===void 0&&(Z=this.length),A<0||z>I.length||V<0||Z>this.length)throw new RangeError("out of range index");if(V>=Z&&A>=z)return 0;if(V>=Z)return-1;if(A>=z)return 1;if(this===I)return 0;for(var X=(Z>>>=0)-(V>>>=0),K=(z>>>=0)-(A>>>=0),ie=Math.min(X,K),ne=this.slice(V,Z),G=I.slice(A,z),ee=0;ee<ie;++ee)if(ne[ee]!==G[ee]){X=ne[ee],K=G[ee];break}return X<K?-1:K<X?1:0},e.prototype.includes=function(I,A,z){return this.indexOf(I,A,z)!==-1},e.prototype.indexOf=function(I,A,z){return h(this,I,A,z,!0)},e.prototype.lastIndexOf=function(I,A,z){return h(this,I,A,z,!1)},e.prototype.write=function(I,A,z,V){if(A===void 0)V="utf8",z=this.length,A=0;else if(z===void 0&&typeof A=="string")V=A,z=this.length,A=0;else{if(!isFinite(A))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");A>>>=0,isFinite(z)?(z>>>=0,V===void 0&&(V="utf8")):(V=z,z=void 0)}var Z=this.length-A;if((z===void 0||z>Z)&&(z=Z),I.length>0&&(z<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");for(var X=!1;;)switch(V){case"hex":return k(this,I,A,z);case"utf8":case"utf-8":return E(this,I,A,z);case"ascii":return j(this,I,A,z);case"latin1":case"binary":return $(this,I,A,z);case"base64":return D(this,I,A,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,I,A,z);default:if(X)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),X=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(I,A,z){var V="";z=Math.min(I.length,z);for(var Z=A;Z<z;++Z)V+=String.fromCharCode(127&I[Z]);return V}function _(I,A,z){var V="";z=Math.min(I.length,z);for(var Z=A;Z<z;++Z)V+=String.fromCharCode(I[Z]);return V}function C(I,A,z){var V=I.length;(!A||A<0)&&(A=0),(!z||z<0||z>V)&&(z=V);for(var Z="",X=A;X<z;++X)Z+=F(I[X]);return Z}function v(I,A,z){for(var V=I.slice(A,z),Z="",X=0;X<V.length;X+=2)Z+=String.fromCharCode(V[X]+256*V[X+1]);return Z}function p(I,A,z){if(I%1!=0||I<0)throw new RangeError("offset is not uint");if(I+A>z)throw new RangeError("Trying to access beyond buffer length")}function b(I,A,z,V,Z,X){if(!e.isBuffer(I))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>Z||A<X)throw new RangeError('"value" argument is out of bounds');if(z+V>I.length)throw new RangeError("Index out of range")}function g(I,A,z,V,Z,X){if(z+V>I.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("Index out of range")}function y(I,A,z,V,Z){return A=+A,z>>>=0,Z||g(I,0,z,4),l.write(I,A,z,V,23,4),z+4}function x(I,A,z,V,Z){return A=+A,z>>>=0,Z||g(I,0,z,8),l.write(I,A,z,V,52,8),z+8}e.prototype.slice=function(I,A){var z=this.length;(I=~~I)<0?(I+=z)<0&&(I=0):I>z&&(I=z),(A=A===void 0?z:~~A)<0?(A+=z)<0&&(A=0):A>z&&(A=z),A<I&&(A=I);var V=this.subarray(I,A);return V.__proto__=e.prototype,V},e.prototype.readUIntLE=function(I,A,z){I>>>=0,A>>>=0,z||p(I,A,this.length);for(var V=this[I],Z=1,X=0;++X<A&&(Z*=256);)V+=this[I+X]*Z;return V},e.prototype.readUIntBE=function(I,A,z){I>>>=0,A>>>=0,z||p(I,A,this.length);for(var V=this[I+--A],Z=1;A>0&&(Z*=256);)V+=this[I+--A]*Z;return V},e.prototype.readUInt8=function(I,A){return I>>>=0,A||p(I,1,this.length),this[I]},e.prototype.readUInt16LE=function(I,A){return I>>>=0,A||p(I,2,this.length),this[I]|this[I+1]<<8},e.prototype.readUInt16BE=function(I,A){return I>>>=0,A||p(I,2,this.length),this[I]<<8|this[I+1]},e.prototype.readUInt32LE=function(I,A){return I>>>=0,A||p(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},e.prototype.readUInt32BE=function(I,A){return I>>>=0,A||p(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},e.prototype.readIntLE=function(I,A,z){I>>>=0,A>>>=0,z||p(I,A,this.length);for(var V=this[I],Z=1,X=0;++X<A&&(Z*=256);)V+=this[I+X]*Z;return V>=(Z*=128)&&(V-=Math.pow(2,8*A)),V},e.prototype.readIntBE=function(I,A,z){I>>>=0,A>>>=0,z||p(I,A,this.length);for(var V=A,Z=1,X=this[I+--V];V>0&&(Z*=256);)X+=this[I+--V]*Z;return X>=(Z*=128)&&(X-=Math.pow(2,8*A)),X},e.prototype.readInt8=function(I,A){return I>>>=0,A||p(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},e.prototype.readInt16LE=function(I,A){I>>>=0,A||p(I,2,this.length);var z=this[I]|this[I+1]<<8;return 32768&z?4294901760|z:z},e.prototype.readInt16BE=function(I,A){I>>>=0,A||p(I,2,this.length);var z=this[I+1]|this[I]<<8;return 32768&z?4294901760|z:z},e.prototype.readInt32LE=function(I,A){return I>>>=0,A||p(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},e.prototype.readInt32BE=function(I,A){return I>>>=0,A||p(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},e.prototype.readFloatLE=function(I,A){return I>>>=0,A||p(I,4,this.length),l.read(this,I,!0,23,4)},e.prototype.readFloatBE=function(I,A){return I>>>=0,A||p(I,4,this.length),l.read(this,I,!1,23,4)},e.prototype.readDoubleLE=function(I,A){return I>>>=0,A||p(I,8,this.length),l.read(this,I,!0,52,8)},e.prototype.readDoubleBE=function(I,A){return I>>>=0,A||p(I,8,this.length),l.read(this,I,!1,52,8)},e.prototype.writeUIntLE=function(I,A,z,V){I=+I,A>>>=0,z>>>=0,V||b(this,I,A,z,Math.pow(2,8*z)-1,0);var Z=1,X=0;for(this[A]=255&I;++X<z&&(Z*=256);)this[A+X]=I/Z&255;return A+z},e.prototype.writeUIntBE=function(I,A,z,V){I=+I,A>>>=0,z>>>=0,V||b(this,I,A,z,Math.pow(2,8*z)-1,0);var Z=z-1,X=1;for(this[A+Z]=255&I;--Z>=0&&(X*=256);)this[A+Z]=I/X&255;return A+z},e.prototype.writeUInt8=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,1,255,0),this[A]=255&I,A+1},e.prototype.writeUInt16LE=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,2,65535,0),this[A]=255&I,this[A+1]=I>>>8,A+2},e.prototype.writeUInt16BE=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,2,65535,0),this[A]=I>>>8,this[A+1]=255&I,A+2},e.prototype.writeUInt32LE=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,4,4294967295,0),this[A+3]=I>>>24,this[A+2]=I>>>16,this[A+1]=I>>>8,this[A]=255&I,A+4},e.prototype.writeUInt32BE=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,4,4294967295,0),this[A]=I>>>24,this[A+1]=I>>>16,this[A+2]=I>>>8,this[A+3]=255&I,A+4},e.prototype.writeIntLE=function(I,A,z,V){if(I=+I,A>>>=0,!V){var Z=Math.pow(2,8*z-1);b(this,I,A,z,Z-1,-Z)}var X=0,K=1,ie=0;for(this[A]=255&I;++X<z&&(K*=256);)I<0&&ie===0&&this[A+X-1]!==0&&(ie=1),this[A+X]=(I/K>>0)-ie&255;return A+z},e.prototype.writeIntBE=function(I,A,z,V){if(I=+I,A>>>=0,!V){var Z=Math.pow(2,8*z-1);b(this,I,A,z,Z-1,-Z)}var X=z-1,K=1,ie=0;for(this[A+X]=255&I;--X>=0&&(K*=256);)I<0&&ie===0&&this[A+X+1]!==0&&(ie=1),this[A+X]=(I/K>>0)-ie&255;return A+z},e.prototype.writeInt8=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,1,127,-128),I<0&&(I=255+I+1),this[A]=255&I,A+1},e.prototype.writeInt16LE=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,2,32767,-32768),this[A]=255&I,this[A+1]=I>>>8,A+2},e.prototype.writeInt16BE=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,2,32767,-32768),this[A]=I>>>8,this[A+1]=255&I,A+2},e.prototype.writeInt32LE=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,4,2147483647,-2147483648),this[A]=255&I,this[A+1]=I>>>8,this[A+2]=I>>>16,this[A+3]=I>>>24,A+4},e.prototype.writeInt32BE=function(I,A,z){return I=+I,A>>>=0,z||b(this,I,A,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[A]=I>>>24,this[A+1]=I>>>16,this[A+2]=I>>>8,this[A+3]=255&I,A+4},e.prototype.writeFloatLE=function(I,A,z){return y(this,I,A,!0,z)},e.prototype.writeFloatBE=function(I,A,z){return y(this,I,A,!1,z)},e.prototype.writeDoubleLE=function(I,A,z){return x(this,I,A,!0,z)},e.prototype.writeDoubleBE=function(I,A,z){return x(this,I,A,!1,z)},e.prototype.copy=function(I,A,z,V){if(!e.isBuffer(I))throw new TypeError("argument should be a Buffer");if(z||(z=0),V||V===0||(V=this.length),A>=I.length&&(A=I.length),A||(A=0),V>0&&V<z&&(V=z),V===z||I.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),I.length-A<V-z&&(V=I.length-A+z);var Z=V-z;if(this===I&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(A,z,V);else if(this===I&&z<A&&A<V)for(var X=Z-1;X>=0;--X)I[X+A]=this[X+z];else Uint8Array.prototype.set.call(I,this.subarray(z,V),A);return Z},e.prototype.fill=function(I,A,z,V){if(typeof I=="string"){if(typeof A=="string"?(V=A,A=0,z=this.length):typeof z=="string"&&(V=z,z=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!e.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(I.length===1){var Z=I.charCodeAt(0);(V==="utf8"&&Z<128||V==="latin1")&&(I=Z)}}else typeof I=="number"&&(I&=255);if(A<0||this.length<A||this.length<z)throw new RangeError("Out of range index");if(z<=A)return this;var X;if(A>>>=0,z=z===void 0?this.length:z>>>0,I||(I=0),typeof I=="number")for(X=A;X<z;++X)this[X]=I;else{var K=e.isBuffer(I)?I:e.from(I,V),ie=K.length;if(ie===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(X=0;X<z-A;++X)this[X+A]=K[X%ie]}return this};var M=/[^+/0-9A-Za-z-_]/g;function F(I){return I<16?"0"+I.toString(16):I.toString(16)}function q(I,A){var z;A=A||1/0;for(var V=I.length,Z=null,X=[],K=0;K<V;++K){if((z=I.charCodeAt(K))>55295&&z<57344){if(!Z){if(z>56319){(A-=3)>-1&&X.push(239,191,189);continue}if(K+1===V){(A-=3)>-1&&X.push(239,191,189);continue}Z=z;continue}if(z<56320){(A-=3)>-1&&X.push(239,191,189),Z=z;continue}z=65536+(Z-55296<<10|z-56320)}else Z&&(A-=3)>-1&&X.push(239,191,189);if(Z=null,z<128){if((A-=1)<0)break;X.push(z)}else if(z<2048){if((A-=2)<0)break;X.push(z>>6|192,63&z|128)}else if(z<65536){if((A-=3)<0)break;X.push(z>>12|224,z>>6&63|128,63&z|128)}else{if(!(z<1114112))throw new Error("Invalid code point");if((A-=4)<0)break;X.push(z>>18|240,z>>12&63|128,z>>6&63|128,63&z|128)}}return X}function U(I){return o.toByteArray(function(A){if((A=(A=A.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;A.length%4!=0;)A+="=";return A}(I))}function Y(I,A,z,V){for(var Z=0;Z<V&&!(Z+z>=A.length||Z>=I.length);++Z)A[Z+z]=I[Z];return Z}function B(I,A){return I instanceof A||I!=null&&I.constructor!=null&&I.constructor.name!=null&&I.constructor.name===A.name}function W(I){return I!=I}}).call(this)}).call(this,i("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(i,T,S){var m=i("safe-buffer").Buffer,o=i("stream").Transform,l=i("string_decoder").StringDecoder;function n(e){o.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}i("inherits")(n,o),n.prototype.update=function(e,t,a){typeof e=="string"&&(e=m.from(e,t));var r=this._update(e);return this.hashMode?this:(a&&(r=this._toString(r,a)),r)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(e,t,a){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(s){r=s}finally{a(r)}},n.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(a){t=a}e(t)},n.prototype._finalOrDigest=function(e){var t=this.__final()||m.alloc(0);return e&&(t=this._toString(t,e,!0)),t},n.prototype._toString=function(e,t,a){if(this._decoder||(this._decoder=new l(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return a&&(r+=this._decoder.end()),r},T.exports=n},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(i,T,S){var m=i("../internals/is-callable"),o=i("../internals/try-to-string"),l=TypeError;T.exports=function(n){if(m(n))return n;throw new l(o(n)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(i,T,S){var m=i("../internals/is-constructor"),o=i("../internals/try-to-string"),l=TypeError;T.exports=function(n){if(m(n))return n;throw new l(o(n)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(i,T,S){var m=i("../internals/is-callable"),o=String,l=TypeError;T.exports=function(n){if(typeof n=="object"||m(n))return n;throw new l("Can't set "+o(n)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(i,T,S){var m=i("../internals/well-known-symbol"),o=i("../internals/object-create"),l=i("../internals/object-define-property").f,n=m("unscopables"),e=Array.prototype;e[n]===void 0&&l(e,n,{configurable:!0,value:o(null)}),T.exports=function(t){e[n][t]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(i,T,S){var m=i("../internals/object-is-prototype-of"),o=TypeError;T.exports=function(l,n){if(m(n,l))return l;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(i,T,S){var m=i("../internals/is-object"),o=String,l=TypeError;T.exports=function(n){if(m(n))return n;throw new l(o(n)+" is not an object")}},{"../internals/is-object":289}],228:[function(i,T,S){var m=i("../internals/to-indexed-object"),o=i("../internals/to-absolute-index"),l=i("../internals/length-of-array-like"),n=function(e){return function(t,a,r){var s,d=m(t),u=l(d),c=o(r,u);if(e&&a!=a){for(;u>c;)if((s=d[c++])!=s)return!0}else for(;u>c;c++)if((e||c in d)&&d[c]===a)return e||c||0;return!e&&-1}};T.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(i,T,S){var m=i("../internals/function-bind-context"),o=i("../internals/function-uncurry-this"),l=i("../internals/indexed-object"),n=i("../internals/to-object"),e=i("../internals/length-of-array-like"),t=i("../internals/array-species-create"),a=o([].push),r=function(s){var d=s===1,u=s===2,c=s===3,f=s===4,h=s===6,w=s===7,k=s===5||h;return function(E,j,$,D){for(var P,R,H=n(E),N=l(H),_=m(j,$),C=e(N),v=0,p=D||t,b=d?p(E,C):u||w?p(E,0):void 0;C>v;v++)if((k||v in N)&&(R=_(P=N[v],v,H),s))if(d)b[v]=R;else if(R)switch(s){case 3:return!0;case 5:return P;case 6:return v;case 2:a(b,P)}else switch(s){case 4:return!1;case 7:a(b,P)}return h?-1:c||f?f:b}};T.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6),filterReject:r(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(i,T,S){var m=i("../internals/to-absolute-index"),o=i("../internals/length-of-array-like"),l=i("../internals/create-property"),n=Array,e=Math.max;T.exports=function(t,a,r){for(var s=o(t),d=m(a,s),u=m(r===void 0?s:r,s),c=n(e(u-d,0)),f=0;d<u;d++,f++)l(c,f,t[d]);return c.length=f,c}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(i,T,S){var m=i("../internals/function-uncurry-this");T.exports=m([].slice)},{"../internals/function-uncurry-this":268}],232:[function(i,T,S){var m=i("../internals/is-array"),o=i("../internals/is-constructor"),l=i("../internals/is-object"),n=i("../internals/well-known-symbol")("species"),e=Array;T.exports=function(t){var a;return m(t)&&(a=t.constructor,(o(a)&&(a===e||m(a.prototype))||l(a)&&(a=a[n])===null)&&(a=void 0)),a===void 0?e:a}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(i,T,S){var m=i("../internals/array-species-constructor");T.exports=function(o,l){return new(m(o))(l===0?0:l)}},{"../internals/array-species-constructor":232}],234:[function(i,T,S){var m=i("../internals/well-known-symbol")("iterator"),o=!1;try{var l=0,n={next:function(){return{done:!!l++}},return:function(){o=!0}};n[m]=function(){return this},Array.from(n,function(){throw 2})}catch{}T.exports=function(e,t){try{if(!t&&!o)return!1}catch{return!1}var a=!1;try{var r={};r[m]=function(){return{next:function(){return{done:a=!0}}}},e(r)}catch{}return a}},{"../internals/well-known-symbol":357}],235:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=m({}.toString),l=m("".slice);T.exports=function(n){return l(o(n),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(i,T,S){var m=i("../internals/to-string-tag-support"),o=i("../internals/is-callable"),l=i("../internals/classof-raw"),n=i("../internals/well-known-symbol")("toStringTag"),e=Object,t=l(function(){return arguments}())==="Arguments";T.exports=m?l:function(a){var r,s,d;return a===void 0?"Undefined":a===null?"Null":typeof(s=function(u,c){try{return u[c]}catch{}}(r=e(a),n))=="string"?s:t?l(r):(d=l(r))==="Object"&&o(r.callee)?"Arguments":d}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(i,T,S){var m=i("../internals/has-own-property"),o=i("../internals/own-keys"),l=i("../internals/object-get-own-property-descriptor"),n=i("../internals/object-define-property");T.exports=function(e,t,a){for(var r=o(t),s=n.f,d=l.f,u=0;u<r.length;u++){var c=r[u];m(e,c)||a&&m(a,c)||s(e,c,d(t,c))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(i,T,S){var m=i("../internals/well-known-symbol")("match");T.exports=function(o){var l=/./;try{"/./"[o](l)}catch{try{return l[m]=!1,"/./"[o](l)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(i,T,S){var m=i("../internals/fails");T.exports=!m(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(i,T,S){T.exports=function(m,o){return{value:m,done:o}}},{}],241:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/object-define-property"),l=i("../internals/create-property-descriptor");T.exports=m?function(n,e,t){return o.f(n,e,l(1,t))}:function(n,e,t){return n[e]=t,n}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(i,T,S){T.exports=function(m,o){return{enumerable:!(1&m),configurable:!(2&m),writable:!(4&m),value:o}}},{}],243:[function(i,T,S){var m=i("../internals/to-property-key"),o=i("../internals/object-define-property"),l=i("../internals/create-property-descriptor");T.exports=function(n,e,t){var a=m(e);a in n?o.f(n,a,l(0,t)):n[a]=t}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(i,T,S){var m=i("../internals/make-built-in"),o=i("../internals/object-define-property");T.exports=function(l,n,e){return e.get&&m(e.get,n,{getter:!0}),e.set&&m(e.set,n,{setter:!0}),o.f(l,n,e)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(i,T,S){var m=i("../internals/is-callable"),o=i("../internals/object-define-property"),l=i("../internals/make-built-in"),n=i("../internals/define-global-property");T.exports=function(e,t,a,r){r||(r={});var s=r.enumerable,d=r.name!==void 0?r.name:t;if(m(a)&&l(a,d,r),r.global)s?e[t]=a:n(t,a);else{try{r.unsafe?e[t]&&(s=!0):delete e[t]}catch{}s?e[t]=a:o.f(e,t,{value:a,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(i,T,S){var m=i("../internals/global"),o=Object.defineProperty;T.exports=function(l,n){try{o(m,l,{value:n,configurable:!0,writable:!0})}catch{m[l]=n}return n}},{"../internals/global":274}],247:[function(i,T,S){var m=i("../internals/fails");T.exports=!m(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(i,T,S){var m=typeof document=="object"&&document.all,o=m===void 0&&m!==void 0;T.exports={all:m,IS_HTMLDDA:o}},{}],249:[function(i,T,S){var m=i("../internals/global"),o=i("../internals/is-object"),l=m.document,n=o(l)&&o(l.createElement);T.exports=function(e){return n?l.createElement(e):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(i,T,S){var m=i("../internals/engine-is-deno"),o=i("../internals/engine-is-node");T.exports=!m&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(i,T,S){T.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(i,T,S){var m=i("../internals/engine-user-agent");T.exports=/ipad|iphone|ipod/i.test(m)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(i,T,S){var m=i("../internals/engine-user-agent");T.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(m)},{"../internals/engine-user-agent":256}],254:[function(i,T,S){var m=i("../internals/global"),o=i("../internals/classof-raw");T.exports=o(m.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(i,T,S){var m=i("../internals/engine-user-agent");T.exports=/web0s(?!.*chrome)/i.test(m)},{"../internals/engine-user-agent":256}],256:[function(i,T,S){T.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(i,T,S){var m,o,l=i("../internals/global"),n=i("../internals/engine-user-agent"),e=l.process,t=l.Deno,a=e&&e.versions||t&&t.version,r=a&&a.v8;r&&(o=(m=r.split("."))[0]>0&&m[0]<4?1:+(m[0]+m[1])),!o&&n&&(!(m=n.match(/Edge\/(\d+)/))||m[1]>=74)&&(m=n.match(/Chrome\/(\d+)/))&&(o=+m[1]),T.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(i,T,S){T.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(i,T,S){var m=i("../internals/global"),o=i("../internals/object-get-own-property-descriptor").f,l=i("../internals/create-non-enumerable-property"),n=i("../internals/define-built-in"),e=i("../internals/define-global-property"),t=i("../internals/copy-constructor-properties"),a=i("../internals/is-forced");T.exports=function(r,s){var d,u,c,f,h,w=r.target,k=r.global,E=r.stat;if(d=k?m:E?m[w]||e(w,{}):(m[w]||{}).prototype)for(u in s){if(f=s[u],c=r.dontCallGetSet?(h=o(d,u))&&h.value:d[u],!a(k?u:w+(E?".":"#")+u,r.forced)&&c!==void 0){if(typeof f==typeof c)continue;t(f,c)}(r.sham||c&&c.sham)&&l(f,"sham",!0),n(d,u,f,r)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(i,T,S){T.exports=function(m){try{return!!m()}catch{return!0}}},{}],261:[function(i,T,S){var m=i("../internals/function-bind-native"),o=Function.prototype,l=o.apply,n=o.call;T.exports=typeof Reflect=="object"&&Reflect.apply||(m?n.bind(l):function(){return n.apply(l,arguments)})},{"../internals/function-bind-native":263}],262:[function(i,T,S){var m=i("../internals/function-uncurry-this-clause"),o=i("../internals/a-callable"),l=i("../internals/function-bind-native"),n=m(m.bind);T.exports=function(e,t){return o(e),t===void 0?e:l?n(e,t):function(){return e.apply(t,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(i,T,S){var m=i("../internals/fails");T.exports=!m(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(i,T,S){var m=i("../internals/function-bind-native"),o=Function.prototype.call;T.exports=m?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/has-own-property"),l=Function.prototype,n=m&&Object.getOwnPropertyDescriptor,e=o(l,"name"),t=e&&(function(){}).name==="something",a=e&&(!m||m&&n(l,"name").configurable);T.exports={EXISTS:e,PROPER:t,CONFIGURABLE:a}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=i("../internals/a-callable");T.exports=function(l,n,e){try{return m(o(Object.getOwnPropertyDescriptor(l,n)[e]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(i,T,S){var m=i("../internals/classof-raw"),o=i("../internals/function-uncurry-this");T.exports=function(l){if(m(l)==="Function")return o(l)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(i,T,S){var m=i("../internals/function-bind-native"),o=Function.prototype,l=o.call,n=m&&o.bind.bind(l,l);T.exports=m?n:function(e){return function(){return l.apply(e,arguments)}}},{"../internals/function-bind-native":263}],269:[function(i,T,S){var m=i("../internals/global"),o=i("../internals/is-callable"),l=function(n){return o(n)?n:void 0};T.exports=function(n,e){return arguments.length<2?l(m[n]):m[n]&&m[n][e]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(i,T,S){var m=i("../internals/classof"),o=i("../internals/get-method"),l=i("../internals/is-null-or-undefined"),n=i("../internals/iterators"),e=i("../internals/well-known-symbol")("iterator");T.exports=function(t){if(!l(t))return o(t,e)||o(t,"@@iterator")||n[m(t)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(i,T,S){var m=i("../internals/function-call"),o=i("../internals/a-callable"),l=i("../internals/an-object"),n=i("../internals/try-to-string"),e=i("../internals/get-iterator-method"),t=TypeError;T.exports=function(a,r){var s=arguments.length<2?e(a):r;if(o(s))return l(m(s,a));throw new t(n(a)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=i("../internals/is-array"),l=i("../internals/is-callable"),n=i("../internals/classof-raw"),e=i("../internals/to-string"),t=m([].push);T.exports=function(a){if(l(a))return a;if(o(a)){for(var r=a.length,s=[],d=0;d<r;d++){var u=a[d];typeof u=="string"?t(s,u):typeof u!="number"&&n(u)!=="Number"&&n(u)!=="String"||t(s,e(u))}var c=s.length,f=!0;return function(h,w){if(f)return f=!1,w;if(o(this))return w;for(var k=0;k<c;k++)if(s[k]===h)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(i,T,S){var m=i("../internals/a-callable"),o=i("../internals/is-null-or-undefined");T.exports=function(l,n){var e=l[n];return o(e)?void 0:m(e)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(i,T,S){(function(m){(function(){var o=function(l){return l&&l.Math===Math&&l};T.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof m=="object"&&m)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=i("../internals/to-object"),l=m({}.hasOwnProperty);T.exports=Object.hasOwn||function(n,e){return l(o(n),e)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(i,T,S){T.exports={}},{}],277:[function(i,T,S){T.exports=function(m,o){try{arguments.length===1?console.error(m):console.error(m,o)}catch{}}},{}],278:[function(i,T,S){var m=i("../internals/get-built-in");T.exports=m("document","documentElement")},{"../internals/get-built-in":269}],279:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/fails"),l=i("../internals/document-create-element");T.exports=!m&&!o(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=i("../internals/fails"),l=i("../internals/classof-raw"),n=Object,e=m("".split);T.exports=o(function(){return!n("z").propertyIsEnumerable(0)})?function(t){return l(t)==="String"?e(t,""):n(t)}:n},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=i("../internals/is-callable"),l=i("../internals/shared-store"),n=m(Function.toString);o(l.inspectSource)||(l.inspectSource=function(e){return n(e)}),T.exports=l.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(i,T,S){var m,o,l,n=i("../internals/weak-map-basic-detection"),e=i("../internals/global"),t=i("../internals/is-object"),a=i("../internals/create-non-enumerable-property"),r=i("../internals/has-own-property"),s=i("../internals/shared-store"),d=i("../internals/shared-key"),u=i("../internals/hidden-keys"),c=e.TypeError,f=e.WeakMap;if(n||s.state){var h=s.state||(s.state=new f);h.get=h.get,h.has=h.has,h.set=h.set,m=function(k,E){if(h.has(k))throw new c("Object already initialized");return E.facade=k,h.set(k,E),E},o=function(k){return h.get(k)||{}},l=function(k){return h.has(k)}}else{var w=d("state");u[w]=!0,m=function(k,E){if(r(k,w))throw new c("Object already initialized");return E.facade=k,a(k,w,E),E},o=function(k){return r(k,w)?k[w]:{}},l=function(k){return r(k,w)}}T.exports={set:m,get:o,has:l,enforce:function(k){return l(k)?o(k):m(k,{})},getterFor:function(k){return function(E){var j;if(!t(E)||(j=o(E)).type!==k)throw new c("Incompatible receiver, "+k+" required");return j}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(i,T,S){var m=i("../internals/well-known-symbol"),o=i("../internals/iterators"),l=m("iterator"),n=Array.prototype;T.exports=function(e){return e!==void 0&&(o.Array===e||n[l]===e)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(i,T,S){var m=i("../internals/classof-raw");T.exports=Array.isArray||function(o){return m(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(i,T,S){var m=i("../internals/document-all"),o=m.all;T.exports=m.IS_HTMLDDA?function(l){return typeof l=="function"||l===o}:function(l){return typeof l=="function"}},{"../internals/document-all":248}],286:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=i("../internals/fails"),l=i("../internals/is-callable"),n=i("../internals/classof"),e=i("../internals/get-built-in"),t=i("../internals/inspect-source"),a=function(){},r=[],s=e("Reflect","construct"),d=/^\s*(?:class|function)\b/,u=m(d.exec),c=!d.test(a),f=function(w){if(!l(w))return!1;try{return s(a,r,w),!0}catch{return!1}},h=function(w){if(!l(w))return!1;switch(n(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(d,t(w))}catch{return!0}};h.sham=!0,T.exports=!s||o(function(){var w;return f(f.call)||!f(Object)||!f(function(){w=!0})||w})?h:f},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(i,T,S){var m=i("../internals/fails"),o=i("../internals/is-callable"),l=/#|\.prototype\./,n=function(s,d){var u=t[e(s)];return u===r||u!==a&&(o(d)?m(d):!!d)},e=n.normalize=function(s){return String(s).replace(l,".").toLowerCase()},t=n.data={},a=n.NATIVE="N",r=n.POLYFILL="P";T.exports=n},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(i,T,S){T.exports=function(m){return m==null}},{}],289:[function(i,T,S){var m=i("../internals/is-callable"),o=i("../internals/document-all"),l=o.all;T.exports=o.IS_HTMLDDA?function(n){return typeof n=="object"?n!==null:m(n)||n===l}:function(n){return typeof n=="object"?n!==null:m(n)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(i,T,S){T.exports=!1},{}],291:[function(i,T,S){var m=i("../internals/is-object"),o=i("../internals/classof-raw"),l=i("../internals/well-known-symbol")("match");T.exports=function(n){var e;return m(n)&&((e=n[l])!==void 0?!!e:o(n)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(i,T,S){var m=i("../internals/get-built-in"),o=i("../internals/is-callable"),l=i("../internals/object-is-prototype-of"),n=i("../internals/use-symbol-as-uid"),e=Object;T.exports=n?function(t){return typeof t=="symbol"}:function(t){var a=m("Symbol");return o(a)&&l(a.prototype,e(t))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(i,T,S){var m=i("../internals/function-bind-context"),o=i("../internals/function-call"),l=i("../internals/an-object"),n=i("../internals/try-to-string"),e=i("../internals/is-array-iterator-method"),t=i("../internals/length-of-array-like"),a=i("../internals/object-is-prototype-of"),r=i("../internals/get-iterator"),s=i("../internals/get-iterator-method"),d=i("../internals/iterator-close"),u=TypeError,c=function(h,w){this.stopped=h,this.result=w},f=c.prototype;T.exports=function(h,w,k){var E,j,$,D,P,R,H,N=k&&k.that,_=!(!k||!k.AS_ENTRIES),C=!(!k||!k.IS_RECORD),v=!(!k||!k.IS_ITERATOR),p=!(!k||!k.INTERRUPTED),b=m(w,N),g=function(x){return E&&d(E,"normal",x),new c(!0,x)},y=function(x){return _?(l(x),p?b(x[0],x[1],g):b(x[0],x[1])):p?b(x,g):b(x)};if(C)E=h.iterator;else if(v)E=h;else{if(!(j=s(h)))throw new u(n(h)+" is not iterable");if(e(j)){for($=0,D=t(h);D>$;$++)if((P=y(h[$]))&&a(f,P))return P;return new c(!1)}E=r(h,j)}for(R=C?h.next:E.next;!(H=o(R,E)).done;){try{P=y(H.value)}catch(x){d(E,"throw",x)}if(typeof P=="object"&&P&&a(f,P))return P}return new c(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(i,T,S){var m=i("../internals/function-call"),o=i("../internals/an-object"),l=i("../internals/get-method");T.exports=function(n,e,t){var a,r;o(n);try{if(!(a=l(n,"return"))){if(e==="throw")throw t;return t}a=m(a,n)}catch(s){r=!0,a=s}if(e==="throw")throw t;if(r)throw a;return o(a),t}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(i,T,S){var m=i("../internals/iterators-core").IteratorPrototype,o=i("../internals/object-create"),l=i("../internals/create-property-descriptor"),n=i("../internals/set-to-string-tag"),e=i("../internals/iterators"),t=function(){return this};T.exports=function(a,r,s,d){var u=r+" Iterator";return a.prototype=o(m,{next:l(+!d,s)}),n(a,u,!1,!0),e[u]=t,a}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/function-call"),l=i("../internals/is-pure"),n=i("../internals/function-name"),e=i("../internals/is-callable"),t=i("../internals/iterator-create-constructor"),a=i("../internals/object-get-prototype-of"),r=i("../internals/object-set-prototype-of"),s=i("../internals/set-to-string-tag"),d=i("../internals/create-non-enumerable-property"),u=i("../internals/define-built-in"),c=i("../internals/well-known-symbol"),f=i("../internals/iterators"),h=i("../internals/iterators-core"),w=n.PROPER,k=n.CONFIGURABLE,E=h.IteratorPrototype,j=h.BUGGY_SAFARI_ITERATORS,$=c("iterator"),D=function(){return this};T.exports=function(P,R,H,N,_,C,v){t(H,R,N);var p,b,g,y=function(B){if(B===_&&U)return U;if(!j&&B&&B in F)return F[B];switch(B){case"keys":case"values":case"entries":return function(){return new H(this,B)}}return function(){return new H(this)}},x=R+" Iterator",M=!1,F=P.prototype,q=F[$]||F["@@iterator"]||_&&F[_],U=!j&&q||y(_),Y=R==="Array"&&F.entries||q;if(Y&&(p=a(Y.call(new P)))!==Object.prototype&&p.next&&(l||a(p)===E||(r?r(p,E):e(p[$])||u(p,$,D)),s(p,x,!0,!0),l&&(f[x]=D)),w&&_==="values"&&q&&q.name!=="values"&&(!l&&k?d(F,"name","values"):(M=!0,U=function(){return o(q,this)})),_)if(b={values:y("values"),keys:C?U:y("keys"),entries:y("entries")},v)for(g in b)(j||M||!(g in F))&&u(F,g,b[g]);else m({target:R,proto:!0,forced:j||M},b);return l&&!v||F[$]===U||u(F,$,U,{name:_}),f[R]=U,b}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(i,T,S){var m,o,l,n=i("../internals/fails"),e=i("../internals/is-callable"),t=i("../internals/is-object"),a=i("../internals/object-create"),r=i("../internals/object-get-prototype-of"),s=i("../internals/define-built-in"),d=i("../internals/well-known-symbol"),u=i("../internals/is-pure"),c=d("iterator"),f=!1;[].keys&&("next"in(l=[].keys())?(o=r(r(l)))!==Object.prototype&&(m=o):f=!0),!t(m)||n(function(){var h={};return m[c].call(h)!==h})?m={}:u&&(m=a(m)),e(m[c])||s(m,c,function(){return this}),T.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:f}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(i,T,S){arguments[4][276][0].apply(S,arguments)},{dup:276}],299:[function(i,T,S){var m=i("../internals/to-length");T.exports=function(o){return m(o.length)}},{"../internals/to-length":343}],300:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=i("../internals/fails"),l=i("../internals/is-callable"),n=i("../internals/has-own-property"),e=i("../internals/descriptors"),t=i("../internals/function-name").CONFIGURABLE,a=i("../internals/inspect-source"),r=i("../internals/internal-state"),s=r.enforce,d=r.get,u=String,c=Object.defineProperty,f=m("".slice),h=m("".replace),w=m([].join),k=e&&!o(function(){return c(function(){},"length",{value:8}).length!==8}),E=String(String).split("String"),j=T.exports=function($,D,P){f(u(D),0,7)==="Symbol("&&(D="["+h(u(D),/^Symbol\(([^)]*)\)/,"$1")+"]"),P&&P.getter&&(D="get "+D),P&&P.setter&&(D="set "+D),(!n($,"name")||t&&$.name!==D)&&(e?c($,"name",{value:D,configurable:!0}):$.name=D),k&&P&&n(P,"arity")&&$.length!==P.arity&&c($,"length",{value:P.arity});try{P&&n(P,"constructor")&&P.constructor?e&&c($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch{}var R=s($);return n(R,"source")||(R.source=w(E,typeof D=="string"?D:"")),$};Function.prototype.toString=j(function(){return l(this)&&d(this).source||a(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(i,T,S){var m=Math.ceil,o=Math.floor;T.exports=Math.trunc||function(l){var n=+l;return(n>0?o:m)(n)}},{}],302:[function(i,T,S){var m,o,l,n,e,t=i("../internals/global"),a=i("../internals/function-bind-context"),r=i("../internals/object-get-own-property-descriptor").f,s=i("../internals/task").set,d=i("../internals/queue"),u=i("../internals/engine-is-ios"),c=i("../internals/engine-is-ios-pebble"),f=i("../internals/engine-is-webos-webkit"),h=i("../internals/engine-is-node"),w=t.MutationObserver||t.WebKitMutationObserver,k=t.document,E=t.process,j=t.Promise,$=r(t,"queueMicrotask"),D=$&&$.value;if(!D){var P=new d,R=function(){var H,N;for(h&&(H=E.domain)&&H.exit();N=P.get();)try{N()}catch(_){throw P.head&&m(),_}H&&H.enter()};u||h||f||!w||!k?!c&&j&&j.resolve?((n=j.resolve(void 0)).constructor=j,e=a(n.then,n),m=function(){e(R)}):h?m=function(){E.nextTick(R)}:(s=a(s,t),m=function(){s(R)}):(o=!0,l=k.createTextNode(""),new w(R).observe(l,{characterData:!0}),m=function(){l.data=o=!o}),D=function(H){P.head||m(),P.add(H)}}T.exports=D},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(i,T,S){var m=i("../internals/a-callable"),o=TypeError,l=function(n){var e,t;this.promise=new n(function(a,r){if(e!==void 0||t!==void 0)throw new o("Bad Promise constructor");e=a,t=r}),this.resolve=m(e),this.reject=m(t)};T.exports.f=function(n){return new l(n)}},{"../internals/a-callable":222}],304:[function(i,T,S){var m=i("../internals/is-regexp"),o=TypeError;T.exports=function(l){if(m(l))throw new o("The method doesn't accept regular expressions");return l}},{"../internals/is-regexp":291}],305:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/function-uncurry-this"),l=i("../internals/function-call"),n=i("../internals/fails"),e=i("../internals/object-keys"),t=i("../internals/object-get-own-property-symbols"),a=i("../internals/object-property-is-enumerable"),r=i("../internals/to-object"),s=i("../internals/indexed-object"),d=Object.assign,u=Object.defineProperty,c=o([].concat);T.exports=!d||n(function(){if(m&&d({b:1},d(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},h={},w=Symbol("assign detection");return f[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(k){h[k]=k}),d({},f)[w]!==7||e(d({},h)).join("")!=="abcdefghijklmnopqrst"})?function(f,h){for(var w=r(f),k=arguments.length,E=1,j=t.f,$=a.f;k>E;)for(var D,P=s(arguments[E++]),R=j?c(e(P),j(P)):e(P),H=R.length,N=0;H>N;)D=R[N++],m&&!l($,P,D)||(w[D]=P[D]);return w}:d},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(i,T,S){var m,o=i("../internals/an-object"),l=i("../internals/object-define-properties"),n=i("../internals/enum-bug-keys"),e=i("../internals/hidden-keys"),t=i("../internals/html"),a=i("../internals/document-create-element"),r=i("../internals/shared-key"),s=r("IE_PROTO"),d=function(){},u=function(h){return"<script>"+h+"<\/script>"},c=function(h){h.write(u("")),h.close();var w=h.parentWindow.Object;return h=null,w},f=function(){try{m=new ActiveXObject("htmlfile")}catch{}var h,w;f=typeof document<"u"?document.domain&&m?c(m):((w=a("iframe")).style.display="none",t.appendChild(w),w.src="javascript:",(h=w.contentWindow.document).open(),h.write(u("document.F=Object")),h.close(),h.F):c(m);for(var k=n.length;k--;)delete f.prototype[n[k]];return f()};e[s]=!0,T.exports=Object.create||function(h,w){var k;return h!==null?(d.prototype=o(h),k=new d,d.prototype=null,k[s]=h):k=f(),w===void 0?k:l.f(k,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/v8-prototype-define-bug"),l=i("../internals/object-define-property"),n=i("../internals/an-object"),e=i("../internals/to-indexed-object"),t=i("../internals/object-keys");S.f=m&&!o?Object.defineProperties:function(a,r){n(a);for(var s,d=e(r),u=t(r),c=u.length,f=0;c>f;)l.f(a,s=u[f++],d[s]);return a}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/ie8-dom-define"),l=i("../internals/v8-prototype-define-bug"),n=i("../internals/an-object"),e=i("../internals/to-property-key"),t=TypeError,a=Object.defineProperty,r=Object.getOwnPropertyDescriptor;S.f=m?l?function(s,d,u){if(n(s),d=e(d),n(u),typeof s=="function"&&d==="prototype"&&"value"in u&&"writable"in u&&!u.writable){var c=r(s,d);c&&c.writable&&(s[d]=u.value,u={configurable:"configurable"in u?u.configurable:c.configurable,enumerable:"enumerable"in u?u.enumerable:c.enumerable,writable:!1})}return a(s,d,u)}:a:function(s,d,u){if(n(s),d=e(d),n(u),o)try{return a(s,d,u)}catch{}if("get"in u||"set"in u)throw new t("Accessors not supported");return"value"in u&&(s[d]=u.value),s}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/function-call"),l=i("../internals/object-property-is-enumerable"),n=i("../internals/create-property-descriptor"),e=i("../internals/to-indexed-object"),t=i("../internals/to-property-key"),a=i("../internals/has-own-property"),r=i("../internals/ie8-dom-define"),s=Object.getOwnPropertyDescriptor;S.f=m?s:function(d,u){if(d=e(d),u=t(u),r)try{return s(d,u)}catch{}if(a(d,u))return n(!o(l.f,d,u),d[u])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(i,T,S){var m=i("../internals/classof-raw"),o=i("../internals/to-indexed-object"),l=i("../internals/object-get-own-property-names").f,n=i("../internals/array-slice-simple"),e=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];T.exports.f=function(t){return e&&m(t)==="Window"?function(a){try{return l(a)}catch{return n(e)}}(t):l(o(t))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(i,T,S){var m=i("../internals/object-keys-internal"),o=i("../internals/enum-bug-keys").concat("length","prototype");S.f=Object.getOwnPropertyNames||function(l){return m(l,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(i,T,S){S.f=Object.getOwnPropertySymbols},{}],313:[function(i,T,S){var m=i("../internals/has-own-property"),o=i("../internals/is-callable"),l=i("../internals/to-object"),n=i("../internals/shared-key"),e=i("../internals/correct-prototype-getter"),t=n("IE_PROTO"),a=Object,r=a.prototype;T.exports=e?a.getPrototypeOf:function(s){var d=l(s);if(m(d,t))return d[t];var u=d.constructor;return o(u)&&d instanceof u?u.prototype:d instanceof a?r:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(i,T,S){var m=i("../internals/function-uncurry-this");T.exports=m({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=i("../internals/has-own-property"),l=i("../internals/to-indexed-object"),n=i("../internals/array-includes").indexOf,e=i("../internals/hidden-keys"),t=m([].push);T.exports=function(a,r){var s,d=l(a),u=0,c=[];for(s in d)!o(e,s)&&o(d,s)&&t(c,s);for(;r.length>u;)o(d,s=r[u++])&&(~n(c,s)||t(c,s));return c}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(i,T,S){var m=i("../internals/object-keys-internal"),o=i("../internals/enum-bug-keys");T.exports=Object.keys||function(l){return m(l,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(i,T,S){var m={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,l=o&&!m.call({1:2},1);S.f=l?function(n){var e=o(this,n);return!!e&&e.enumerable}:m},{}],318:[function(i,T,S){var m=i("../internals/function-uncurry-this-accessor"),o=i("../internals/an-object"),l=i("../internals/a-possible-prototype");T.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=m(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch{}return function(a,r){return o(a),l(r),e?n(a,r):a.__proto__=r,a}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/fails"),l=i("../internals/function-uncurry-this"),n=i("../internals/object-get-prototype-of"),e=i("../internals/object-keys"),t=i("../internals/to-indexed-object"),a=l(i("../internals/object-property-is-enumerable").f),r=l([].push),s=m&&o(function(){var u=Object.create(null);return u[2]=2,!a(u,2)}),d=function(u){return function(c){for(var f,h=t(c),w=e(h),k=s&&n(h)===null,E=w.length,j=0,$=[];E>j;)f=w[j++],m&&!(k?f in h:a(h,f))||r($,u?[f,h[f]]:h[f]);return $}};T.exports={entries:d(!0),values:d(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(i,T,S){var m=i("../internals/function-call"),o=i("../internals/is-callable"),l=i("../internals/is-object"),n=TypeError;T.exports=function(e,t){var a,r;if(t==="string"&&o(a=e.toString)&&!l(r=m(a,e))||o(a=e.valueOf)&&!l(r=m(a,e))||t!=="string"&&o(a=e.toString)&&!l(r=m(a,e)))return r;throw new n("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(i,T,S){var m=i("../internals/get-built-in"),o=i("../internals/function-uncurry-this"),l=i("../internals/object-get-own-property-names"),n=i("../internals/object-get-own-property-symbols"),e=i("../internals/an-object"),t=o([].concat);T.exports=m("Reflect","ownKeys")||function(a){var r=l.f(e(a)),s=n.f;return s?t(r,s(a)):r}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(i,T,S){var m=i("../internals/global");T.exports=m},{"../internals/global":274}],323:[function(i,T,S){T.exports=function(m){try{return{error:!1,value:m()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(i,T,S){var m=i("../internals/global"),o=i("../internals/promise-native-constructor"),l=i("../internals/is-callable"),n=i("../internals/is-forced"),e=i("../internals/inspect-source"),t=i("../internals/well-known-symbol"),a=i("../internals/engine-is-browser"),r=i("../internals/engine-is-deno"),s=i("../internals/is-pure"),d=i("../internals/engine-v8-version"),u=o&&o.prototype,c=t("species"),f=!1,h=l(m.PromiseRejectionEvent),w=n("Promise",function(){var k=e(o),E=k!==String(o);if(!E&&d===66||s&&(!u.catch||!u.finally))return!0;if(!d||d<51||!/native code/.test(k)){var j=new o(function(D){D(1)}),$=function(D){D(function(){},function(){})};if((j.constructor={})[c]=$,!(f=j.then(function(){})instanceof $))return!0}return!E&&(a||r)&&!h});T.exports={CONSTRUCTOR:w,REJECTION_EVENT:h,SUBCLASSING:f}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(i,T,S){var m=i("../internals/global");T.exports=m.Promise},{"../internals/global":274}],326:[function(i,T,S){var m=i("../internals/an-object"),o=i("../internals/is-object"),l=i("../internals/new-promise-capability");T.exports=function(n,e){if(m(n),o(e)&&e.constructor===n)return e;var t=l.f(n);return(0,t.resolve)(e),t.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(i,T,S){var m=i("../internals/promise-native-constructor"),o=i("../internals/check-correctness-of-iteration"),l=i("../internals/promise-constructor-detection").CONSTRUCTOR;T.exports=l||!o(function(n){m.all(n).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(i,T,S){var m=function(){this.head=null,this.tail=null};m.prototype={add:function(o){var l={item:o,next:null},n=this.tail;n?n.next=l:this.head=l,this.tail=l},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},T.exports=m},{}],329:[function(i,T,S){var m=i("../internals/is-null-or-undefined"),o=TypeError;T.exports=function(l){if(m(l))throw new o("Can't call method on "+l);return l}},{"../internals/is-null-or-undefined":288}],330:[function(i,T,S){var m=i("../internals/get-built-in"),o=i("../internals/define-built-in-accessor"),l=i("../internals/well-known-symbol"),n=i("../internals/descriptors"),e=l("species");T.exports=function(t){var a=m(t);n&&a&&!a[e]&&o(a,e,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(i,T,S){var m=i("../internals/object-define-property").f,o=i("../internals/has-own-property"),l=i("../internals/well-known-symbol")("toStringTag");T.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!o(n,l)&&m(n,l,{configurable:!0,value:e})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(i,T,S){var m=i("../internals/shared"),o=i("../internals/uid"),l=m("keys");T.exports=function(n){return l[n]||(l[n]=o(n))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(i,T,S){var m=i("../internals/global"),o=i("../internals/define-global-property"),l=m["__core-js_shared__"]||o("__core-js_shared__",{});T.exports=l},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(i,T,S){var m=i("../internals/is-pure"),o=i("../internals/shared-store");(T.exports=function(l,n){return o[l]||(o[l]=n!==void 0?n:{})})("versions",[]).push({version:"3.33.0",mode:m?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(i,T,S){var m=i("../internals/an-object"),o=i("../internals/a-constructor"),l=i("../internals/is-null-or-undefined"),n=i("../internals/well-known-symbol")("species");T.exports=function(e,t){var a,r=m(e).constructor;return r===void 0||l(a=m(r)[n])?t:o(a)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(i,T,S){var m=i("../internals/engine-v8-version"),o=i("../internals/fails"),l=i("../internals/global").String;T.exports=!!Object.getOwnPropertySymbols&&!o(function(){var n=Symbol("symbol detection");return!l(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&m&&m<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(i,T,S){var m=i("../internals/function-call"),o=i("../internals/get-built-in"),l=i("../internals/well-known-symbol"),n=i("../internals/define-built-in");T.exports=function(){var e=o("Symbol"),t=e&&e.prototype,a=t&&t.valueOf,r=l("toPrimitive");t&&!t[r]&&n(t,r,function(s){return m(a,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(i,T,S){var m=i("../internals/symbol-constructor-detection");T.exports=m&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(i,T,S){var m,o,l,n,e=i("../internals/global"),t=i("../internals/function-apply"),a=i("../internals/function-bind-context"),r=i("../internals/is-callable"),s=i("../internals/has-own-property"),d=i("../internals/fails"),u=i("../internals/html"),c=i("../internals/array-slice"),f=i("../internals/document-create-element"),h=i("../internals/validate-arguments-length"),w=i("../internals/engine-is-ios"),k=i("../internals/engine-is-node"),E=e.setImmediate,j=e.clearImmediate,$=e.process,D=e.Dispatch,P=e.Function,R=e.MessageChannel,H=e.String,N=0,_={};d(function(){m=e.location});var C=function(g){if(s(_,g)){var y=_[g];delete _[g],y()}},v=function(g){return function(){C(g)}},p=function(g){C(g.data)},b=function(g){e.postMessage(H(g),m.protocol+"//"+m.host)};E&&j||(E=function(g){h(arguments.length,1);var y=r(g)?g:P(g),x=c(arguments,1);return _[++N]=function(){t(y,void 0,x)},o(N),N},j=function(g){delete _[g]},k?o=function(g){$.nextTick(v(g))}:D&&D.now?o=function(g){D.now(v(g))}:R&&!w?(n=(l=new R).port2,l.port1.onmessage=p,o=a(n.postMessage,n)):e.addEventListener&&r(e.postMessage)&&!e.importScripts&&m&&m.protocol!=="file:"&&!d(b)?(o=b,e.addEventListener("message",p,!1)):o="onreadystatechange"in f("script")?function(g){u.appendChild(f("script")).onreadystatechange=function(){u.removeChild(this),C(g)}}:function(g){setTimeout(v(g),0)}),T.exports={set:E,clear:j}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(i,T,S){var m=i("../internals/to-integer-or-infinity"),o=Math.max,l=Math.min;T.exports=function(n,e){var t=m(n);return t<0?o(t+e,0):l(t,e)}},{"../internals/to-integer-or-infinity":342}],341:[function(i,T,S){var m=i("../internals/indexed-object"),o=i("../internals/require-object-coercible");T.exports=function(l){return m(o(l))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(i,T,S){var m=i("../internals/math-trunc");T.exports=function(o){var l=+o;return l!=l||l===0?0:m(l)}},{"../internals/math-trunc":301}],343:[function(i,T,S){var m=i("../internals/to-integer-or-infinity"),o=Math.min;T.exports=function(l){return l>0?o(m(l),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(i,T,S){var m=i("../internals/require-object-coercible"),o=Object;T.exports=function(l){return o(m(l))}},{"../internals/require-object-coercible":329}],345:[function(i,T,S){var m=i("../internals/function-call"),o=i("../internals/is-object"),l=i("../internals/is-symbol"),n=i("../internals/get-method"),e=i("../internals/ordinary-to-primitive"),t=i("../internals/well-known-symbol"),a=TypeError,r=t("toPrimitive");T.exports=function(s,d){if(!o(s)||l(s))return s;var u,c=n(s,r);if(c){if(d===void 0&&(d="default"),u=m(c,s,d),!o(u)||l(u))return u;throw new a("Can't convert object to primitive value")}return d===void 0&&(d="number"),e(s,d)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(i,T,S){var m=i("../internals/to-primitive"),o=i("../internals/is-symbol");T.exports=function(l){var n=m(l,"string");return o(n)?n:n+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(i,T,S){var m={};m[i("../internals/well-known-symbol")("toStringTag")]="z",T.exports=String(m)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(i,T,S){var m=i("../internals/classof"),o=String;T.exports=function(l){if(m(l)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(l)}},{"../internals/classof":236}],349:[function(i,T,S){var m=String;T.exports=function(o){try{return m(o)}catch{return"Object"}}},{}],350:[function(i,T,S){var m=i("../internals/function-uncurry-this"),o=0,l=Math.random(),n=m(1 .toString);T.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+n(++o+l,36)}},{"../internals/function-uncurry-this":268}],351:[function(i,T,S){var m=i("../internals/symbol-constructor-detection");T.exports=m&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(i,T,S){var m=i("../internals/descriptors"),o=i("../internals/fails");T.exports=m&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(i,T,S){var m=TypeError;T.exports=function(o,l){if(o<l)throw new m("Not enough arguments");return o}},{}],354:[function(i,T,S){var m=i("../internals/global"),o=i("../internals/is-callable"),l=m.WeakMap;T.exports=o(l)&&/native code/.test(String(l))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(i,T,S){var m=i("../internals/path"),o=i("../internals/has-own-property"),l=i("../internals/well-known-symbol-wrapped"),n=i("../internals/object-define-property").f;T.exports=function(e){var t=m.Symbol||(m.Symbol={});o(t,e)||n(t,e,{value:l.f(e)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(i,T,S){var m=i("../internals/well-known-symbol");S.f=m},{"../internals/well-known-symbol":357}],357:[function(i,T,S){var m=i("../internals/global"),o=i("../internals/shared"),l=i("../internals/has-own-property"),n=i("../internals/uid"),e=i("../internals/symbol-constructor-detection"),t=i("../internals/use-symbol-as-uid"),a=m.Symbol,r=o("wks"),s=t?a.for||a:a&&a.withoutSetter||n;T.exports=function(d){return l(r,d)||(r[d]=e&&l(a,d)?a[d]:s("Symbol."+d)),r[d]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/array-iteration").findIndex,l=i("../internals/add-to-unscopables"),n=!0;"findIndex"in[]&&Array(1).findIndex(function(){n=!1}),m({target:"Array",proto:!0,forced:n},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),l("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/array-iteration").find,l=i("../internals/add-to-unscopables"),n=!0;"find"in[]&&Array(1).find(function(){n=!1}),m({target:"Array",proto:!0,forced:n},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),l("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/array-includes").includes,l=i("../internals/fails"),n=i("../internals/add-to-unscopables");m({target:"Array",proto:!0,forced:l(function(){return!Array(1).includes()})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(i,T,S){var m=i("../internals/to-indexed-object"),o=i("../internals/add-to-unscopables"),l=i("../internals/iterators"),n=i("../internals/internal-state"),e=i("../internals/object-define-property").f,t=i("../internals/iterator-define"),a=i("../internals/create-iter-result-object"),r=i("../internals/is-pure"),s=i("../internals/descriptors"),d=n.set,u=n.getterFor("Array Iterator");T.exports=t(Array,"Array",function(f,h){d(this,{type:"Array Iterator",target:m(f),index:0,kind:h})},function(){var f=u(this),h=f.target,w=f.kind,k=f.index++;if(!h||k>=h.length)return f.target=void 0,a(void 0,!0);switch(w){case"keys":return a(k,!1);case"values":return a(h[k],!1)}return a([k,h[k]],!1)},"values");var c=l.Arguments=l.Array;if(o("keys"),o("values"),o("entries"),!r&&s&&c.name!=="values")try{e(c,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/get-built-in"),l=i("../internals/function-apply"),n=i("../internals/function-call"),e=i("../internals/function-uncurry-this"),t=i("../internals/fails"),a=i("../internals/is-callable"),r=i("../internals/is-symbol"),s=i("../internals/array-slice"),d=i("../internals/get-json-replacer-function"),u=i("../internals/symbol-constructor-detection"),c=String,f=o("JSON","stringify"),h=e(/./.exec),w=e("".charAt),k=e("".charCodeAt),E=e("".replace),j=e(1 .toString),$=/[\uD800-\uDFFF]/g,D=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,R=!u||t(function(){var C=o("Symbol")("stringify detection");return f([C])!=="[null]"||f({a:C})!=="{}"||f(Object(C))!=="{}"}),H=t(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(C,v){var p=s(arguments),b=d(v);if(a(b)||C!==void 0&&!r(C))return p[1]=function(g,y){if(a(b)&&(y=n(b,this,c(g),y)),!r(y))return y},l(f,null,p)},_=function(C,v,p){var b=w(p,v-1),g=w(p,v+1);return h(D,C)&&!h(P,g)||h(P,C)&&!h(D,b)?"\\u"+j(k(C,0),16):C};f&&m({target:"JSON",stat:!0,arity:3,forced:R||H},{stringify:function(C,v,p){var b=s(arguments),g=l(R?N:f,null,b);return H&&typeof g=="string"?E(g,$,_):g}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(i,T,S){i("../internals/export")({target:"Number",stat:!0},{isNaN:function(m){return m!=m}})},{"../internals/export":259}],364:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/object-assign");m({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/symbol-constructor-detection"),l=i("../internals/fails"),n=i("../internals/object-get-own-property-symbols"),e=i("../internals/to-object");m({target:"Object",stat:!0,forced:!o||l(function(){n.f(1)})},{getOwnPropertySymbols:function(t){var a=n.f;return a?a(e(t)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/to-object"),l=i("../internals/object-keys");m({target:"Object",stat:!0,forced:i("../internals/fails")(function(){l(1)})},{keys:function(n){return l(o(n))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/object-to-array").values;m({target:"Object",stat:!0},{values:function(l){return o(l)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/function-call"),l=i("../internals/a-callable"),n=i("../internals/new-promise-capability"),e=i("../internals/perform"),t=i("../internals/iterate");m({target:"Promise",stat:!0,forced:i("../internals/promise-statics-incorrect-iteration")},{all:function(a){var r=this,s=n.f(r),d=s.resolve,u=s.reject,c=e(function(){var f=l(r.resolve),h=[],w=0,k=1;t(a,function(E){var j=w++,$=!1;k++,o(f,r,E).then(function(D){$||($=!0,h[j]=D,--k||d(h))},u)}),--k||d(h)});return c.error&&u(c.value),s.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/is-pure"),l=i("../internals/promise-constructor-detection").CONSTRUCTOR,n=i("../internals/promise-native-constructor"),e=i("../internals/get-built-in"),t=i("../internals/is-callable"),a=i("../internals/define-built-in"),r=n&&n.prototype;if(m({target:"Promise",proto:!0,forced:l,real:!0},{catch:function(d){return this.then(void 0,d)}}),!o&&t(n)){var s=e("Promise").prototype.catch;r.catch!==s&&a(r,"catch",s,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(i,T,S){var m,o,l,n=i("../internals/export"),e=i("../internals/is-pure"),t=i("../internals/engine-is-node"),a=i("../internals/global"),r=i("../internals/function-call"),s=i("../internals/define-built-in"),d=i("../internals/object-set-prototype-of"),u=i("../internals/set-to-string-tag"),c=i("../internals/set-species"),f=i("../internals/a-callable"),h=i("../internals/is-callable"),w=i("../internals/is-object"),k=i("../internals/an-instance"),E=i("../internals/species-constructor"),j=i("../internals/task").set,$=i("../internals/microtask"),D=i("../internals/host-report-errors"),P=i("../internals/perform"),R=i("../internals/queue"),H=i("../internals/internal-state"),N=i("../internals/promise-native-constructor"),_=i("../internals/promise-constructor-detection"),C=i("../internals/new-promise-capability"),v=_.CONSTRUCTOR,p=_.REJECTION_EVENT,b=_.SUBCLASSING,g=H.getterFor("Promise"),y=H.set,x=N&&N.prototype,M=N,F=x,q=a.TypeError,U=a.document,Y=a.process,B=C.f,W=B,I=!!(U&&U.createEvent&&a.dispatchEvent),A=function(J){var te;return!(!w(J)||!h(te=J.then))&&te},z=function(J,te){var se,ae,de,he=te.value,ve=te.state===1,Se=ve?J.ok:J.fail,Te=J.resolve,ke=J.reject,Be=J.domain;try{Se?(ve||(te.rejection===2&&ie(te),te.rejection=1),Se===!0?se=he:(Be&&Be.enter(),se=Se(he),Be&&(Be.exit(),de=!0)),se===J.promise?ke(new q("Promise-chain cycle")):(ae=A(se))?r(ae,se,Te,ke):Te(se)):ke(he)}catch(re){Be&&!de&&Be.exit(),ke(re)}},V=function(J,te){J.notified||(J.notified=!0,$(function(){for(var se,ae=J.reactions;se=ae.get();)z(se,J);J.notified=!1,te&&!J.rejection&&X(J)}))},Z=function(J,te,se){var ae,de;I?((ae=U.createEvent("Event")).promise=te,ae.reason=se,ae.initEvent(J,!1,!0),a.dispatchEvent(ae)):ae={promise:te,reason:se},!p&&(de=a["on"+J])?de(ae):J==="unhandledrejection"&&D("Unhandled promise rejection",se)},X=function(J){r(j,a,function(){var te,se=J.facade,ae=J.value;if(K(J)&&(te=P(function(){t?Y.emit("unhandledRejection",ae,se):Z("unhandledrejection",se,ae)}),J.rejection=t||K(J)?2:1,te.error))throw te.value})},K=function(J){return J.rejection!==1&&!J.parent},ie=function(J){r(j,a,function(){var te=J.facade;t?Y.emit("rejectionHandled",te):Z("rejectionhandled",te,J.value)})},ne=function(J,te,se){return function(ae){J(te,ae,se)}},G=function(J,te,se){J.done||(J.done=!0,se&&(J=se),J.value=te,J.state=2,V(J,!0))},ee=function(J,te,se){if(!J.done){J.done=!0,se&&(J=se);try{if(J.facade===te)throw new q("Promise can't be resolved itself");var ae=A(te);ae?$(function(){var de={done:!1};try{r(ae,te,ne(ee,de,J),ne(G,de,J))}catch(he){G(de,he,J)}}):(J.value=te,J.state=1,V(J,!1))}catch(de){G({done:!1},de,J)}}};if(v&&(F=(M=function(J){k(this,F),f(J),r(m,this);var te=g(this);try{J(ne(ee,te),ne(G,te))}catch(se){G(te,se)}}).prototype,(m=function(J){y(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new R,rejection:!1,state:0,value:void 0})}).prototype=s(F,"then",function(J,te){var se=g(this),ae=B(E(this,M));return se.parent=!0,ae.ok=!h(J)||J,ae.fail=h(te)&&te,ae.domain=t?Y.domain:void 0,se.state===0?se.reactions.add(ae):$(function(){z(ae,se)}),ae.promise}),o=function(){var J=new m,te=g(J);this.promise=J,this.resolve=ne(ee,te),this.reject=ne(G,te)},C.f=B=function(J){return J===M||J===void 0?new o(J):W(J)},!e&&h(N)&&x!==Object.prototype)){l=x.then,b||s(x,"then",function(J,te){var se=this;return new M(function(ae,de){r(l,se,ae,de)}).then(J,te)},{unsafe:!0});try{delete x.constructor}catch{}d&&d(x,F)}n({global:!0,constructor:!0,wrap:!0,forced:v},{Promise:M}),u(M,"Promise",!1,!0),c("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/is-pure"),l=i("../internals/promise-native-constructor"),n=i("../internals/fails"),e=i("../internals/get-built-in"),t=i("../internals/is-callable"),a=i("../internals/species-constructor"),r=i("../internals/promise-resolve"),s=i("../internals/define-built-in"),d=l&&l.prototype;if(m({target:"Promise",proto:!0,real:!0,forced:!!l&&n(function(){d.finally.call({then:function(){}},function(){})})},{finally:function(c){var f=a(this,e("Promise")),h=t(c);return this.then(h?function(w){return r(f,c()).then(function(){return w})}:c,h?function(w){return r(f,c()).then(function(){throw w})}:c)}}),!o&&t(l)){var u=e("Promise").prototype.finally;d.finally!==u&&s(d,"finally",u,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(i,T,S){i("../modules/es.promise.constructor"),i("../modules/es.promise.all"),i("../modules/es.promise.catch"),i("../modules/es.promise.race"),i("../modules/es.promise.reject"),i("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/function-call"),l=i("../internals/a-callable"),n=i("../internals/new-promise-capability"),e=i("../internals/perform"),t=i("../internals/iterate");m({target:"Promise",stat:!0,forced:i("../internals/promise-statics-incorrect-iteration")},{race:function(a){var r=this,s=n.f(r),d=s.reject,u=e(function(){var c=l(r.resolve);t(a,function(f){o(c,r,f).then(s.resolve,d)})});return u.error&&d(u.value),s.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/function-call"),l=i("../internals/new-promise-capability");m({target:"Promise",stat:!0,forced:i("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(n){var e=l.f(this);return o(e.reject,void 0,n),e.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/get-built-in"),l=i("../internals/is-pure"),n=i("../internals/promise-native-constructor"),e=i("../internals/promise-constructor-detection").CONSTRUCTOR,t=i("../internals/promise-resolve"),a=o("Promise"),r=l&&!e;m({target:"Promise",stat:!0,forced:l||e},{resolve:function(s){return t(r&&this===a?n:this,s)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/function-uncurry-this"),l=i("../internals/to-absolute-index"),n=RangeError,e=String.fromCharCode,t=String.fromCodePoint,a=o([].join);m({target:"String",stat:!0,arity:1,forced:!!t&&t.length!==1},{fromCodePoint:function(r){for(var s,d=[],u=arguments.length,c=0;u>c;){if(s=+arguments[c++],l(s,1114111)!==s)throw new n(s+" is not a valid code point");d[c]=s<65536?e(s):e(55296+((s-=65536)>>10),s%1024+56320)}return a(d,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/function-uncurry-this"),l=i("../internals/not-a-regexp"),n=i("../internals/require-object-coercible"),e=i("../internals/to-string"),t=i("../internals/correct-is-regexp-logic"),a=o("".indexOf);m({target:"String",proto:!0,forced:!t("includes")},{includes:function(r){return!!~a(e(n(this)),e(l(r)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(i,T,S){i("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/global"),l=i("../internals/function-call"),n=i("../internals/function-uncurry-this"),e=i("../internals/is-pure"),t=i("../internals/descriptors"),a=i("../internals/symbol-constructor-detection"),r=i("../internals/fails"),s=i("../internals/has-own-property"),d=i("../internals/object-is-prototype-of"),u=i("../internals/an-object"),c=i("../internals/to-indexed-object"),f=i("../internals/to-property-key"),h=i("../internals/to-string"),w=i("../internals/create-property-descriptor"),k=i("../internals/object-create"),E=i("../internals/object-keys"),j=i("../internals/object-get-own-property-names"),$=i("../internals/object-get-own-property-names-external"),D=i("../internals/object-get-own-property-symbols"),P=i("../internals/object-get-own-property-descriptor"),R=i("../internals/object-define-property"),H=i("../internals/object-define-properties"),N=i("../internals/object-property-is-enumerable"),_=i("../internals/define-built-in"),C=i("../internals/define-built-in-accessor"),v=i("../internals/shared"),p=i("../internals/shared-key"),b=i("../internals/hidden-keys"),g=i("../internals/uid"),y=i("../internals/well-known-symbol"),x=i("../internals/well-known-symbol-wrapped"),M=i("../internals/well-known-symbol-define"),F=i("../internals/symbol-define-to-primitive"),q=i("../internals/set-to-string-tag"),U=i("../internals/internal-state"),Y=i("../internals/array-iteration").forEach,B=p("hidden"),W=U.set,I=U.getterFor("Symbol"),A=Object.prototype,z=o.Symbol,V=z&&z.prototype,Z=o.RangeError,X=o.TypeError,K=o.QObject,ie=P.f,ne=R.f,G=$.f,ee=N.f,J=n([].push),te=v("symbols"),se=v("op-symbols"),ae=v("wks"),de=!K||!K.prototype||!K.prototype.findChild,he=function(be,me,Ee){var Oe=ie(A,me);Oe&&delete A[me],ne(be,me,Ee),Oe&&be!==A&&ne(A,me,Oe)},ve=t&&r(function(){return k(ne({},"a",{get:function(){return ne(this,"a",{value:7}).a}})).a!==7})?he:ne,Se=function(be,me){var Ee=te[be]=k(V);return W(Ee,{type:"Symbol",tag:be,description:me}),t||(Ee.description=me),Ee},Te=function(be,me,Ee){be===A&&Te(se,me,Ee),u(be);var Oe=f(me);return u(Ee),s(te,Oe)?(Ee.enumerable?(s(be,B)&&be[B][Oe]&&(be[B][Oe]=!1),Ee=k(Ee,{enumerable:w(0,!1)})):(s(be,B)||ne(be,B,w(1,{})),be[B][Oe]=!0),ve(be,Oe,Ee)):ne(be,Oe,Ee)},ke=function(be,me){u(be);var Ee=c(me),Oe=E(Ee).concat(we(Ee));return Y(Oe,function(Ae){t&&!l(Be,Ee,Ae)||Te(be,Ae,Ee[Ae])}),be},Be=function(be){var me=f(be),Ee=l(ee,this,me);return!(this===A&&s(te,me)&&!s(se,me))&&(!(Ee||!s(this,me)||!s(te,me)||s(this,B)&&this[B][me])||Ee)},re=function(be,me){var Ee=c(be),Oe=f(me);if(Ee!==A||!s(te,Oe)||s(se,Oe)){var Ae=ie(Ee,Oe);return!Ae||!s(te,Oe)||s(Ee,B)&&Ee[B][Oe]||(Ae.enumerable=!0),Ae}},pe=function(be){var me=G(c(be)),Ee=[];return Y(me,function(Oe){s(te,Oe)||s(b,Oe)||J(Ee,Oe)}),Ee},we=function(be){var me=be===A,Ee=G(me?se:c(be)),Oe=[];return Y(Ee,function(Ae){!s(te,Ae)||me&&!s(A,Ae)||J(Oe,te[Ae])}),Oe};a||(_(V=(z=function(){if(d(V,this))throw new X("Symbol is not a constructor");var be=arguments.length&&arguments[0]!==void 0?h(arguments[0]):void 0,me=g(be),Ee=function(Oe){this===A&&l(Ee,se,Oe),s(this,B)&&s(this[B],me)&&(this[B][me]=!1);var Ae=w(1,Oe);try{ve(this,me,Ae)}catch(Ye){if(!(Ye instanceof Z))throw Ye;he(this,me,Ae)}};return t&&de&&ve(A,me,{configurable:!0,set:Ee}),Se(me,be)}).prototype,"toString",function(){return I(this).tag}),_(z,"withoutSetter",function(be){return Se(g(be),be)}),N.f=Be,R.f=Te,H.f=ke,P.f=re,j.f=$.f=pe,D.f=we,x.f=function(be){return Se(y(be),be)},t&&(C(V,"description",{configurable:!0,get:function(){return I(this).description}}),e||_(A,"propertyIsEnumerable",Be,{unsafe:!0}))),m({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:z}),Y(E(ae),function(be){M(be)}),m({target:"Symbol",stat:!0,forced:!a},{useSetter:function(){de=!0},useSimple:function(){de=!1}}),m({target:"Object",stat:!0,forced:!a,sham:!t},{create:function(be,me){return me===void 0?k(be):ke(k(be),me)},defineProperty:Te,defineProperties:ke,getOwnPropertyDescriptor:re}),m({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),F(),q(z,"Symbol"),b[B]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/get-built-in"),l=i("../internals/has-own-property"),n=i("../internals/to-string"),e=i("../internals/shared"),t=i("../internals/symbol-registry-detection"),a=e("string-to-symbol-registry"),r=e("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!t},{for:function(s){var d=n(s);if(l(a,d))return a[d];var u=o("Symbol")(d);return a[d]=u,r[u]=d,u}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(i,T,S){i("../modules/es.symbol.constructor"),i("../modules/es.symbol.for"),i("../modules/es.symbol.key-for"),i("../modules/es.json.stringify"),i("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(i,T,S){var m=i("../internals/export"),o=i("../internals/has-own-property"),l=i("../internals/is-symbol"),n=i("../internals/try-to-string"),e=i("../internals/shared"),t=i("../internals/symbol-registry-detection"),a=e("symbol-to-string-registry");m({target:"Symbol",stat:!0,forced:!t},{keyFor:function(r){if(!l(r))throw new TypeError(n(r)+" is not a symbol");if(o(a,r))return a[r]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(i,T,S){function m(o){return Object.prototype.toString.call(o)}S.isArray=function(o){return Array.isArray?Array.isArray(o):m(o)==="[object Array]"},S.isBoolean=function(o){return typeof o=="boolean"},S.isNull=function(o){return o===null},S.isNullOrUndefined=function(o){return o==null},S.isNumber=function(o){return typeof o=="number"},S.isString=function(o){return typeof o=="string"},S.isSymbol=function(o){return typeof o=="symbol"},S.isUndefined=function(o){return o===void 0},S.isRegExp=function(o){return m(o)==="[object RegExp]"},S.isObject=function(o){return typeof o=="object"&&o!==null},S.isDate=function(o){return m(o)==="[object Date]"},S.isError=function(o){return m(o)==="[object Error]"||o instanceof Error},S.isFunction=function(o){return typeof o=="function"},S.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},S.isBuffer=i("buffer").Buffer.isBuffer},{buffer:220}],384:[function(i,T,S){(function(m){(function(){var o=i("elliptic"),l=i("bn.js");T.exports=function(a){return new e(a)};var n={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function e(a){this.curveType=n[a],this.curveType||(this.curveType={name:a}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function t(a,r,s){Array.isArray(a)||(a=a.toArray());var d=new m(a);if(s&&d.length<s){var u=new m(s-d.length);u.fill(0),d=m.concat([u,d])}return r?d.toString(r):d}n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1,e.prototype.generateKeys=function(a,r){return this.keys=this.curve.genKeyPair(),this.getPublicKey(a,r)},e.prototype.computeSecret=function(a,r,s){return r=r||"utf8",m.isBuffer(a)||(a=new m(a,r)),t(this.curve.keyFromPublic(a).getPublic().mul(this.keys.getPrivate()).getX(),s,this.curveType.byteLength)},e.prototype.getPublicKey=function(a,r){var s=this.keys.getPublic(r==="compressed",!0);return r==="hybrid"&&(s[s.length-1]%2?s[0]=7:s[0]=6),t(s,a)},e.prototype.getPrivateKey=function(a){return t(this.keys.getPrivate(),a)},e.prototype.setPublicKey=function(a,r){return r=r||"utf8",m.isBuffer(a)||(a=new m(a,r)),this.keys._importPublic(a),this},e.prototype.setPrivateKey=function(a,r){r=r||"utf8",m.isBuffer(a)||(a=new m(a,r));var s=new l(a);return s=s.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(s),this}}).call(this)}).call(this,i("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(i,T,S){arguments[4][184][0].apply(S,arguments)},{buffer:188,dup:184}],386:[function(i,T,S){var m=i("inherits"),o=i("md5.js"),l=i("ripemd160"),n=i("sha.js"),e=i("cipher-base");function t(a){e.call(this,"digest"),this._hash=a}m(t,e),t.prototype._update=function(a){this._hash.update(a)},t.prototype._final=function(){return this._hash.digest()},T.exports=function(a){return(a=a.toLowerCase())==="md5"?new o:a==="rmd160"||a==="ripemd160"?new l:new t(n(a))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(i,T,S){var m=i("md5.js");T.exports=function(o){return new m().update(o).digest()}},{"md5.js":450}],388:[function(i,T,S){var m=i("inherits"),o=i("./legacy"),l=i("cipher-base"),n=i("safe-buffer").Buffer,e=i("create-hash/md5"),t=i("ripemd160"),a=i("sha.js"),r=n.alloc(128);function s(d,u){l.call(this,"digest"),typeof u=="string"&&(u=n.from(u));var c=d==="sha512"||d==="sha384"?128:64;this._alg=d,this._key=u,u.length>c?u=(d==="rmd160"?new t:a(d)).update(u).digest():u.length<c&&(u=n.concat([u,r],c));for(var f=this._ipad=n.allocUnsafe(c),h=this._opad=n.allocUnsafe(c),w=0;w<c;w++)f[w]=54^u[w],h[w]=92^u[w];this._hash=d==="rmd160"?new t:a(d),this._hash.update(f)}m(s,l),s.prototype._update=function(d){this._hash.update(d)},s.prototype._final=function(){var d=this._hash.digest();return(this._alg==="rmd160"?new t:a(this._alg)).update(this._opad).update(d).digest()},T.exports=function(d,u){return(d=d.toLowerCase())==="rmd160"||d==="ripemd160"?new s("rmd160",u):d==="md5"?new o(e,u):new s(d,u)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(i,T,S){var m=i("inherits"),o=i("safe-buffer").Buffer,l=i("cipher-base"),n=o.alloc(128);function e(t,a){l.call(this,"digest"),typeof a=="string"&&(a=o.from(a)),this._alg=t,this._key=a,a.length>64?a=t(a):a.length<64&&(a=o.concat([a,n],64));for(var r=this._ipad=o.allocUnsafe(64),s=this._opad=o.allocUnsafe(64),d=0;d<64;d++)r[d]=54^a[d],s[d]=92^a[d];this._hash=[r]}m(e,l),e.prototype._update=function(t){this._hash.push(t)},e.prototype._final=function(){var t=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,t]))},T.exports=e},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(i,T,S){S.randomBytes=S.rng=S.pseudoRandomBytes=S.prng=i("randombytes"),S.createHash=S.Hash=i("create-hash"),S.createHmac=S.Hmac=i("create-hmac");var m=i("browserify-sign/algos"),o=Object.keys(m),l=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);S.getHashes=function(){return l};var n=i("pbkdf2");S.pbkdf2=n.pbkdf2,S.pbkdf2Sync=n.pbkdf2Sync;var e=i("browserify-cipher");S.Cipher=e.Cipher,S.createCipher=e.createCipher,S.Cipheriv=e.Cipheriv,S.createCipheriv=e.createCipheriv,S.Decipher=e.Decipher,S.createDecipher=e.createDecipher,S.Decipheriv=e.Decipheriv,S.createDecipheriv=e.createDecipheriv,S.getCiphers=e.getCiphers,S.listCiphers=e.listCiphers;var t=i("diffie-hellman");S.DiffieHellmanGroup=t.DiffieHellmanGroup,S.createDiffieHellmanGroup=t.createDiffieHellmanGroup,S.getDiffieHellman=t.getDiffieHellman,S.createDiffieHellman=t.createDiffieHellman,S.DiffieHellman=t.DiffieHellman;var a=i("browserify-sign");S.createSign=a.createSign,S.Sign=a.Sign,S.createVerify=a.createVerify,S.Verify=a.Verify,S.createECDH=i("create-ecdh");var r=i("public-encrypt");S.publicEncrypt=r.publicEncrypt,S.privateEncrypt=r.privateEncrypt,S.publicDecrypt=r.publicDecrypt,S.privateDecrypt=r.privateDecrypt;var s=i("randomfill");S.randomFill=s.randomFill,S.randomFillSync=s.randomFillSync,S.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},S.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(i,T,S){(function(m,o){typeof S=="object"&&T!==void 0?T.exports=o():(m=typeof globalThis<"u"?globalThis:m||self).dayjs=o()})(void 0,function(){var m=6e4,o=36e5,l="millisecond",n="second",e="minute",t="hour",a="day",r="week",s="month",d="quarter",u="year",c="date",f="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(p){var b=["th","st","nd","rd"],g=p%100;return"["+p+(b[(g-20)%10]||b[g]||b[0])+"]"}},E=function(p,b,g){var y=String(p);return!y||y.length>=b?p:""+Array(b+1-y.length).join(g)+p},j={s:E,z:function(p){var b=-p.utcOffset(),g=Math.abs(b),y=Math.floor(g/60),x=g%60;return(b<=0?"+":"-")+E(y,2,"0")+":"+E(x,2,"0")},m:function p(b,g){if(b.date()<g.date())return-p(g,b);var y=12*(g.year()-b.year())+(g.month()-b.month()),x=b.clone().add(y,s),M=g-x<0,F=b.clone().add(y+(M?-1:1),s);return+(-(y+(g-x)/(M?x-F:F-x))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:s,y:u,w:r,d:a,D:c,h:t,m:e,s:n,ms:l,Q:d}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return p===void 0}},$="en",D={};D[$]=k;var P="$isDayjsObject",R=function(p){return p instanceof C||!(!p||!p[P])},H=function p(b,g,y){var x;if(!b)return $;if(typeof b=="string"){var M=b.toLowerCase();D[M]&&(x=M),g&&(D[M]=g,x=M);var F=b.split("-");if(!x&&F.length>1)return p(F[0])}else{var q=b.name;D[q]=b,x=q}return!y&&x&&($=x),x||!y&&$},N=function(p,b){if(R(p))return p.clone();var g=typeof b=="object"?b:{};return g.date=p,g.args=arguments,new C(g)},_=j;_.l=H,_.i=R,_.w=function(p,b){return N(p,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var C=function(){function p(g){this.$L=H(g.locale,null,!0),this.parse(g),this.$x=this.$x||g.x||{},this[P]=!0}var b=p.prototype;return b.parse=function(g){this.$d=function(y){var x=y.date,M=y.utc;if(x===null)return new Date(NaN);if(_.u(x))return new Date;if(x instanceof Date)return new Date(x);if(typeof x=="string"&&!/Z$/i.test(x)){var F=x.match(h);if(F){var q=F[2]-1||0,U=(F[7]||"0").substring(0,3);return M?new Date(Date.UTC(F[1],q,F[3]||1,F[4]||0,F[5]||0,F[6]||0,U)):new Date(F[1],q,F[3]||1,F[4]||0,F[5]||0,F[6]||0,U)}}return new Date(x)}(g),this.init()},b.init=function(){var g=this.$d;this.$y=g.getFullYear(),this.$M=g.getMonth(),this.$D=g.getDate(),this.$W=g.getDay(),this.$H=g.getHours(),this.$m=g.getMinutes(),this.$s=g.getSeconds(),this.$ms=g.getMilliseconds()},b.$utils=function(){return _},b.isValid=function(){return this.$d.toString()!==f},b.isSame=function(g,y){var x=N(g);return this.startOf(y)<=x&&x<=this.endOf(y)},b.isAfter=function(g,y){return N(g)<this.startOf(y)},b.isBefore=function(g,y){return this.endOf(y)<N(g)},b.$g=function(g,y,x){return _.u(g)?this[y]:this.set(x,g)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(g,y){var x=this,M=!!_.u(y)||y,F=_.p(g),q=function(V,Z){var X=_.w(x.$u?Date.UTC(x.$y,Z,V):new Date(x.$y,Z,V),x);return M?X:X.endOf(a)},U=function(V,Z){return _.w(x.toDate()[V].apply(x.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(Z)),x)},Y=this.$W,B=this.$M,W=this.$D,I="set"+(this.$u?"UTC":"");switch(F){case u:return M?q(1,0):q(31,11);case s:return M?q(1,B):q(0,B+1);case r:var A=this.$locale().weekStart||0,z=(Y<A?Y+7:Y)-A;return q(M?W-z:W+(6-z),B);case a:case c:return U(I+"Hours",0);case t:return U(I+"Minutes",1);case e:return U(I+"Seconds",2);case n:return U(I+"Milliseconds",3);default:return this.clone()}},b.endOf=function(g){return this.startOf(g,!1)},b.$set=function(g,y){var x,M=_.p(g),F="set"+(this.$u?"UTC":""),q=(x={},x[a]=F+"Date",x[c]=F+"Date",x[s]=F+"Month",x[u]=F+"FullYear",x[t]=F+"Hours",x[e]=F+"Minutes",x[n]=F+"Seconds",x[l]=F+"Milliseconds",x)[M],U=M===a?this.$D+(y-this.$W):y;if(M===s||M===u){var Y=this.clone().set(c,1);Y.$d[q](U),Y.init(),this.$d=Y.set(c,Math.min(this.$D,Y.daysInMonth())).$d}else q&&this.$d[q](U);return this.init(),this},b.set=function(g,y){return this.clone().$set(g,y)},b.get=function(g){return this[_.p(g)]()},b.add=function(g,y){var x,M=this;g=Number(g);var F=_.p(y),q=function(B){var W=N(M);return _.w(W.date(W.date()+Math.round(B*g)),M)};if(F===s)return this.set(s,this.$M+g);if(F===u)return this.set(u,this.$y+g);if(F===a)return q(1);if(F===r)return q(7);var U=(x={},x[e]=m,x[t]=o,x[n]=1e3,x)[F]||1,Y=this.$d.getTime()+g*U;return _.w(Y,this)},b.subtract=function(g,y){return this.add(-1*g,y)},b.format=function(g){var y=this,x=this.$locale();if(!this.isValid())return x.invalidDate||f;var M=g||"YYYY-MM-DDTHH:mm:ssZ",F=_.z(this),q=this.$H,U=this.$m,Y=this.$M,B=x.weekdays,W=x.months,I=x.meridiem,A=function(Z,X,K,ie){return Z&&(Z[X]||Z(y,M))||K[X].slice(0,ie)},z=function(Z){return _.s(q%12||12,Z,"0")},V=I||function(Z,X,K){var ie=Z<12?"AM":"PM";return K?ie.toLowerCase():ie};return M.replace(w,function(Z,X){return X||function(K){switch(K){case"YY":return String(y.$y).slice(-2);case"YYYY":return _.s(y.$y,4,"0");case"M":return Y+1;case"MM":return _.s(Y+1,2,"0");case"MMM":return A(x.monthsShort,Y,W,3);case"MMMM":return A(W,Y);case"D":return y.$D;case"DD":return _.s(y.$D,2,"0");case"d":return String(y.$W);case"dd":return A(x.weekdaysMin,y.$W,B,2);case"ddd":return A(x.weekdaysShort,y.$W,B,3);case"dddd":return B[y.$W];case"H":return String(q);case"HH":return _.s(q,2,"0");case"h":return z(1);case"hh":return z(2);case"a":return V(q,U,!0);case"A":return V(q,U,!1);case"m":return String(U);case"mm":return _.s(U,2,"0");case"s":return String(y.$s);case"ss":return _.s(y.$s,2,"0");case"SSS":return _.s(y.$ms,3,"0");case"Z":return F}return null}(Z)||F.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(g,y,x){var M,F=this,q=_.p(y),U=N(g),Y=(U.utcOffset()-this.utcOffset())*m,B=this-U,W=function(){return _.m(F,U)};switch(q){case u:M=W()/12;break;case s:M=W();break;case d:M=W()/3;break;case r:M=(B-Y)/6048e5;break;case a:M=(B-Y)/864e5;break;case t:M=B/o;break;case e:M=B/m;break;case n:M=B/1e3;break;default:M=B}return x?M:_.a(M)},b.daysInMonth=function(){return this.endOf(s).$D},b.$locale=function(){return D[this.$L]},b.locale=function(g,y){if(!g)return this.$L;var x=this.clone(),M=H(g,y,!0);return M&&(x.$L=M),x},b.clone=function(){return _.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},p}(),v=C.prototype;return N.prototype=v,[["$ms",l],["$s",n],["$m",e],["$H",t],["$W",a],["$M",s],["$y",u],["$D",c]].forEach(function(p){v[p[1]]=function(b){return this.$g(b,p[0],p[1])}}),N.extend=function(p,b){return p.$i||(p(b,C,N),p.$i=!0),N},N.locale=H,N.isDayjs=R,N.unix=function(p){return N(1e3*p)},N.en=D[$],N.Ls=D,N.p={},N})},{}],392:[function(i,T,S){(function(m,o){typeof S=="object"&&T!==void 0?T.exports=o():(m=typeof globalThis<"u"?globalThis:m||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var m={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,n=/\d\d?/,e=/\d*[^-_:/,()\s\d]+/,t={},a=function(h){return(h=+h)+(h>68?1900:2e3)},r=function(h){return function(w){this[h]=+w}},s=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var k=w.match(/([+-]|\d\d)/g),E=60*k[1]+(+k[2]||0);return E===0?0:k[0]==="+"?-E:E}(h)}],d=function(h){var w=t[h];return w&&(w.indexOf?w:w.s.concat(w.f))},u=function(h,w){var k,E=t.meridiem;if(E){for(var j=1;j<=24;j+=1)if(h.indexOf(E(j,0,w))>-1){k=j>12;break}}else k=h===(w?"pm":"PM");return k},c={A:[e,function(h){this.afternoon=u(h,!1)}],a:[e,function(h){this.afternoon=u(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[l,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[n,r("seconds")],ss:[n,r("seconds")],m:[n,r("minutes")],mm:[n,r("minutes")],H:[n,r("hours")],h:[n,r("hours")],HH:[n,r("hours")],hh:[n,r("hours")],D:[n,r("day")],DD:[l,r("day")],Do:[e,function(h){var w=t.ordinal,k=h.match(/\d+/);if(this.day=k[0],w)for(var E=1;E<=31;E+=1)w(E).replace(/\[|\]/g,"")===h&&(this.day=E)}],M:[n,r("month")],MM:[l,r("month")],MMM:[e,function(h){var w=d("months"),k=(d("monthsShort")||w.map(function(E){return E.slice(0,3)})).indexOf(h)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[e,function(h){var w=d("months").indexOf(h)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,r("year")],YY:[l,function(h){this.year=a(h)}],YYYY:[/\d{4}/,r("year")],Z:s,ZZ:s};function f(h){var w,k;w=h,k=t&&t.formats;for(var E=(h=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,_,C){var v=C&&C.toUpperCase();return _||k[C]||m[C]||k[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,b,g){return b||g.slice(1)})})).match(o),j=E.length,$=0;$<j;$+=1){var D=E[$],P=c[D],R=P&&P[0],H=P&&P[1];E[$]=H?{regex:R,parser:H}:D.replace(/^\[|\]$/g,"")}return function(N){for(var _={},C=0,v=0;C<j;C+=1){var p=E[C];if(typeof p=="string")v+=p.length;else{var b=p.regex,g=p.parser,y=N.slice(v),x=b.exec(y)[0];g.call(_,x),N=N.replace(x,"")}}return function(M){var F=M.afternoon;if(F!==void 0){var q=M.hours;F?q<12&&(M.hours+=12):q===12&&(M.hours=0),delete M.afternoon}}(_),_}}return function(h,w,k){k.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(a=h.parseTwoDigitYear);var E=w.prototype,j=E.parse;E.parse=function($){var D=$.date,P=$.utc,R=$.args;this.$u=P;var H=R[1];if(typeof H=="string"){var N=R[2]===!0,_=R[3]===!0,C=N||_,v=R[2];_&&(v=R[2]),t=this.$locale(),!N&&v&&(t=k.Ls[v]),this.$d=function(y,x,M){try{if(["x","X"].indexOf(x)>-1)return new Date((x==="X"?1e3:1)*y);var F=f(x)(y),q=F.year,U=F.month,Y=F.day,B=F.hours,W=F.minutes,I=F.seconds,A=F.milliseconds,z=F.zone,V=new Date,Z=Y||(q||U?1:V.getDate()),X=q||V.getFullYear(),K=0;q&&!U||(K=U>0?U-1:V.getMonth());var ie=B||0,ne=W||0,G=I||0,ee=A||0;return z?new Date(Date.UTC(X,K,Z,ie,ne,G,ee+60*z.offset*1e3)):M?new Date(Date.UTC(X,K,Z,ie,ne,G,ee)):new Date(X,K,Z,ie,ne,G,ee)}catch{return new Date("")}}(D,H,P),this.init(),v&&v!==!0&&(this.$L=this.locale(v).$L),C&&D!=this.format(H)&&(this.$d=new Date("")),t={}}else if(H instanceof Array)for(var p=H.length,b=1;b<=p;b+=1){R[1]=H[b-1];var g=k.apply(this,R);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}b===p&&(this.$d=new Date(""))}else j.call(this,$)}}})},{}],393:[function(i,T,S){(function(m,o){typeof S=="object"&&T!==void 0?T.exports=o():(m=typeof globalThis<"u"?globalThis:m||self).dayjs_plugin_utc=o()})(void 0,function(){var m="minute",o=/[+-]\d\d(?::?\d\d)?/g,l=/([+-]|\d\d)/g;return function(n,e,t){var a=e.prototype;t.utc=function(h){var w={date:h,utc:!0,args:arguments};return new e(w)},a.utc=function(h){var w=t(this.toDate(),{locale:this.$L,utc:!0});return h?w.add(this.utcOffset(),m):w},a.local=function(){return t(this.toDate(),{locale:this.$L,utc:!1})};var r=a.parse;a.parse=function(h){h.utc&&(this.$u=!0),this.$utils().u(h.$offset)||(this.$offset=h.$offset),r.call(this,h)};var s=a.init;a.init=function(){if(this.$u){var h=this.$d;this.$y=h.getUTCFullYear(),this.$M=h.getUTCMonth(),this.$D=h.getUTCDate(),this.$W=h.getUTCDay(),this.$H=h.getUTCHours(),this.$m=h.getUTCMinutes(),this.$s=h.getUTCSeconds(),this.$ms=h.getUTCMilliseconds()}else s.call(this)};var d=a.utcOffset;a.utcOffset=function(h,w){var k=this.$utils().u;if(k(h))return this.$u?0:k(this.$offset)?d.call(this):this.$offset;if(typeof h=="string"&&(h=function(D){D===void 0&&(D="");var P=D.match(o);if(!P)return null;var R=(""+P[0]).match(l)||["-",0,0],H=R[0],N=60*+R[1]+ +R[2];return N===0?0:H==="+"?N:-N}(h))===null)return this;var E=Math.abs(h)<=16?60*h:h,j=this;if(w)return j.$offset=E,j.$u=h===0,j;if(h!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(j=this.local().add(E+$,m)).$offset=E,j.$x.$localOffset=$}else j=this.utc();return j};var u=a.format;a.format=function(h){var w=h||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,w)},a.valueOf=function(){var h=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*h},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var c=a.toDate;a.toDate=function(h){return h==="s"&&this.$offset?t(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var f=a.diff;a.diff=function(h,w,k){if(h&&this.$u===h.$u)return f.call(this,h,w,k);var E=this.local(),j=t(h).local();return f.call(E,j,w,k)}}})},{}],394:[function(i,T,S){S.utils=i("./des/utils"),S.Cipher=i("./des/cipher"),S.DES=i("./des/des"),S.CBC=i("./des/cbc"),S.EDE=i("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(i,T,S){var m=i("minimalistic-assert"),o=i("inherits"),l={};function n(e){m.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}S.instantiate=function(e){function t(d){e.call(this,d),this._cbcInit()}o(t,e);for(var a=Object.keys(l),r=0;r<a.length;r++){var s=a[r];t.prototype[s]=l[s]}return t.create=function(d){return new t(d)},t},l._cbcInit=function(){var e=new n(this.options.iv);this._cbcState=e},l._update=function(e,t,a,r){var s=this._cbcState,d=this.constructor.super_.prototype,u=s.iv;if(this.type==="encrypt"){for(var c=0;c<this.blockSize;c++)u[c]^=e[t+c];for(d._update.call(this,u,0,a,r),c=0;c<this.blockSize;c++)u[c]=a[r+c]}else{for(d._update.call(this,e,t,a,r),c=0;c<this.blockSize;c++)a[r+c]^=u[c];for(c=0;c<this.blockSize;c++)u[c]=e[t+c]}}},{inherits:440,"minimalistic-assert":453}],396:[function(i,T,S){var m=i("minimalistic-assert");function o(l){this.options=l,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=l.padding!==!1}T.exports=o,o.prototype._init=function(){},o.prototype.update=function(l){return l.length===0?[]:this.type==="decrypt"?this._updateDecrypt(l):this._updateEncrypt(l)},o.prototype._buffer=function(l,n){for(var e=Math.min(this.buffer.length-this.bufferOff,l.length-n),t=0;t<e;t++)this.buffer[this.bufferOff+t]=l[n+t];return this.bufferOff+=e,e},o.prototype._flushBuffer=function(l,n){return this._update(this.buffer,0,l,n),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(l){var n=0,e=0,t=(this.bufferOff+l.length)/this.blockSize|0,a=new Array(t*this.blockSize);this.bufferOff!==0&&(n+=this._buffer(l,n),this.bufferOff===this.buffer.length&&(e+=this._flushBuffer(a,e)));for(var r=l.length-(l.length-n)%this.blockSize;n<r;n+=this.blockSize)this._update(l,n,a,e),e+=this.blockSize;for(;n<l.length;n++,this.bufferOff++)this.buffer[this.bufferOff]=l[n];return a},o.prototype._updateDecrypt=function(l){for(var n=0,e=0,t=Math.ceil((this.bufferOff+l.length)/this.blockSize)-1,a=new Array(t*this.blockSize);t>0;t--)n+=this._buffer(l,n),e+=this._flushBuffer(a,e);return n+=this._buffer(l,n),a},o.prototype.final=function(l){var n,e;return l&&(n=this.update(l)),e=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),n?n.concat(e):e},o.prototype._pad=function(l,n){if(n===0)return!1;for(;n<l.length;)l[n++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var l=new Array(this.blockSize);return this._update(this.buffer,0,l,0),l},o.prototype._unpad=function(l){return l},o.prototype._finalDecrypt=function(){m.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var l=new Array(this.blockSize);return this._flushBuffer(l,0),this._unpad(l)}},{"minimalistic-assert":453}],397:[function(i,T,S){var m=i("minimalistic-assert"),o=i("inherits"),l=i("./utils"),n=i("./cipher");function e(){this.tmp=new Array(2),this.keys=null}function t(r){n.call(this,r);var s=new e;this._desState=s,this.deriveKeys(s,r.key)}o(t,n),T.exports=t,t.create=function(r){return new t(r)};var a=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];t.prototype.deriveKeys=function(r,s){r.keys=new Array(32),m.equal(s.length,this.blockSize,"Invalid key length");var d=l.readUInt32BE(s,0),u=l.readUInt32BE(s,4);l.pc1(d,u,r.tmp,0),d=r.tmp[0],u=r.tmp[1];for(var c=0;c<r.keys.length;c+=2){var f=a[c>>>1];d=l.r28shl(d,f),u=l.r28shl(u,f),l.pc2(d,u,r.keys,c)}},t.prototype._update=function(r,s,d,u){var c=this._desState,f=l.readUInt32BE(r,s),h=l.readUInt32BE(r,s+4);l.ip(f,h,c.tmp,0),f=c.tmp[0],h=c.tmp[1],this.type==="encrypt"?this._encrypt(c,f,h,c.tmp,0):this._decrypt(c,f,h,c.tmp,0),f=c.tmp[0],h=c.tmp[1],l.writeUInt32BE(d,f,u),l.writeUInt32BE(d,h,u+4)},t.prototype._pad=function(r,s){if(this.padding===!1)return!1;for(var d=r.length-s,u=s;u<r.length;u++)r[u]=d;return!0},t.prototype._unpad=function(r){if(this.padding===!1)return r;for(var s=r[r.length-1],d=r.length-s;d<r.length;d++)m.equal(r[d],s);return r.slice(0,r.length-s)},t.prototype._encrypt=function(r,s,d,u,c){for(var f=s,h=d,w=0;w<r.keys.length;w+=2){var k=r.keys[w],E=r.keys[w+1];l.expand(h,r.tmp,0),k^=r.tmp[0],E^=r.tmp[1];var j=l.substitute(k,E),$=h;h=(f^l.permute(j))>>>0,f=$}l.rip(h,f,u,c)},t.prototype._decrypt=function(r,s,d,u,c){for(var f=d,h=s,w=r.keys.length-2;w>=0;w-=2){var k=r.keys[w],E=r.keys[w+1];l.expand(f,r.tmp,0),k^=r.tmp[0],E^=r.tmp[1];var j=l.substitute(k,E),$=f;f=(h^l.permute(j))>>>0,h=$}l.rip(f,h,u,c)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(i,T,S){var m=i("minimalistic-assert"),o=i("inherits"),l=i("./cipher"),n=i("./des");function e(a,r){m.equal(r.length,24,"Invalid key length");var s=r.slice(0,8),d=r.slice(8,16),u=r.slice(16,24);this.ciphers=a==="encrypt"?[n.create({type:"encrypt",key:s}),n.create({type:"decrypt",key:d}),n.create({type:"encrypt",key:u})]:[n.create({type:"decrypt",key:u}),n.create({type:"encrypt",key:d}),n.create({type:"decrypt",key:s})]}function t(a){l.call(this,a);var r=new e(this.type,this.options.key);this._edeState=r}o(t,l),T.exports=t,t.create=function(a){return new t(a)},t.prototype._update=function(a,r,s,d){var u=this._edeState;u.ciphers[0]._update(a,r,s,d),u.ciphers[1]._update(s,d,s,d),u.ciphers[2]._update(s,d,s,d)},t.prototype._pad=n.prototype._pad,t.prototype._unpad=n.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(i,T,S){S.readUInt32BE=function(n,e){return(n[0+e]<<24|n[1+e]<<16|n[2+e]<<8|n[3+e])>>>0},S.writeUInt32BE=function(n,e,t){n[0+t]=e>>>24,n[1+t]=e>>>16&255,n[2+t]=e>>>8&255,n[3+t]=255&e},S.ip=function(n,e,t,a){for(var r=0,s=0,d=6;d>=0;d-=2){for(var u=0;u<=24;u+=8)r<<=1,r|=e>>>u+d&1;for(u=0;u<=24;u+=8)r<<=1,r|=n>>>u+d&1}for(d=6;d>=0;d-=2){for(u=1;u<=25;u+=8)s<<=1,s|=e>>>u+d&1;for(u=1;u<=25;u+=8)s<<=1,s|=n>>>u+d&1}t[a+0]=r>>>0,t[a+1]=s>>>0},S.rip=function(n,e,t,a){for(var r=0,s=0,d=0;d<4;d++)for(var u=24;u>=0;u-=8)r<<=1,r|=e>>>u+d&1,r<<=1,r|=n>>>u+d&1;for(d=4;d<8;d++)for(u=24;u>=0;u-=8)s<<=1,s|=e>>>u+d&1,s<<=1,s|=n>>>u+d&1;t[a+0]=r>>>0,t[a+1]=s>>>0},S.pc1=function(n,e,t,a){for(var r=0,s=0,d=7;d>=5;d--){for(var u=0;u<=24;u+=8)r<<=1,r|=e>>u+d&1;for(u=0;u<=24;u+=8)r<<=1,r|=n>>u+d&1}for(u=0;u<=24;u+=8)r<<=1,r|=e>>u+d&1;for(d=1;d<=3;d++){for(u=0;u<=24;u+=8)s<<=1,s|=e>>u+d&1;for(u=0;u<=24;u+=8)s<<=1,s|=n>>u+d&1}for(u=0;u<=24;u+=8)s<<=1,s|=n>>u+d&1;t[a+0]=r>>>0,t[a+1]=s>>>0},S.r28shl=function(n,e){return n<<e&268435455|n>>>28-e};var m=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];S.pc2=function(n,e,t,a){for(var r=0,s=0,d=m.length>>>1,u=0;u<d;u++)r<<=1,r|=n>>>m[u]&1;for(u=d;u<m.length;u++)s<<=1,s|=e>>>m[u]&1;t[a+0]=r>>>0,t[a+1]=s>>>0},S.expand=function(n,e,t){var a=0,r=0;a=(1&n)<<5|n>>>27;for(var s=23;s>=15;s-=4)a<<=6,a|=n>>>s&63;for(s=11;s>=3;s-=4)r|=n>>>s&63,r<<=6;r|=(31&n)<<1|n>>>31,e[t+0]=a>>>0,e[t+1]=r>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];S.substitute=function(n,e){for(var t=0,a=0;a<4;a++)t<<=4,t|=o[64*a+(n>>>18-6*a&63)];for(a=0;a<4;a++)t<<=4,t|=o[256+64*a+(e>>>18-6*a&63)];return t>>>0};var l=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];S.permute=function(n){for(var e=0,t=0;t<l.length;t++)e<<=1,e|=n>>>l[t]&1;return e>>>0},S.padSplit=function(n,e,t){for(var a=n.toString(2);a.length<e;)a="0"+a;for(var r=[],s=0;s<e;s+=t)r.push(a.slice(s,s+t));return r.join(" ")}},{}],400:[function(i,T,S){(function(m){(function(){var o=i("./lib/generatePrime"),l=i("./lib/primes.json"),n=i("./lib/dh"),e={binary:!0,hex:!0,base64:!0};S.DiffieHellmanGroup=S.createDiffieHellmanGroup=S.getDiffieHellman=function(t){var a=new m(l[t].prime,"hex"),r=new m(l[t].gen,"hex");return new n(a,r)},S.createDiffieHellman=S.DiffieHellman=function t(a,r,s,d){return m.isBuffer(r)||e[r]===void 0?t(a,"binary",r,s):(r=r||"binary",d=d||"binary",s=s||new m([2]),m.isBuffer(s)||(s=new m(s,d)),typeof a=="number"?new n(o(a,s),s,!0):(m.isBuffer(a)||(a=new m(a,r)),new n(a,s,!0)))}}).call(this)}).call(this,i("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(i,T,S){(function(m){(function(){var o=i("bn.js"),l=new(i("miller-rabin")),n=new o(24),e=new o(11),t=new o(10),a=new o(3),r=new o(7),s=i("./generatePrime"),d=i("randombytes");function u(k,E){return E=E||"utf8",m.isBuffer(k)||(k=new m(k,E)),this._pub=new o(k),this}function c(k,E){return E=E||"utf8",m.isBuffer(k)||(k=new m(k,E)),this._priv=new o(k),this}T.exports=h;var f={};function h(k,E,j){this.setGenerator(E),this.__prime=new o(k),this._prime=o.mont(this.__prime),this._primeLen=k.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,j?(this.setPublicKey=u,this.setPrivateKey=c):this._primeCode=8}function w(k,E){var j=new m(k.toArray());return E?j.toString(E):j}Object.defineProperty(h.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(k,E){var j=E.toString("hex"),$=[j,k.toString(16)].join("_");if($ in f)return f[$];var D,P=0;if(k.isEven()||!s.simpleSieve||!s.fermatTest(k)||!l.test(k))return P+=1,P+=j==="02"||j==="05"?8:4,f[$]=P,P;switch(l.test(k.shrn(1))||(P+=2),j){case"02":k.mod(n).cmp(e)&&(P+=8);break;case"05":(D=k.mod(t)).cmp(a)&&D.cmp(r)&&(P+=8);break;default:P+=4}return f[$]=P,P}(this.__prime,this.__gen)),this._primeCode}}),h.prototype.generateKeys=function(){return this._priv||(this._priv=new o(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},h.prototype.computeSecret=function(k){var E=(k=(k=new o(k)).toRed(this._prime)).redPow(this._priv).fromRed(),j=new m(E.toArray()),$=this.getPrime();if(j.length<$.length){var D=new m($.length-j.length);D.fill(0),j=m.concat([D,j])}return j},h.prototype.getPublicKey=function(k){return w(this._pub,k)},h.prototype.getPrivateKey=function(k){return w(this._priv,k)},h.prototype.getPrime=function(k){return w(this.__prime,k)},h.prototype.getGenerator=function(k){return w(this._gen,k)},h.prototype.setGenerator=function(k,E){return E=E||"utf8",m.isBuffer(k)||(k=new m(k,E)),this.__gen=k,this._gen=new o(k),this}}).call(this)}).call(this,i("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(i,T,S){var m=i("randombytes");T.exports=k,k.simpleSieve=h,k.fermatTest=w;var o=i("bn.js"),l=new o(24),n=new(i("miller-rabin")),e=new o(1),t=new o(2),a=new o(5),r=(new o(16),new o(8),new o(10)),s=new o(3),d=(new o(7),new o(11)),u=new o(4),c=(new o(12),null);function f(){if(c!==null)return c;var E=[];E[0]=2;for(var j=1,$=3;$<1048576;$+=2){for(var D=Math.ceil(Math.sqrt($)),P=0;P<j&&E[P]<=D&&$%E[P]!=0;P++);j!==P&&E[P]<=D||(E[j++]=$)}return c=E,E}function h(E){for(var j=f(),$=0;$<j.length;$++)if(E.modn(j[$])===0)return E.cmpn(j[$])===0;return!0}function w(E){var j=o.mont(E);return t.toRed(j).redPow(E.subn(1)).fromRed().cmpn(1)===0}function k(E,j){if(E<16)return new o(j===2||j===5?[140,123]:[140,39]);var $,D;for(j=new o(j);;){for($=new o(m(Math.ceil(E/8)));$.bitLength()>E;)$.ishrn(1);if($.isEven()&&$.iadd(e),$.testn(1)||$.iadd(t),j.cmp(t)){if(!j.cmp(a))for(;$.mod(r).cmp(s);)$.iadd(u)}else for(;$.mod(l).cmp(d);)$.iadd(u);if(h(D=$.shrn(1))&&h($)&&w(D)&&w($)&&n.test(D)&&n.test($))return $}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(i,T,S){T.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(i,T,S){arguments[4][184][0].apply(S,arguments)},{buffer:188,dup:184}],405:[function(i,T,S){var m=S;m.version=i("../package.json").version,m.utils=i("./elliptic/utils"),m.rand=i("brorand"),m.curve=i("./elliptic/curve"),m.curves=i("./elliptic/curves"),m.ec=i("./elliptic/ec"),m.eddsa=i("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(i,T,S){var m=i("bn.js"),o=i("../utils"),l=o.getNAF,n=o.getJSF,e=o.assert;function t(r,s){this.type=r,this.p=new m(s.p,16),this.red=s.prime?m.red(s.prime):m.mont(this.p),this.zero=new m(0).toRed(this.red),this.one=new m(1).toRed(this.red),this.two=new m(2).toRed(this.red),this.n=s.n&&new m(s.n,16),this.g=s.g&&this.pointFromJSON(s.g,s.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function a(r,s){this.curve=r,this.type=s,this.precomputed=null}T.exports=t,t.prototype.point=function(){throw new Error("Not implemented")},t.prototype.validate=function(){throw new Error("Not implemented")},t.prototype._fixedNafMul=function(r,s){e(r.precomputed);var d=r._getDoubles(),u=l(s,1,this._bitLength),c=(1<<d.step+1)-(d.step%2==0?2:1);c/=3;var f,h,w=[];for(f=0;f<u.length;f+=d.step){h=0;for(var k=f+d.step-1;k>=f;k--)h=(h<<1)+u[k];w.push(h)}for(var E=this.jpoint(null,null,null),j=this.jpoint(null,null,null),$=c;$>0;$--){for(f=0;f<w.length;f++)(h=w[f])===$?j=j.mixedAdd(d.points[f]):h===-$&&(j=j.mixedAdd(d.points[f].neg()));E=E.add(j)}return E.toP()},t.prototype._wnafMul=function(r,s){var d=4,u=r._getNAFPoints(d);d=u.wnd;for(var c=u.points,f=l(s,d,this._bitLength),h=this.jpoint(null,null,null),w=f.length-1;w>=0;w--){for(var k=0;w>=0&&f[w]===0;w--)k++;if(w>=0&&k++,h=h.dblp(k),w<0)break;var E=f[w];e(E!==0),h=r.type==="affine"?E>0?h.mixedAdd(c[E-1>>1]):h.mixedAdd(c[-E-1>>1].neg()):E>0?h.add(c[E-1>>1]):h.add(c[-E-1>>1].neg())}return r.type==="affine"?h.toP():h},t.prototype._wnafMulAdd=function(r,s,d,u,c){var f,h,w,k=this._wnafT1,E=this._wnafT2,j=this._wnafT3,$=0;for(f=0;f<u;f++){var D=(w=s[f])._getNAFPoints(r);k[f]=D.wnd,E[f]=D.points}for(f=u-1;f>=1;f-=2){var P=f-1,R=f;if(k[P]===1&&k[R]===1){var H=[s[P],null,null,s[R]];s[P].y.cmp(s[R].y)===0?(H[1]=s[P].add(s[R]),H[2]=s[P].toJ().mixedAdd(s[R].neg())):s[P].y.cmp(s[R].y.redNeg())===0?(H[1]=s[P].toJ().mixedAdd(s[R]),H[2]=s[P].add(s[R].neg())):(H[1]=s[P].toJ().mixedAdd(s[R]),H[2]=s[P].toJ().mixedAdd(s[R].neg()));var N=[-3,-1,-5,-7,0,7,5,1,3],_=n(d[P],d[R]);for($=Math.max(_[0].length,$),j[P]=new Array($),j[R]=new Array($),h=0;h<$;h++){var C=0|_[0][h],v=0|_[1][h];j[P][h]=N[3*(C+1)+(v+1)],j[R][h]=0,E[P]=H}}else j[P]=l(d[P],k[P],this._bitLength),j[R]=l(d[R],k[R],this._bitLength),$=Math.max(j[P].length,$),$=Math.max(j[R].length,$)}var p=this.jpoint(null,null,null),b=this._wnafT4;for(f=$;f>=0;f--){for(var g=0;f>=0;){var y=!0;for(h=0;h<u;h++)b[h]=0|j[h][f],b[h]!==0&&(y=!1);if(!y)break;g++,f--}if(f>=0&&g++,p=p.dblp(g),f<0)break;for(h=0;h<u;h++){var x=b[h];x!==0&&(x>0?w=E[h][x-1>>1]:x<0&&(w=E[h][-x-1>>1].neg()),p=w.type==="affine"?p.mixedAdd(w):p.add(w))}}for(f=0;f<u;f++)E[f]=null;return c?p:p.toP()},t.BasePoint=a,a.prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},t.prototype.decodePoint=function(r,s){r=o.toArray(r,s);var d=this.p.byteLength();if((r[0]===4||r[0]===6||r[0]===7)&&r.length-1==2*d)return r[0]===6?e(r[r.length-1]%2==0):r[0]===7&&e(r[r.length-1]%2==1),this.point(r.slice(1,1+d),r.slice(1+d,1+2*d));if((r[0]===2||r[0]===3)&&r.length-1===d)return this.pointFromX(r.slice(1,1+d),r[0]===3);throw new Error("Unknown point format")},a.prototype.encodeCompressed=function(r){return this.encode(r,!0)},a.prototype._encode=function(r){var s=this.curve.p.byteLength(),d=this.getX().toArray("be",s);return r?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",s))},a.prototype.encode=function(r,s){return o.encode(this._encode(s),r)},a.prototype.precompute=function(r){if(this.precomputed)return this;var s={doubles:null,naf:null,beta:null};return s.naf=this._getNAFPoints(8),s.doubles=this._getDoubles(4,r),s.beta=this._getBeta(),this.precomputed=s,this},a.prototype._hasDoubles=function(r){if(!this.precomputed)return!1;var s=this.precomputed.doubles;return!!s&&s.points.length>=Math.ceil((r.bitLength()+1)/s.step)},a.prototype._getDoubles=function(r,s){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],u=this,c=0;c<s;c+=r){for(var f=0;f<r;f++)u=u.dbl();d.push(u)}return{step:r,points:d}},a.prototype._getNAFPoints=function(r){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var s=[this],d=(1<<r)-1,u=d===1?null:this.dbl(),c=1;c<d;c++)s[c]=s[c-1].add(u);return{wnd:r,points:s}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(r){for(var s=this,d=0;d<r;d++)s=s.dbl();return s}},{"../utils":419,"bn.js":420}],407:[function(i,T,S){var m=i("../utils"),o=i("bn.js"),l=i("inherits"),n=i("./base"),e=m.assert;function t(r){this.twisted=(0|r.a)!=1,this.mOneA=this.twisted&&(0|r.a)==-1,this.extended=this.mOneA,n.call(this,"edwards",r),this.a=new o(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|r.c)==1}function a(r,s,d,u,c){n.BasePoint.call(this,r,"projective"),s===null&&d===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(s,16),this.y=new o(d,16),this.z=u?new o(u,16):this.curve.one,this.t=c&&new o(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}l(t,n),T.exports=t,t.prototype._mulA=function(r){return this.mOneA?r.redNeg():this.a.redMul(r)},t.prototype._mulC=function(r){return this.oneC?r:this.c.redMul(r)},t.prototype.jpoint=function(r,s,d,u){return this.point(r,s,d,u)},t.prototype.pointFromX=function(r,s){(r=new o(r,16)).red||(r=r.toRed(this.red));var d=r.redSqr(),u=this.c2.redSub(this.a.redMul(d)),c=this.one.redSub(this.c2.redMul(this.d).redMul(d)),f=u.redMul(c.redInvm()),h=f.redSqrt();if(h.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var w=h.fromRed().isOdd();return(s&&!w||!s&&w)&&(h=h.redNeg()),this.point(r,h)},t.prototype.pointFromY=function(r,s){(r=new o(r,16)).red||(r=r.toRed(this.red));var d=r.redSqr(),u=d.redSub(this.c2),c=d.redMul(this.d).redMul(this.c2).redSub(this.a),f=u.redMul(c.redInvm());if(f.cmp(this.zero)===0){if(s)throw new Error("invalid point");return this.point(this.zero,r)}var h=f.redSqrt();if(h.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");return h.fromRed().isOdd()!==s&&(h=h.redNeg()),this.point(h,r)},t.prototype.validate=function(r){if(r.isInfinity())return!0;r.normalize();var s=r.x.redSqr(),d=r.y.redSqr(),u=s.redMul(this.a).redAdd(d),c=this.c2.redMul(this.one.redAdd(this.d.redMul(s).redMul(d)));return u.cmp(c)===0},l(a,n.BasePoint),t.prototype.pointFromJSON=function(r){return a.fromJSON(this,r)},t.prototype.point=function(r,s,d,u){return new a(this,r,s,d,u)},a.fromJSON=function(r,s){return new a(r,s[0],s[1],s[2])},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},a.prototype._extDbl=function(){var r=this.x.redSqr(),s=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var u=this.curve._mulA(r),c=this.x.redAdd(this.y).redSqr().redISub(r).redISub(s),f=u.redAdd(s),h=f.redSub(d),w=u.redSub(s),k=c.redMul(h),E=f.redMul(w),j=c.redMul(w),$=h.redMul(f);return this.curve.point(k,E,$,j)},a.prototype._projDbl=function(){var r,s,d,u,c,f,h=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),k=this.y.redSqr();if(this.curve.twisted){var E=(u=this.curve._mulA(w)).redAdd(k);this.zOne?(r=h.redSub(w).redSub(k).redMul(E.redSub(this.curve.two)),s=E.redMul(u.redSub(k)),d=E.redSqr().redSub(E).redSub(E)):(c=this.z.redSqr(),f=E.redSub(c).redISub(c),r=h.redSub(w).redISub(k).redMul(f),s=E.redMul(u.redSub(k)),d=E.redMul(f))}else u=w.redAdd(k),c=this.curve._mulC(this.z).redSqr(),f=u.redSub(c).redSub(c),r=this.curve._mulC(h.redISub(u)).redMul(f),s=this.curve._mulC(u).redMul(w.redISub(k)),d=u.redMul(f);return this.curve.point(r,s,d)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},a.prototype._extAdd=function(r){var s=this.y.redSub(this.x).redMul(r.y.redSub(r.x)),d=this.y.redAdd(this.x).redMul(r.y.redAdd(r.x)),u=this.t.redMul(this.curve.dd).redMul(r.t),c=this.z.redMul(r.z.redAdd(r.z)),f=d.redSub(s),h=c.redSub(u),w=c.redAdd(u),k=d.redAdd(s),E=f.redMul(h),j=w.redMul(k),$=f.redMul(k),D=h.redMul(w);return this.curve.point(E,j,D,$)},a.prototype._projAdd=function(r){var s,d,u=this.z.redMul(r.z),c=u.redSqr(),f=this.x.redMul(r.x),h=this.y.redMul(r.y),w=this.curve.d.redMul(f).redMul(h),k=c.redSub(w),E=c.redAdd(w),j=this.x.redAdd(this.y).redMul(r.x.redAdd(r.y)).redISub(f).redISub(h),$=u.redMul(k).redMul(j);return this.curve.twisted?(s=u.redMul(E).redMul(h.redSub(this.curve._mulA(f))),d=k.redMul(E)):(s=u.redMul(E).redMul(h.redSub(f)),d=this.curve._mulC(k).redMul(E)),this.curve.point($,s,d)},a.prototype.add=function(r){return this.isInfinity()?r:r.isInfinity()?this:this.curve.extended?this._extAdd(r):this._projAdd(r)},a.prototype.mul=function(r){return this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve._wnafMul(this,r)},a.prototype.mulAdd=function(r,s,d){return this.curve._wnafMulAdd(1,[this,s],[r,d],2,!1)},a.prototype.jmulAdd=function(r,s,d){return this.curve._wnafMulAdd(1,[this,s],[r,d],2,!0)},a.prototype.normalize=function(){if(this.zOne)return this;var r=this.z.redInvm();return this.x=this.x.redMul(r),this.y=this.y.redMul(r),this.t&&(this.t=this.t.redMul(r)),this.z=this.curve.one,this.zOne=!0,this},a.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},a.prototype.getY=function(){return this.normalize(),this.y.fromRed()},a.prototype.eq=function(r){return this===r||this.getX().cmp(r.getX())===0&&this.getY().cmp(r.getY())===0},a.prototype.eqXToP=function(r){var s=r.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(s)===0)return!0;for(var d=r.clone(),u=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(s.redIAdd(u),this.x.cmp(s)===0)return!0}},a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(i,T,S){var m=S;m.base=i("./base"),m.short=i("./short"),m.mont=i("./mont"),m.edwards=i("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(i,T,S){var m=i("bn.js"),o=i("inherits"),l=i("./base"),n=i("../utils");function e(a){l.call(this,"mont",a),this.a=new m(a.a,16).toRed(this.red),this.b=new m(a.b,16).toRed(this.red),this.i4=new m(4).toRed(this.red).redInvm(),this.two=new m(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function t(a,r,s){l.BasePoint.call(this,a,"projective"),r===null&&s===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new m(r,16),this.z=new m(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(e,l),T.exports=e,e.prototype.validate=function(a){var r=a.normalize().x,s=r.redSqr(),d=s.redMul(r).redAdd(s.redMul(this.a)).redAdd(r);return d.redSqrt().redSqr().cmp(d)===0},o(t,l.BasePoint),e.prototype.decodePoint=function(a,r){return this.point(n.toArray(a,r),1)},e.prototype.point=function(a,r){return new t(this,a,r)},e.prototype.pointFromJSON=function(a){return t.fromJSON(this,a)},t.prototype.precompute=function(){},t.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},t.fromJSON=function(a,r){return new t(a,r[0],r[1]||a.one)},t.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},t.prototype.isInfinity=function(){return this.z.cmpn(0)===0},t.prototype.dbl=function(){var a=this.x.redAdd(this.z).redSqr(),r=this.x.redSub(this.z).redSqr(),s=a.redSub(r),d=a.redMul(r),u=s.redMul(r.redAdd(this.curve.a24.redMul(s)));return this.curve.point(d,u)},t.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.diffAdd=function(a,r){var s=this.x.redAdd(this.z),d=this.x.redSub(this.z),u=a.x.redAdd(a.z),c=a.x.redSub(a.z).redMul(s),f=u.redMul(d),h=r.z.redMul(c.redAdd(f).redSqr()),w=r.x.redMul(c.redISub(f).redSqr());return this.curve.point(h,w)},t.prototype.mul=function(a){for(var r=a.clone(),s=this,d=this.curve.point(null,null),u=[];r.cmpn(0)!==0;r.iushrn(1))u.push(r.andln(1));for(var c=u.length-1;c>=0;c--)u[c]===0?(s=s.diffAdd(d,this),d=d.dbl()):(d=s.diffAdd(d,this),s=s.dbl());return d},t.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},t.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},t.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},t.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(i,T,S){var m=i("../utils"),o=i("bn.js"),l=i("inherits"),n=i("./base"),e=m.assert;function t(s){n.call(this,"short",s),this.a=new o(s.a,16).toRed(this.red),this.b=new o(s.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(s),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function a(s,d,u,c){n.BasePoint.call(this,s,"affine"),d===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(d,16),this.y=new o(u,16),c&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function r(s,d,u,c){n.BasePoint.call(this,s,"jacobian"),d===null&&u===null&&c===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(d,16),this.y=new o(u,16),this.z=new o(c,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}l(t,n),T.exports=t,t.prototype._getEndomorphism=function(s){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var d,u;if(s.beta)d=new o(s.beta,16).toRed(this.red);else{var c=this._getEndoRoots(this.p);d=(d=c[0].cmp(c[1])<0?c[0]:c[1]).toRed(this.red)}if(s.lambda)u=new o(s.lambda,16);else{var f=this._getEndoRoots(this.n);this.g.mul(f[0]).x.cmp(this.g.x.redMul(d))===0?u=f[0]:(u=f[1],e(this.g.mul(u).x.cmp(this.g.x.redMul(d))===0))}return{beta:d,lambda:u,basis:s.basis?s.basis.map(function(h){return{a:new o(h.a,16),b:new o(h.b,16)}}):this._getEndoBasis(u)}}},t.prototype._getEndoRoots=function(s){var d=s===this.p?this.red:o.mont(s),u=new o(2).toRed(d).redInvm(),c=u.redNeg(),f=new o(3).toRed(d).redNeg().redSqrt().redMul(u);return[c.redAdd(f).fromRed(),c.redSub(f).fromRed()]},t.prototype._getEndoBasis=function(s){for(var d,u,c,f,h,w,k,E,j,$=this.n.ushrn(Math.floor(this.n.bitLength()/2)),D=s,P=this.n.clone(),R=new o(1),H=new o(0),N=new o(0),_=new o(1),C=0;D.cmpn(0)!==0;){var v=P.div(D);E=P.sub(v.mul(D)),j=N.sub(v.mul(R));var p=_.sub(v.mul(H));if(!c&&E.cmp($)<0)d=k.neg(),u=R,c=E.neg(),f=j;else if(c&&++C==2)break;k=E,P=D,D=E,N=R,R=j,_=H,H=p}h=E.neg(),w=j;var b=c.sqr().add(f.sqr());return h.sqr().add(w.sqr()).cmp(b)>=0&&(h=d,w=u),c.negative&&(c=c.neg(),f=f.neg()),h.negative&&(h=h.neg(),w=w.neg()),[{a:c,b:f},{a:h,b:w}]},t.prototype._endoSplit=function(s){var d=this.endo.basis,u=d[0],c=d[1],f=c.b.mul(s).divRound(this.n),h=u.b.neg().mul(s).divRound(this.n),w=f.mul(u.a),k=h.mul(c.a),E=f.mul(u.b),j=h.mul(c.b);return{k1:s.sub(w).sub(k),k2:E.add(j).neg()}},t.prototype.pointFromX=function(s,d){(s=new o(s,16)).red||(s=s.toRed(this.red));var u=s.redSqr().redMul(s).redIAdd(s.redMul(this.a)).redIAdd(this.b),c=u.redSqrt();if(c.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");var f=c.fromRed().isOdd();return(d&&!f||!d&&f)&&(c=c.redNeg()),this.point(s,c)},t.prototype.validate=function(s){if(s.inf)return!0;var d=s.x,u=s.y,c=this.a.redMul(d),f=d.redSqr().redMul(d).redIAdd(c).redIAdd(this.b);return u.redSqr().redISub(f).cmpn(0)===0},t.prototype._endoWnafMulAdd=function(s,d,u){for(var c=this._endoWnafT1,f=this._endoWnafT2,h=0;h<s.length;h++){var w=this._endoSplit(d[h]),k=s[h],E=k._getBeta();w.k1.negative&&(w.k1.ineg(),k=k.neg(!0)),w.k2.negative&&(w.k2.ineg(),E=E.neg(!0)),c[2*h]=k,c[2*h+1]=E,f[2*h]=w.k1,f[2*h+1]=w.k2}for(var j=this._wnafMulAdd(1,c,f,2*h,u),$=0;$<2*h;$++)c[$]=null,f[$]=null;return j},l(a,n.BasePoint),t.prototype.point=function(s,d,u){return new a(this,s,d,u)},t.prototype.pointFromJSON=function(s,d){return a.fromJSON(this,s,d)},a.prototype._getBeta=function(){if(this.curve.endo){var s=this.precomputed;if(s&&s.beta)return s.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(s){var u=this.curve,c=function(f){return u.point(f.x.redMul(u.endo.beta),f.y)};s.beta=d,d.precomputed={beta:null,naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(c)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(c)}}}return d}},a.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a.fromJSON=function(s,d,u){typeof d=="string"&&(d=JSON.parse(d));var c=s.point(d[0],d[1],u);if(!d[2])return c;function f(w){return s.point(w[0],w[1],u)}var h=d[2];return c.precomputed={beta:null,doubles:h.doubles&&{step:h.doubles.step,points:[c].concat(h.doubles.points.map(f))},naf:h.naf&&{wnd:h.naf.wnd,points:[c].concat(h.naf.points.map(f))}},c},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.inf},a.prototype.add=function(s){if(this.inf)return s;if(s.inf)return this;if(this.eq(s))return this.dbl();if(this.neg().eq(s))return this.curve.point(null,null);if(this.x.cmp(s.x)===0)return this.curve.point(null,null);var d=this.y.redSub(s.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(s.x).redInvm()));var u=d.redSqr().redISub(this.x).redISub(s.x),c=d.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,c)},a.prototype.dbl=function(){if(this.inf)return this;var s=this.y.redAdd(this.y);if(s.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,u=this.x.redSqr(),c=s.redInvm(),f=u.redAdd(u).redIAdd(u).redIAdd(d).redMul(c),h=f.redSqr().redISub(this.x.redAdd(this.x)),w=f.redMul(this.x.redSub(h)).redISub(this.y);return this.curve.point(h,w)},a.prototype.getX=function(){return this.x.fromRed()},a.prototype.getY=function(){return this.y.fromRed()},a.prototype.mul=function(s){return s=new o(s,16),this.isInfinity()?this:this._hasDoubles(s)?this.curve._fixedNafMul(this,s):this.curve.endo?this.curve._endoWnafMulAdd([this],[s]):this.curve._wnafMul(this,s)},a.prototype.mulAdd=function(s,d,u){var c=[this,d],f=[s,u];return this.curve.endo?this.curve._endoWnafMulAdd(c,f):this.curve._wnafMulAdd(1,c,f,2)},a.prototype.jmulAdd=function(s,d,u){var c=[this,d],f=[s,u];return this.curve.endo?this.curve._endoWnafMulAdd(c,f,!0):this.curve._wnafMulAdd(1,c,f,2,!0)},a.prototype.eq=function(s){return this===s||this.inf===s.inf&&(this.inf||this.x.cmp(s.x)===0&&this.y.cmp(s.y)===0)},a.prototype.neg=function(s){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(s&&this.precomputed){var u=this.precomputed,c=function(f){return f.neg()};d.precomputed={naf:u.naf&&{wnd:u.naf.wnd,points:u.naf.points.map(c)},doubles:u.doubles&&{step:u.doubles.step,points:u.doubles.points.map(c)}}}return d},a.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},l(r,n.BasePoint),t.prototype.jpoint=function(s,d,u){return new r(this,s,d,u)},r.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var s=this.z.redInvm(),d=s.redSqr(),u=this.x.redMul(d),c=this.y.redMul(d).redMul(s);return this.curve.point(u,c)},r.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},r.prototype.add=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var d=s.z.redSqr(),u=this.z.redSqr(),c=this.x.redMul(d),f=s.x.redMul(u),h=this.y.redMul(d.redMul(s.z)),w=s.y.redMul(u.redMul(this.z)),k=c.redSub(f),E=h.redSub(w);if(k.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var j=k.redSqr(),$=j.redMul(k),D=c.redMul(j),P=E.redSqr().redIAdd($).redISub(D).redISub(D),R=E.redMul(D.redISub(P)).redISub(h.redMul($)),H=this.z.redMul(s.z).redMul(k);return this.curve.jpoint(P,R,H)},r.prototype.mixedAdd=function(s){if(this.isInfinity())return s.toJ();if(s.isInfinity())return this;var d=this.z.redSqr(),u=this.x,c=s.x.redMul(d),f=this.y,h=s.y.redMul(d).redMul(this.z),w=u.redSub(c),k=f.redSub(h);if(w.cmpn(0)===0)return k.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var E=w.redSqr(),j=E.redMul(w),$=u.redMul(E),D=k.redSqr().redIAdd(j).redISub($).redISub($),P=k.redMul($.redISub(D)).redISub(f.redMul(j)),R=this.z.redMul(w);return this.curve.jpoint(D,P,R)},r.prototype.dblp=function(s){if(s===0)return this;if(this.isInfinity())return this;if(!s)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var u=this;for(d=0;d<s;d++)u=u.dbl();return u}var c=this.curve.a,f=this.curve.tinv,h=this.x,w=this.y,k=this.z,E=k.redSqr().redSqr(),j=w.redAdd(w);for(d=0;d<s;d++){var $=h.redSqr(),D=j.redSqr(),P=D.redSqr(),R=$.redAdd($).redIAdd($).redIAdd(c.redMul(E)),H=h.redMul(D),N=R.redSqr().redISub(H.redAdd(H)),_=H.redISub(N),C=R.redMul(_);C=C.redIAdd(C).redISub(P);var v=j.redMul(k);d+1<s&&(E=E.redMul(P)),h=N,k=v,j=C}return this.curve.jpoint(h,j.redMul(f),k)},r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},r.prototype._zeroDbl=function(){var s,d,u;if(this.zOne){var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),w=this.x.redAdd(f).redSqr().redISub(c).redISub(h);w=w.redIAdd(w);var k=c.redAdd(c).redIAdd(c),E=k.redSqr().redISub(w).redISub(w),j=h.redIAdd(h);j=(j=j.redIAdd(j)).redIAdd(j),s=E,d=k.redMul(w.redISub(E)).redISub(j),u=this.y.redAdd(this.y)}else{var $=this.x.redSqr(),D=this.y.redSqr(),P=D.redSqr(),R=this.x.redAdd(D).redSqr().redISub($).redISub(P);R=R.redIAdd(R);var H=$.redAdd($).redIAdd($),N=H.redSqr(),_=P.redIAdd(P);_=(_=_.redIAdd(_)).redIAdd(_),s=N.redISub(R).redISub(R),d=H.redMul(R.redISub(s)).redISub(_),u=(u=this.y.redMul(this.z)).redIAdd(u)}return this.curve.jpoint(s,d,u)},r.prototype._threeDbl=function(){var s,d,u;if(this.zOne){var c=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),w=this.x.redAdd(f).redSqr().redISub(c).redISub(h);w=w.redIAdd(w);var k=c.redAdd(c).redIAdd(c).redIAdd(this.curve.a),E=k.redSqr().redISub(w).redISub(w);s=E;var j=h.redIAdd(h);j=(j=j.redIAdd(j)).redIAdd(j),d=k.redMul(w.redISub(E)).redISub(j),u=this.y.redAdd(this.y)}else{var $=this.z.redSqr(),D=this.y.redSqr(),P=this.x.redMul(D),R=this.x.redSub($).redMul(this.x.redAdd($));R=R.redAdd(R).redIAdd(R);var H=P.redIAdd(P),N=(H=H.redIAdd(H)).redAdd(H);s=R.redSqr().redISub(N),u=this.y.redAdd(this.z).redSqr().redISub(D).redISub($);var _=D.redSqr();_=(_=(_=_.redIAdd(_)).redIAdd(_)).redIAdd(_),d=R.redMul(H.redISub(s)).redISub(_)}return this.curve.jpoint(s,d,u)},r.prototype._dbl=function(){var s=this.curve.a,d=this.x,u=this.y,c=this.z,f=c.redSqr().redSqr(),h=d.redSqr(),w=u.redSqr(),k=h.redAdd(h).redIAdd(h).redIAdd(s.redMul(f)),E=d.redAdd(d),j=(E=E.redIAdd(E)).redMul(w),$=k.redSqr().redISub(j.redAdd(j)),D=j.redISub($),P=w.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var R=k.redMul(D).redISub(P),H=u.redAdd(u).redMul(c);return this.curve.jpoint($,R,H)},r.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var s=this.x.redSqr(),d=this.y.redSqr(),u=this.z.redSqr(),c=d.redSqr(),f=s.redAdd(s).redIAdd(s),h=f.redSqr(),w=this.x.redAdd(d).redSqr().redISub(s).redISub(c),k=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(h)).redSqr(),E=c.redIAdd(c);E=(E=(E=E.redIAdd(E)).redIAdd(E)).redIAdd(E);var j=f.redIAdd(w).redSqr().redISub(h).redISub(k).redISub(E),$=d.redMul(j);$=($=$.redIAdd($)).redIAdd($);var D=this.x.redMul(k).redISub($);D=(D=D.redIAdd(D)).redIAdd(D);var P=this.y.redMul(j.redMul(E.redISub(j)).redISub(w.redMul(k)));P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P);var R=this.z.redAdd(w).redSqr().redISub(u).redISub(k);return this.curve.jpoint(D,P,R)},r.prototype.mul=function(s,d){return s=new o(s,d),this.curve._wnafMul(this,s)},r.prototype.eq=function(s){if(s.type==="affine")return this.eq(s.toJ());if(this===s)return!0;var d=this.z.redSqr(),u=s.z.redSqr();if(this.x.redMul(u).redISub(s.x.redMul(d)).cmpn(0)!==0)return!1;var c=d.redMul(this.z),f=u.redMul(s.z);return this.y.redMul(f).redISub(s.y.redMul(c)).cmpn(0)===0},r.prototype.eqXToP=function(s){var d=this.z.redSqr(),u=s.toRed(this.curve.red).redMul(d);if(this.x.cmp(u)===0)return!0;for(var c=s.clone(),f=this.curve.redN.redMul(d);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(u.redIAdd(f),this.x.cmp(u)===0)return!0}},r.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},r.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(i,T,S){var m,o=S,l=i("hash.js"),n=i("./curve"),e=i("./utils").assert;function t(r){r.type==="short"?this.curve=new n.short(r):r.type==="edwards"?this.curve=new n.edwards(r):this.curve=new n.mont(r),this.g=this.curve.g,this.n=this.curve.n,this.hash=r.hash,e(this.g.validate(),"Invalid curve"),e(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(r,s){Object.defineProperty(o,r,{configurable:!0,enumerable:!0,get:function(){var d=new t(s);return Object.defineProperty(o,r,{configurable:!0,enumerable:!0,value:d}),d}})}o.PresetCurve=t,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:l.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:l.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:l.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:l.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:l.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:l.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{m=i("./precomputed/secp256k1")}catch{m=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:l.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",m]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(i,T,S){var m=i("bn.js"),o=i("hmac-drbg"),l=i("../utils"),n=i("../curves"),e=i("brorand"),t=l.assert,a=i("./key"),r=i("./signature");function s(d){if(!(this instanceof s))return new s(d);typeof d=="string"&&(t(Object.prototype.hasOwnProperty.call(n,d),"Unknown curve "+d),d=n[d]),d instanceof n.PresetCurve&&(d={curve:d}),this.curve=d.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=d.curve.g,this.g.precompute(d.curve.n.bitLength()+1),this.hash=d.hash||d.curve.hash}T.exports=s,s.prototype.keyPair=function(d){return new a(this,d)},s.prototype.keyFromPrivate=function(d,u){return a.fromPrivate(this,d,u)},s.prototype.keyFromPublic=function(d,u){return a.fromPublic(this,d,u)},s.prototype.genKeyPair=function(d){d||(d={});for(var u=new o({hash:this.hash,pers:d.pers,persEnc:d.persEnc||"utf8",entropy:d.entropy||e(this.hash.hmacStrength),entropyEnc:d.entropy&&d.entropyEnc||"utf8",nonce:this.n.toArray()}),c=this.n.byteLength(),f=this.n.sub(new m(2));;){var h=new m(u.generate(c));if(!(h.cmp(f)>0))return h.iaddn(1),this.keyFromPrivate(h)}},s.prototype._truncateToN=function(d,u){var c=8*d.byteLength()-this.n.bitLength();return c>0&&(d=d.ushrn(c)),!u&&d.cmp(this.n)>=0?d.sub(this.n):d},s.prototype.sign=function(d,u,c,f){typeof c=="object"&&(f=c,c=null),f||(f={}),u=this.keyFromPrivate(u,c),d=this._truncateToN(new m(d,16));for(var h=this.n.byteLength(),w=u.getPrivate().toArray("be",h),k=d.toArray("be",h),E=new o({hash:this.hash,entropy:w,nonce:k,pers:f.pers,persEnc:f.persEnc||"utf8"}),j=this.n.sub(new m(1)),$=0;;$++){var D=f.k?f.k($):new m(E.generate(this.n.byteLength()));if(!((D=this._truncateToN(D,!0)).cmpn(1)<=0||D.cmp(j)>=0)){var P=this.g.mul(D);if(!P.isInfinity()){var R=P.getX(),H=R.umod(this.n);if(H.cmpn(0)!==0){var N=D.invm(this.n).mul(H.mul(u.getPrivate()).iadd(d));if((N=N.umod(this.n)).cmpn(0)!==0){var _=(P.getY().isOdd()?1:0)|(R.cmp(H)!==0?2:0);return f.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),_^=1),new r({r:H,s:N,recoveryParam:_})}}}}}},s.prototype.verify=function(d,u,c,f){d=this._truncateToN(new m(d,16)),c=this.keyFromPublic(c,f);var h=(u=new r(u,"hex")).r,w=u.s;if(h.cmpn(1)<0||h.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var k,E=w.invm(this.n),j=E.mul(d).umod(this.n),$=E.mul(h).umod(this.n);return this.curve._maxwellTrick?!(k=this.g.jmulAdd(j,c.getPublic(),$)).isInfinity()&&k.eqXToP(h):!(k=this.g.mulAdd(j,c.getPublic(),$)).isInfinity()&&k.getX().umod(this.n).cmp(h)===0},s.prototype.recoverPubKey=function(d,u,c,f){t((3&c)===c,"The recovery param is more than two bits"),u=new r(u,f);var h=this.n,w=new m(d),k=u.r,E=u.s,j=1&c,$=c>>1;if(k.cmp(this.curve.p.umod(this.curve.n))>=0&&$)throw new Error("Unable to find sencond key candinate");k=$?this.curve.pointFromX(k.add(this.curve.n),j):this.curve.pointFromX(k,j);var D=u.r.invm(h),P=h.sub(w).mul(D).umod(h),R=E.mul(D).umod(h);return this.g.mulAdd(P,k,R)},s.prototype.getKeyRecoveryParam=function(d,u,c,f){if((u=new r(u,f)).recoveryParam!==null)return u.recoveryParam;for(var h=0;h<4;h++){var w;try{w=this.recoverPubKey(d,u,h)}catch{continue}if(w.eq(c))return h}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(i,T,S){var m=i("bn.js"),o=i("../utils").assert;function l(n,e){this.ec=n,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}T.exports=l,l.fromPublic=function(n,e,t){return e instanceof l?e:new l(n,{pub:e,pubEnc:t})},l.fromPrivate=function(n,e,t){return e instanceof l?e:new l(n,{priv:e,privEnc:t})},l.prototype.validate=function(){var n=this.getPublic();return n.isInfinity()?{result:!1,reason:"Invalid public key"}:n.validate()?n.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},l.prototype.getPublic=function(n,e){return typeof n=="string"&&(e=n,n=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,n):this.pub},l.prototype.getPrivate=function(n){return n==="hex"?this.priv.toString(16,2):this.priv},l.prototype._importPrivate=function(n,e){this.priv=new m(n,e||16),this.priv=this.priv.umod(this.ec.curve.n)},l.prototype._importPublic=function(n,e){if(n.x||n.y)return this.ec.curve.type==="mont"?o(n.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(n.x&&n.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(n.x,n.y));this.pub=this.ec.curve.decodePoint(n,e)},l.prototype.derive=function(n){return n.validate()||o(n.validate(),"public point not validated"),n.mul(this.priv).getX()},l.prototype.sign=function(n,e,t){return this.ec.sign(n,this,e,t)},l.prototype.verify=function(n,e){return this.ec.verify(n,e,this)},l.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(i,T,S){var m=i("bn.js"),o=i("../utils"),l=o.assert;function n(s,d){if(s instanceof n)return s;this._importDER(s,d)||(l(s.r&&s.s,"Signature without r or s"),this.r=new m(s.r,16),this.s=new m(s.s,16),s.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=s.recoveryParam)}function e(){this.place=0}function t(s,d){var u=s[d.place++];if(!(128&u))return u;var c=15&u;if(c===0||c>4)return!1;for(var f=0,h=0,w=d.place;h<c;h++,w++)f<<=8,f|=s[w],f>>>=0;return!(f<=127)&&(d.place=w,f)}function a(s){for(var d=0,u=s.length-1;!s[d]&&!(128&s[d+1])&&d<u;)d++;return d===0?s:s.slice(d)}function r(s,d){if(d<128)s.push(d);else{var u=1+(Math.log(d)/Math.LN2>>>3);for(s.push(128|u);--u;)s.push(d>>>(u<<3)&255);s.push(d)}}T.exports=n,n.prototype._importDER=function(s,d){s=o.toArray(s,d);var u=new e;if(s[u.place++]!==48)return!1;var c=t(s,u);if(c===!1||c+u.place!==s.length||s[u.place++]!==2)return!1;var f=t(s,u);if(f===!1)return!1;var h=s.slice(u.place,f+u.place);if(u.place+=f,s[u.place++]!==2)return!1;var w=t(s,u);if(w===!1||s.length!==w+u.place)return!1;var k=s.slice(u.place,w+u.place);if(h[0]===0){if(!(128&h[1]))return!1;h=h.slice(1)}if(k[0]===0){if(!(128&k[1]))return!1;k=k.slice(1)}return this.r=new m(h),this.s=new m(k),this.recoveryParam=null,!0},n.prototype.toDER=function(s){var d=this.r.toArray(),u=this.s.toArray();for(128&d[0]&&(d=[0].concat(d)),128&u[0]&&(u=[0].concat(u)),d=a(d),u=a(u);!(u[0]||128&u[1]);)u=u.slice(1);var c=[2];r(c,d.length),(c=c.concat(d)).push(2),r(c,u.length);var f=c.concat(u),h=[48];return r(h,f.length),h=h.concat(f),o.encode(h,s)}},{"../utils":419,"bn.js":420}],415:[function(i,T,S){var m=i("hash.js"),o=i("../curves"),l=i("../utils"),n=l.assert,e=l.parseBytes,t=i("./key"),a=i("./signature");function r(s){if(n(s==="ed25519","only tested with ed25519 so far"),!(this instanceof r))return new r(s);s=o[s].curve,this.curve=s,this.g=s.g,this.g.precompute(s.n.bitLength()+1),this.pointClass=s.point().constructor,this.encodingLength=Math.ceil(s.n.bitLength()/8),this.hash=m.sha512}T.exports=r,r.prototype.sign=function(s,d){s=e(s);var u=this.keyFromSecret(d),c=this.hashInt(u.messagePrefix(),s),f=this.g.mul(c),h=this.encodePoint(f),w=this.hashInt(h,u.pubBytes(),s).mul(u.priv()),k=c.add(w).umod(this.curve.n);return this.makeSignature({R:f,S:k,Rencoded:h})},r.prototype.verify=function(s,d,u){s=e(s),d=this.makeSignature(d);var c=this.keyFromPublic(u),f=this.hashInt(d.Rencoded(),c.pubBytes(),s),h=this.g.mul(d.S());return d.R().add(c.pub().mul(f)).eq(h)},r.prototype.hashInt=function(){for(var s=this.hash(),d=0;d<arguments.length;d++)s.update(arguments[d]);return l.intFromLE(s.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(s){return t.fromPublic(this,s)},r.prototype.keyFromSecret=function(s){return t.fromSecret(this,s)},r.prototype.makeSignature=function(s){return s instanceof a?s:new a(this,s)},r.prototype.encodePoint=function(s){var d=s.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=s.getX().isOdd()?128:0,d},r.prototype.decodePoint=function(s){var d=(s=l.parseBytes(s)).length-1,u=s.slice(0,d).concat(-129&s[d]),c=(128&s[d])!=0,f=l.intFromLE(u);return this.curve.pointFromY(f,c)},r.prototype.encodeInt=function(s){return s.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(s){return l.intFromLE(s)},r.prototype.isPoint=function(s){return s instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(i,T,S){var m=i("../utils"),o=m.assert,l=m.parseBytes,n=m.cachedProperty;function e(t,a){this.eddsa=t,this._secret=l(a.secret),t.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=l(a.pub)}e.fromPublic=function(t,a){return a instanceof e?a:new e(t,{pub:a})},e.fromSecret=function(t,a){return a instanceof e?a:new e(t,{secret:a})},e.prototype.secret=function(){return this._secret},n(e,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(e,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(e,"privBytes",function(){var t=this.eddsa,a=this.hash(),r=t.encodingLength-1,s=a.slice(0,t.encodingLength);return s[0]&=248,s[r]&=127,s[r]|=64,s}),n(e,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(e,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(e,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),e.prototype.sign=function(t){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},e.prototype.verify=function(t,a){return this.eddsa.verify(t,a,this)},e.prototype.getSecret=function(t){return o(this._secret,"KeyPair is public only"),m.encode(this.secret(),t)},e.prototype.getPublic=function(t){return m.encode(this.pubBytes(),t)},T.exports=e},{"../utils":419}],417:[function(i,T,S){var m=i("bn.js"),o=i("../utils"),l=o.assert,n=o.cachedProperty,e=o.parseBytes;function t(a,r){this.eddsa=a,typeof r!="object"&&(r=e(r)),Array.isArray(r)&&(r={R:r.slice(0,a.encodingLength),S:r.slice(a.encodingLength)}),l(r.R&&r.S,"Signature without R or S"),a.isPoint(r.R)&&(this._R=r.R),r.S instanceof m&&(this._S=r.S),this._Rencoded=Array.isArray(r.R)?r.R:r.Rencoded,this._Sencoded=Array.isArray(r.S)?r.S:r.Sencoded}n(t,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(t,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(t,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(t,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),t.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},t.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},T.exports=t},{"../utils":419,"bn.js":420}],418:[function(i,T,S){T.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(i,T,S){var m=S,o=i("bn.js"),l=i("minimalistic-assert"),n=i("minimalistic-crypto-utils");m.assert=l,m.toArray=n.toArray,m.zero2=n.zero2,m.toHex=n.toHex,m.encode=n.encode,m.getNAF=function(e,t,a){var r=new Array(Math.max(e.bitLength(),a)+1);r.fill(0);for(var s=1<<t+1,d=e.clone(),u=0;u<r.length;u++){var c,f=d.andln(s-1);d.isOdd()?(c=f>(s>>1)-1?(s>>1)-f:f,d.isubn(c)):c=0,r[u]=c,d.iushrn(1)}return r},m.getJSF=function(e,t){var a=[[],[]];e=e.clone(),t=t.clone();for(var r,s=0,d=0;e.cmpn(-s)>0||t.cmpn(-d)>0;){var u,c,f=e.andln(3)+s&3,h=t.andln(3)+d&3;f===3&&(f=-1),h===3&&(h=-1),u=1&f?(r=e.andln(7)+s&7)!==3&&r!==5||h!==2?f:-f:0,a[0].push(u),c=1&h?(r=t.andln(7)+d&7)!==3&&r!==5||f!==2?h:-h:0,a[1].push(c),2*s===u+1&&(s=1-s),2*d===c+1&&(d=1-d),e.iushrn(1),t.iushrn(1)}return a},m.cachedProperty=function(e,t,a){var r="_"+t;e.prototype[t]=function(){return this[r]!==void 0?this[r]:this[r]=a.call(this)}},m.parseBytes=function(e){return typeof e=="string"?m.toArray(e,"hex"):e},m.intFromLE=function(e){return new o(e,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(i,T,S){arguments[4][184][0].apply(S,arguments)},{buffer:188,dup:184}],421:[function(i,T,S){T.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(i,T,S){var m=Object.create||function(D){var P=function(){};return P.prototype=D,new P},o=Object.keys||function(D){var P=[];for(var R in D)Object.prototype.hasOwnProperty.call(D,R)&&P.push(R);return R},l=Function.prototype.bind||function(D){var P=this;return function(){return P.apply(D,arguments)}};function n(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=m(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}T.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0;var e,t=10;try{var a={};Object.defineProperty&&Object.defineProperty(a,"x",{value:0}),e=a.x===0}catch{e=!1}function r(D){return D._maxListeners===void 0?n.defaultMaxListeners:D._maxListeners}function s(D,P,R){if(P)D.call(R);else for(var H=D.length,N=$(D,H),_=0;_<H;++_)N[_].call(R)}function d(D,P,R,H){if(P)D.call(R,H);else for(var N=D.length,_=$(D,N),C=0;C<N;++C)_[C].call(R,H)}function u(D,P,R,H,N){if(P)D.call(R,H,N);else for(var _=D.length,C=$(D,_),v=0;v<_;++v)C[v].call(R,H,N)}function c(D,P,R,H,N,_){if(P)D.call(R,H,N,_);else for(var C=D.length,v=$(D,C),p=0;p<C;++p)v[p].call(R,H,N,_)}function f(D,P,R,H){if(P)D.apply(R,H);else for(var N=D.length,_=$(D,N),C=0;C<N;++C)_[C].apply(R,H)}function h(D,P,R,H){var N,_,C;if(typeof R!="function")throw new TypeError('"listener" argument must be a function');if((_=D._events)?(_.newListener&&(D.emit("newListener",P,R.listener?R.listener:R),_=D._events),C=_[P]):(_=D._events=m(null),D._eventsCount=0),C){if(typeof C=="function"?C=_[P]=H?[R,C]:[C,R]:H?C.unshift(R):C.push(R),!C.warned&&(N=r(D))&&N>0&&C.length>N){C.warned=!0;var v=new Error("Possible EventEmitter memory leak detected. "+C.length+' "'+String(P)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');v.name="MaxListenersExceededWarning",v.emitter=D,v.type=P,v.count=C.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",v.name,v.message)}}else C=_[P]=R,++D._eventsCount;return D}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var D=new Array(arguments.length),P=0;P<D.length;++P)D[P]=arguments[P];this.listener.apply(this.target,D)}}function k(D,P,R){var H={fired:!1,wrapFn:void 0,target:D,type:P,listener:R},N=l.call(w,H);return N.listener=R,H.wrapFn=N,N}function E(D,P,R){var H=D._events;if(!H)return[];var N=H[P];return N?typeof N=="function"?R?[N.listener||N]:[N]:R?function(_){for(var C=new Array(_.length),v=0;v<C.length;++v)C[v]=_[v].listener||_[v];return C}(N):$(N,N.length):[]}function j(D){var P=this._events;if(P){var R=P[D];if(typeof R=="function")return 1;if(R)return R.length}return 0}function $(D,P){for(var R=new Array(P),H=0;H<P;++H)R[H]=D[H];return R}e?Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(D){if(typeof D!="number"||D<0||D!=D)throw new TypeError('"defaultMaxListeners" must be a positive number');t=D}}):n.defaultMaxListeners=t,n.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this},n.prototype.getMaxListeners=function(){return r(this)},n.prototype.emit=function(D){var P,R,H,N,_,C,v=D==="error";if(C=this._events)v=v&&C.error==null;else if(!v)return!1;if(v){if(arguments.length>1&&(P=arguments[1]),P instanceof Error)throw P;var p=new Error('Unhandled "error" event. ('+P+")");throw p.context=P,p}if(!(R=C[D]))return!1;var b=typeof R=="function";switch(H=arguments.length){case 1:s(R,b,this);break;case 2:d(R,b,this,arguments[1]);break;case 3:u(R,b,this,arguments[1],arguments[2]);break;case 4:c(R,b,this,arguments[1],arguments[2],arguments[3]);break;default:for(N=new Array(H-1),_=1;_<H;_++)N[_-1]=arguments[_];f(R,b,this,N)}return!0},n.prototype.addListener=function(D,P){return h(this,D,P,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(D,P){return h(this,D,P,!0)},n.prototype.once=function(D,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.on(D,k(this,D,P)),this},n.prototype.prependOnceListener=function(D,P){if(typeof P!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(D,k(this,D,P)),this},n.prototype.removeListener=function(D,P){var R,H,N,_,C;if(typeof P!="function")throw new TypeError('"listener" argument must be a function');if(!(H=this._events))return this;if(!(R=H[D]))return this;if(R===P||R.listener===P)--this._eventsCount==0?this._events=m(null):(delete H[D],H.removeListener&&this.emit("removeListener",D,R.listener||P));else if(typeof R!="function"){for(N=-1,_=R.length-1;_>=0;_--)if(R[_]===P||R[_].listener===P){C=R[_].listener,N=_;break}if(N<0)return this;N===0?R.shift():function(v,p){for(var b=p,g=b+1,y=v.length;g<y;b+=1,g+=1)v[b]=v[g];v.pop()}(R,N),R.length===1&&(H[D]=R[0]),H.removeListener&&this.emit("removeListener",D,C||P)}return this},n.prototype.removeAllListeners=function(D){var P,R,H;if(!(R=this._events))return this;if(!R.removeListener)return arguments.length===0?(this._events=m(null),this._eventsCount=0):R[D]&&(--this._eventsCount==0?this._events=m(null):delete R[D]),this;if(arguments.length===0){var N,_=o(R);for(H=0;H<_.length;++H)(N=_[H])!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=m(null),this._eventsCount=0,this}if(typeof(P=R[D])=="function")this.removeListener(D,P);else if(P)for(H=P.length-1;H>=0;H--)this.removeListener(D,P[H]);return this},n.prototype.listeners=function(D){return E(this,D,!0)},n.prototype.rawListeners=function(D){return E(this,D,!1)},n.listenerCount=function(D,P){return typeof D.listenerCount=="function"?D.listenerCount(P):j.call(D,P)},n.prototype.listenerCount=j,n.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(i,T,S){var m=i("safe-buffer").Buffer,o=i("md5.js");T.exports=function(l,n,e,t){if(m.isBuffer(l)||(l=m.from(l,"binary")),n&&(m.isBuffer(n)||(n=m.from(n,"binary")),n.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=e/8,r=m.alloc(a),s=m.alloc(t||0),d=m.alloc(0);a>0||t>0;){var u=new o;u.update(d),u.update(l),n&&u.update(n),d=u.digest();var c=0;if(a>0){var f=r.length-a;c=Math.min(a,d.length),d.copy(r,f,0,c),a-=c}if(c<d.length&&t>0){var h=s.length-t,w=Math.min(t,d.length-c);d.copy(s,h,c,c+w),t-=w}}return d.fill(0),{key:r,iv:s}}},{"md5.js":450,"safe-buffer":494}],424:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.CsvParserStream=S.ParserOptions=S.parseFile=S.parseStream=S.parseString=S.parse=S.FormatterOptions=S.CsvFormatterStream=S.writeToPath=S.writeToString=S.writeToBuffer=S.writeToStream=S.write=S.format=void 0;var m=i("@fast-csv/format");Object.defineProperty(S,"format",{enumerable:!0,get:function(){return m.format}}),Object.defineProperty(S,"write",{enumerable:!0,get:function(){return m.write}}),Object.defineProperty(S,"writeToStream",{enumerable:!0,get:function(){return m.writeToStream}}),Object.defineProperty(S,"writeToBuffer",{enumerable:!0,get:function(){return m.writeToBuffer}}),Object.defineProperty(S,"writeToString",{enumerable:!0,get:function(){return m.writeToString}}),Object.defineProperty(S,"writeToPath",{enumerable:!0,get:function(){return m.writeToPath}}),Object.defineProperty(S,"CsvFormatterStream",{enumerable:!0,get:function(){return m.CsvFormatterStream}}),Object.defineProperty(S,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}});var o=i("@fast-csv/parse");Object.defineProperty(S,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(S,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(S,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(S,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(S,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(S,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(i,T,S){var m=i("safe-buffer").Buffer,o=i("readable-stream").Transform;function l(n){o.call(this),this._block=m.allocUnsafe(n),this._blockSize=n,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}i("inherits")(l,o),l.prototype._transform=function(n,e,t){var a=null;try{this.update(n,e)}catch(r){a=r}t(a)},l.prototype._flush=function(n){var e=null;try{this.push(this.digest())}catch(t){e=t}n(e)},l.prototype.update=function(n,e){if(function(u,c){if(!m.isBuffer(u)&&typeof u!="string")throw new TypeError(c+" must be a string or a buffer")}(n,"Data"),this._finalized)throw new Error("Digest already called");m.isBuffer(n)||(n=m.from(n,e));for(var t=this._block,a=0;this._blockOffset+n.length-a>=this._blockSize;){for(var r=this._blockOffset;r<this._blockSize;)t[r++]=n[a++];this._update(),this._blockOffset=0}for(;a<n.length;)t[this._blockOffset++]=n[a++];for(var s=0,d=8*n.length;d>0;++s)this._length[s]+=d,(d=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*d);return this},l.prototype._update=function(){throw new Error("_update is not implemented")},l.prototype.digest=function(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();n!==void 0&&(e=e.toString(n)),this._block.fill(0),this._blockOffset=0;for(var t=0;t<4;++t)this._length[t]=0;return e},l.prototype._digest=function(){throw new Error("_digest is not implemented")},T.exports=l},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(i,T,S){var m=S;m.utils=i("./hash/utils"),m.common=i("./hash/common"),m.sha=i("./hash/sha"),m.ripemd=i("./hash/ripemd"),m.hmac=i("./hash/hmac"),m.sha1=m.sha.sha1,m.sha256=m.sha.sha256,m.sha224=m.sha.sha224,m.sha384=m.sha.sha384,m.sha512=m.sha.sha512,m.ripemd160=m.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(i,T,S){var m=i("./utils"),o=i("minimalistic-assert");function l(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}S.BlockHash=l,l.prototype.update=function(n,e){if(n=m.toArray(n,e),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){var t=(n=this.pending).length%this._delta8;this.pending=n.slice(n.length-t,n.length),this.pending.length===0&&(this.pending=null),n=m.join32(n,0,n.length-t,this.endian);for(var a=0;a<n.length;a+=this._delta32)this._update(n,a,a+this._delta32)}return this},l.prototype.digest=function(n){return this.update(this._pad()),o(this.pending===null),this._digest(n)},l.prototype._pad=function(){var n=this.pendingTotal,e=this._delta8,t=e-(n+this.padLength)%e,a=new Array(t+this.padLength);a[0]=128;for(var r=1;r<t;r++)a[r]=0;if(n<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)a[r++]=0;a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=n>>>24&255,a[r++]=n>>>16&255,a[r++]=n>>>8&255,a[r++]=255&n}else for(a[r++]=255&n,a[r++]=n>>>8&255,a[r++]=n>>>16&255,a[r++]=n>>>24&255,a[r++]=0,a[r++]=0,a[r++]=0,a[r++]=0,s=8;s<this.padLength;s++)a[r++]=0;return a}},{"./utils":437,"minimalistic-assert":453}],428:[function(i,T,S){var m=i("./utils"),o=i("minimalistic-assert");function l(n,e,t){if(!(this instanceof l))return new l(n,e,t);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(m.toArray(e,t))}T.exports=l,l.prototype._init=function(n){n.length>this.blockSize&&(n=new this.Hash().update(n).digest()),o(n.length<=this.blockSize);for(var e=n.length;e<this.blockSize;e++)n.push(0);for(e=0;e<n.length;e++)n[e]^=54;for(this.inner=new this.Hash().update(n),e=0;e<n.length;e++)n[e]^=106;this.outer=new this.Hash().update(n)},l.prototype.update=function(n,e){return this.inner.update(n,e),this},l.prototype.digest=function(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)}},{"./utils":437,"minimalistic-assert":453}],429:[function(i,T,S){var m=i("./utils"),o=i("./common"),l=m.rotl32,n=m.sum32,e=m.sum32_3,t=m.sum32_4,a=o.BlockHash;function r(){if(!(this instanceof r))return new r;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function s(k,E,j,$){return k<=15?E^j^$:k<=31?E&j|~E&$:k<=47?(E|~j)^$:k<=63?E&$|j&~$:E^(j|~$)}function d(k){return k<=15?0:k<=31?1518500249:k<=47?1859775393:k<=63?2400959708:2840853838}function u(k){return k<=15?1352829926:k<=31?1548603684:k<=47?1836072691:k<=63?2053994217:0}m.inherits(r,a),S.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(k,E){for(var j=this.h[0],$=this.h[1],D=this.h[2],P=this.h[3],R=this.h[4],H=j,N=$,_=D,C=P,v=R,p=0;p<80;p++){var b=n(l(t(j,s(p,$,D,P),k[c[p]+E],d(p)),h[p]),R);j=R,R=P,P=l(D,10),D=$,$=b,b=n(l(t(H,s(79-p,N,_,C),k[f[p]+E],u(p)),w[p]),v),H=v,v=C,C=l(_,10),_=N,N=b}b=e(this.h[1],D,C),this.h[1]=e(this.h[2],P,v),this.h[2]=e(this.h[3],R,H),this.h[3]=e(this.h[4],j,N),this.h[4]=e(this.h[0],$,_),this.h[0]=b},r.prototype._digest=function(k){return k==="hex"?m.toHex32(this.h,"little"):m.split32(this.h,"little")};var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(i,T,S){S.sha1=i("./sha/1"),S.sha224=i("./sha/224"),S.sha256=i("./sha/256"),S.sha384=i("./sha/384"),S.sha512=i("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(i,T,S){var m=i("../utils"),o=i("../common"),l=i("./common"),n=m.rotl32,e=m.sum32,t=m.sum32_5,a=l.ft_1,r=o.BlockHash,s=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;r.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}m.inherits(d,r),T.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(u,c){for(var f=this.W,h=0;h<16;h++)f[h]=u[c+h];for(;h<f.length;h++)f[h]=n(f[h-3]^f[h-8]^f[h-14]^f[h-16],1);var w=this.h[0],k=this.h[1],E=this.h[2],j=this.h[3],$=this.h[4];for(h=0;h<f.length;h++){var D=~~(h/20),P=t(n(w,5),a(D,k,E,j),$,f[h],s[D]);$=j,j=E,E=n(k,30),k=w,w=P}this.h[0]=e(this.h[0],w),this.h[1]=e(this.h[1],k),this.h[2]=e(this.h[2],E),this.h[3]=e(this.h[3],j),this.h[4]=e(this.h[4],$)},d.prototype._digest=function(u){return u==="hex"?m.toHex32(this.h,"big"):m.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(i,T,S){var m=i("../utils"),o=i("./256");function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}m.inherits(l,o),T.exports=l,l.blockSize=512,l.outSize=224,l.hmacStrength=192,l.padLength=64,l.prototype._digest=function(n){return n==="hex"?m.toHex32(this.h.slice(0,7),"big"):m.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(i,T,S){var m=i("../utils"),o=i("../common"),l=i("./common"),n=i("minimalistic-assert"),e=m.sum32,t=m.sum32_4,a=m.sum32_5,r=l.ch32,s=l.maj32,d=l.s0_256,u=l.s1_256,c=l.g0_256,f=l.g1_256,h=o.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function k(){if(!(this instanceof k))return new k;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}m.inherits(k,h),T.exports=k,k.blockSize=512,k.outSize=256,k.hmacStrength=192,k.padLength=64,k.prototype._update=function(E,j){for(var $=this.W,D=0;D<16;D++)$[D]=E[j+D];for(;D<$.length;D++)$[D]=t(f($[D-2]),$[D-7],c($[D-15]),$[D-16]);var P=this.h[0],R=this.h[1],H=this.h[2],N=this.h[3],_=this.h[4],C=this.h[5],v=this.h[6],p=this.h[7];for(n(this.k.length===$.length),D=0;D<$.length;D++){var b=a(p,u(_),r(_,C,v),this.k[D],$[D]),g=e(d(P),s(P,R,H));p=v,v=C,C=_,_=e(N,b),N=H,H=R,R=P,P=e(b,g)}this.h[0]=e(this.h[0],P),this.h[1]=e(this.h[1],R),this.h[2]=e(this.h[2],H),this.h[3]=e(this.h[3],N),this.h[4]=e(this.h[4],_),this.h[5]=e(this.h[5],C),this.h[6]=e(this.h[6],v),this.h[7]=e(this.h[7],p)},k.prototype._digest=function(E){return E==="hex"?m.toHex32(this.h,"big"):m.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(i,T,S){var m=i("../utils"),o=i("./512");function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}m.inherits(l,o),T.exports=l,l.blockSize=1024,l.outSize=384,l.hmacStrength=192,l.padLength=128,l.prototype._digest=function(n){return n==="hex"?m.toHex32(this.h.slice(0,12),"big"):m.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(i,T,S){var m=i("../utils"),o=i("../common"),l=i("minimalistic-assert"),n=m.rotr64_hi,e=m.rotr64_lo,t=m.shr64_hi,a=m.shr64_lo,r=m.sum64,s=m.sum64_hi,d=m.sum64_lo,u=m.sum64_4_hi,c=m.sum64_4_lo,f=m.sum64_5_hi,h=m.sum64_5_lo,w=o.BlockHash,k=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=k,this.W=new Array(160)}function j(g,y,x,M,F){var q=g&x^~g&F;return q<0&&(q+=4294967296),q}function $(g,y,x,M,F,q){var U=y&M^~y&q;return U<0&&(U+=4294967296),U}function D(g,y,x,M,F){var q=g&x^g&F^x&F;return q<0&&(q+=4294967296),q}function P(g,y,x,M,F,q){var U=y&M^y&q^M&q;return U<0&&(U+=4294967296),U}function R(g,y){var x=n(g,y,28)^n(y,g,2)^n(y,g,7);return x<0&&(x+=4294967296),x}function H(g,y){var x=e(g,y,28)^e(y,g,2)^e(y,g,7);return x<0&&(x+=4294967296),x}function N(g,y){var x=n(g,y,14)^n(g,y,18)^n(y,g,9);return x<0&&(x+=4294967296),x}function _(g,y){var x=e(g,y,14)^e(g,y,18)^e(y,g,9);return x<0&&(x+=4294967296),x}function C(g,y){var x=n(g,y,1)^n(g,y,8)^t(g,y,7);return x<0&&(x+=4294967296),x}function v(g,y){var x=e(g,y,1)^e(g,y,8)^a(g,y,7);return x<0&&(x+=4294967296),x}function p(g,y){var x=n(g,y,19)^n(y,g,29)^t(g,y,6);return x<0&&(x+=4294967296),x}function b(g,y){var x=e(g,y,19)^e(y,g,29)^a(g,y,6);return x<0&&(x+=4294967296),x}m.inherits(E,w),T.exports=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(g,y){for(var x=this.W,M=0;M<32;M++)x[M]=g[y+M];for(;M<x.length;M+=2){var F=p(x[M-4],x[M-3]),q=b(x[M-4],x[M-3]),U=x[M-14],Y=x[M-13],B=C(x[M-30],x[M-29]),W=v(x[M-30],x[M-29]),I=x[M-32],A=x[M-31];x[M]=u(F,q,U,Y,B,W,I,A),x[M+1]=c(F,q,U,Y,B,W,I,A)}},E.prototype._update=function(g,y){this._prepareBlock(g,y);var x=this.W,M=this.h[0],F=this.h[1],q=this.h[2],U=this.h[3],Y=this.h[4],B=this.h[5],W=this.h[6],I=this.h[7],A=this.h[8],z=this.h[9],V=this.h[10],Z=this.h[11],X=this.h[12],K=this.h[13],ie=this.h[14],ne=this.h[15];l(this.k.length===x.length);for(var G=0;G<x.length;G+=2){var ee=ie,J=ne,te=N(A,z),se=_(A,z),ae=j(A,z,V,Z,X),de=$(A,z,V,Z,X,K),he=this.k[G],ve=this.k[G+1],Se=x[G],Te=x[G+1],ke=f(ee,J,te,se,ae,de,he,ve,Se,Te),Be=h(ee,J,te,se,ae,de,he,ve,Se,Te);ee=R(M,F),J=H(M,F),te=D(M,F,q,U,Y),se=P(M,F,q,U,Y,B);var re=s(ee,J,te,se),pe=d(ee,J,te,se);ie=X,ne=K,X=V,K=Z,V=A,Z=z,A=s(W,I,ke,Be),z=d(I,I,ke,Be),W=Y,I=B,Y=q,B=U,q=M,U=F,M=s(ke,Be,re,pe),F=d(ke,Be,re,pe)}r(this.h,0,M,F),r(this.h,2,q,U),r(this.h,4,Y,B),r(this.h,6,W,I),r(this.h,8,A,z),r(this.h,10,V,Z),r(this.h,12,X,K),r(this.h,14,ie,ne)},E.prototype._digest=function(g){return g==="hex"?m.toHex32(this.h,"big"):m.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(i,T,S){var m=i("../utils").rotr32;function o(e,t,a){return e&t^~e&a}function l(e,t,a){return e&t^e&a^t&a}function n(e,t,a){return e^t^a}S.ft_1=function(e,t,a,r){return e===0?o(t,a,r):e===1||e===3?n(t,a,r):e===2?l(t,a,r):void 0},S.ch32=o,S.maj32=l,S.p32=n,S.s0_256=function(e){return m(e,2)^m(e,13)^m(e,22)},S.s1_256=function(e){return m(e,6)^m(e,11)^m(e,25)},S.g0_256=function(e){return m(e,7)^m(e,18)^e>>>3},S.g1_256=function(e){return m(e,17)^m(e,19)^e>>>10}},{"../utils":437}],437:[function(i,T,S){var m=i("minimalistic-assert"),o=i("inherits");function l(a,r){return(64512&a.charCodeAt(r))==55296&&!(r<0||r+1>=a.length)&&(64512&a.charCodeAt(r+1))==56320}function n(a){return(a>>>24|a>>>8&65280|a<<8&16711680|(255&a)<<24)>>>0}function e(a){return a.length===1?"0"+a:a}function t(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}S.inherits=o,S.toArray=function(a,r){if(Array.isArray(a))return a.slice();if(!a)return[];var s=[];if(typeof a=="string")if(r){if(r==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),u=0;u<a.length;u+=2)s.push(parseInt(a[u]+a[u+1],16))}else for(var d=0,u=0;u<a.length;u++){var c=a.charCodeAt(u);c<128?s[d++]=c:c<2048?(s[d++]=c>>6|192,s[d++]=63&c|128):l(a,u)?(c=65536+((1023&c)<<10)+(1023&a.charCodeAt(++u)),s[d++]=c>>18|240,s[d++]=c>>12&63|128,s[d++]=c>>6&63|128,s[d++]=63&c|128):(s[d++]=c>>12|224,s[d++]=c>>6&63|128,s[d++]=63&c|128)}else for(u=0;u<a.length;u++)s[u]=0|a[u];return s},S.toHex=function(a){for(var r="",s=0;s<a.length;s++)r+=e(a[s].toString(16));return r},S.htonl=n,S.toHex32=function(a,r){for(var s="",d=0;d<a.length;d++){var u=a[d];r==="little"&&(u=n(u)),s+=t(u.toString(16))}return s},S.zero2=e,S.zero8=t,S.join32=function(a,r,s,d){var u=s-r;m(u%4==0);for(var c=new Array(u/4),f=0,h=r;f<c.length;f++,h+=4){var w;w=d==="big"?a[h]<<24|a[h+1]<<16|a[h+2]<<8|a[h+3]:a[h+3]<<24|a[h+2]<<16|a[h+1]<<8|a[h],c[f]=w>>>0}return c},S.split32=function(a,r){for(var s=new Array(4*a.length),d=0,u=0;d<a.length;d++,u+=4){var c=a[d];r==="big"?(s[u]=c>>>24,s[u+1]=c>>>16&255,s[u+2]=c>>>8&255,s[u+3]=255&c):(s[u+3]=c>>>24,s[u+2]=c>>>16&255,s[u+1]=c>>>8&255,s[u]=255&c)}return s},S.rotr32=function(a,r){return a>>>r|a<<32-r},S.rotl32=function(a,r){return a<<r|a>>>32-r},S.sum32=function(a,r){return a+r>>>0},S.sum32_3=function(a,r,s){return a+r+s>>>0},S.sum32_4=function(a,r,s,d){return a+r+s+d>>>0},S.sum32_5=function(a,r,s,d,u){return a+r+s+d+u>>>0},S.sum64=function(a,r,s,d){var u=a[r],c=d+a[r+1]>>>0,f=(c<d?1:0)+s+u;a[r]=f>>>0,a[r+1]=c},S.sum64_hi=function(a,r,s,d){return(r+d>>>0<r?1:0)+a+s>>>0},S.sum64_lo=function(a,r,s,d){return r+d>>>0},S.sum64_4_hi=function(a,r,s,d,u,c,f,h){var w=0,k=r;return w+=(k=k+d>>>0)<r?1:0,w+=(k=k+c>>>0)<c?1:0,a+s+u+f+(w+=(k=k+h>>>0)<h?1:0)>>>0},S.sum64_4_lo=function(a,r,s,d,u,c,f,h){return r+d+c+h>>>0},S.sum64_5_hi=function(a,r,s,d,u,c,f,h,w,k){var E=0,j=r;return E+=(j=j+d>>>0)<r?1:0,E+=(j=j+c>>>0)<c?1:0,E+=(j=j+h>>>0)<h?1:0,a+s+u+f+w+(E+=(j=j+k>>>0)<k?1:0)>>>0},S.sum64_5_lo=function(a,r,s,d,u,c,f,h,w,k){return r+d+c+h+k>>>0},S.rotr64_hi=function(a,r,s){return(r<<32-s|a>>>s)>>>0},S.rotr64_lo=function(a,r,s){return(a<<32-s|r>>>s)>>>0},S.shr64_hi=function(a,r,s){return a>>>s},S.shr64_lo=function(a,r,s){return(a<<32-s|r>>>s)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(i,T,S){var m=i("hash.js"),o=i("minimalistic-crypto-utils"),l=i("minimalistic-assert");function n(e){if(!(this instanceof n))return new n(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),a=o.toArray(e.nonce,e.nonceEnc||"hex"),r=o.toArray(e.pers,e.persEnc||"hex");l(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,a,r)}T.exports=n,n.prototype._init=function(e,t,a){var r=e.concat(t).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new m.hmac(this.hash,this.K)},n.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(e,t,a,r){typeof t!="string"&&(r=a,a=t,t=null),e=o.toArray(e,t),a=o.toArray(a,r),l(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(a||[])),this._reseed=1},n.prototype.generate=function(e,t,a,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(r=a,a=t,t=null),a&&(a=o.toArray(a,r||"hex"),this._update(a));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var d=s.slice(0,e);return this._update(a),this._reseed++,o.encode(d,t)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(i,T,S){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */S.read=function(m,o,l,n,e){var t,a,r=8*e-n-1,s=(1<<r)-1,d=s>>1,u=-7,c=l?e-1:0,f=l?-1:1,h=m[o+c];for(c+=f,t=h&(1<<-u)-1,h>>=-u,u+=r;u>0;t=256*t+m[o+c],c+=f,u-=8);for(a=t&(1<<-u)-1,t>>=-u,u+=n;u>0;a=256*a+m[o+c],c+=f,u-=8);if(t===0)t=1-d;else{if(t===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),t-=d}return(h?-1:1)*a*Math.pow(2,t-n)},S.write=function(m,o,l,n,e,t){var a,r,s,d=8*t-e-1,u=(1<<d)-1,c=u>>1,f=e===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:t-1,w=n?1:-1,k=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(r=isNaN(o)?1:0,a=u):(a=Math.floor(Math.log(o)/Math.LN2),o*(s=Math.pow(2,-a))<1&&(a--,s*=2),(o+=a+c>=1?f/s:f*Math.pow(2,1-c))*s>=2&&(a++,s/=2),a+c>=u?(r=0,a=u):a+c>=1?(r=(o*s-1)*Math.pow(2,e),a+=c):(r=o*Math.pow(2,c-1)*Math.pow(2,e),a=0));e>=8;m[l+h]=255&r,h+=w,r/=256,e-=8);for(a=a<<e|r,d+=e;d>0;m[l+h]=255&a,h+=w,a/=256,d-=8);m[l+h-w]|=128*k}},{}],440:[function(i,T,S){typeof Object.create=="function"?T.exports=function(m,o){o&&(m.super_=o,m.prototype=Object.create(o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}))}:T.exports=function(m,o){if(o){m.super_=o;var l=function(){};l.prototype=o.prototype,m.prototype=new l,m.prototype.constructor=m}}},{}],441:[function(i,T,S){(function(m,o,l,n,e,t,a,r){(function(){/*!

  	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  	<http://stuartk.com/jszip>

  	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

  	JSZip uses the library pako released under the MIT license :
  	https://github.com/nodeca/pako/blob/main/LICENSE
  	*/(function(s){typeof S=="object"&&T!==void 0?T.exports=s():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=s()})(function(){return function s(d,u,c){function f(k,E){if(!u[k]){if(!d[k]){var j=typeof i=="function"&&i;if(!E&&j)return j(k,!0);if(h)return h(k,!0);var $=new Error("Cannot find module '"+k+"'");throw $.code="MODULE_NOT_FOUND",$}var D=u[k]={exports:{}};d[k][0].call(D.exports,function(P){return f(d[k][1][P]||P)},D,D.exports,s,d,u,c)}return u[k].exports}for(var h=typeof i=="function"&&i,w=0;w<c.length;w++)f(c[w]);return f}({1:[function(s,d,u){var c=s("./utils"),f=s("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";u.encode=function(w){for(var k,E,j,$,D,P,R,H=[],N=0,_=w.length,C=_,v=c.getTypeOf(w)!=="string";N<w.length;)C=_-N,j=v?(k=w[N++],E=N<_?w[N++]:0,N<_?w[N++]:0):(k=w.charCodeAt(N++),E=N<_?w.charCodeAt(N++):0,N<_?w.charCodeAt(N++):0),$=k>>2,D=(3&k)<<4|E>>4,P=1<C?(15&E)<<2|j>>6:64,R=2<C?63&j:64,H.push(h.charAt($)+h.charAt(D)+h.charAt(P)+h.charAt(R));return H.join("")},u.decode=function(w){var k,E,j,$,D,P,R=0,H=0,N="data:";if(w.substr(0,N.length)===N)throw new Error("Invalid base64 input, it looks like a data url.");var _,C=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===h.charAt(64)&&C--,w.charAt(w.length-2)===h.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=f.uint8array?new Uint8Array(0|C):new Array(0|C);R<w.length;)k=h.indexOf(w.charAt(R++))<<2|($=h.indexOf(w.charAt(R++)))>>4,E=(15&$)<<4|(D=h.indexOf(w.charAt(R++)))>>2,j=(3&D)<<6|(P=h.indexOf(w.charAt(R++))),_[H++]=k,D!==64&&(_[H++]=E),P!==64&&(_[H++]=j);return _}},{"./support":30,"./utils":32}],2:[function(s,d,u){var c=s("./external"),f=s("./stream/DataWorker"),h=s("./stream/Crc32Probe"),w=s("./stream/DataLengthProbe");function k(E,j,$,D,P){this.compressedSize=E,this.uncompressedSize=j,this.crc32=$,this.compression=D,this.compressedContent=P}k.prototype={getContentWorker:function(){var E=new f(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),j=this;return E.on("end",function(){if(this.streamInfo.data_length!==j.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),E},getCompressedWorker:function(){return new f(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},k.createWorkerFrom=function(E,j,$){return E.pipe(new h).pipe(new w("uncompressedSize")).pipe(j.compressWorker($)).pipe(new w("compressedSize")).withStreamInfo("compression",j)},d.exports=k},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,d,u){var c=s("./stream/GenericWorker");u.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},u.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,d,u){var c=s("./utils"),f=function(){for(var h,w=[],k=0;k<256;k++){h=k;for(var E=0;E<8;E++)h=1&h?3988292384^h>>>1:h>>>1;w[k]=h}return w}();d.exports=function(h,w){return h!==void 0&&h.length?c.getTypeOf(h)!=="string"?function(k,E,j,$){var D=f,P=0+j;k^=-1;for(var R=0;R<P;R++)k=k>>>8^D[255&(k^E[R])];return-1^k}(0|w,h,h.length):function(k,E,j,$){var D=f,P=0+j;k^=-1;for(var R=0;R<P;R++)k=k>>>8^D[255&(k^E.charCodeAt(R))];return-1^k}(0|w,h,h.length):0}},{"./utils":32}],5:[function(s,d,u){u.base64=!1,u.binary=!1,u.dir=!1,u.createFolders=!0,u.date=null,u.compression=null,u.compressionOptions=null,u.comment=null,u.unixPermissions=null,u.dosPermissions=null},{}],6:[function(s,d,u){var c;c=typeof Promise<"u"?Promise:s("lie"),d.exports={Promise:c}},{lie:37}],7:[function(s,d,u){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=s("pako"),h=s("./utils"),w=s("./stream/GenericWorker"),k=c?"uint8array":"array";function E(j,$){w.call(this,"FlateWorker/"+j),this._pako=null,this._pakoAction=j,this._pakoOptions=$,this.meta={}}u.magic="\b\0",h.inherits(E,w),E.prototype.processChunk=function(j){this.meta=j.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(k,j.data),!1)},E.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},E.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},E.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var j=this;this._pako.onData=function($){j.push({data:$,meta:j.meta})}},u.compressWorker=function(j){return new E("Deflate",j)},u.uncompressWorker=function(){return new E("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,d,u){function c(D,P){var R,H="";for(R=0;R<P;R++)H+=String.fromCharCode(255&D),D>>>=8;return H}function f(D,P,R,H,N,_){var C,v,p=D.file,b=D.compression,g=_!==k.utf8encode,y=h.transformTo("string",_(p.name)),x=h.transformTo("string",k.utf8encode(p.name)),M=p.comment,F=h.transformTo("string",_(M)),q=h.transformTo("string",k.utf8encode(M)),U=x.length!==p.name.length,Y=q.length!==M.length,B="",W="",I="",A=p.dir,z=p.date,V={crc32:0,compressedSize:0,uncompressedSize:0};P&&!R||(V.crc32=D.crc32,V.compressedSize=D.compressedSize,V.uncompressedSize=D.uncompressedSize);var Z=0;P&&(Z|=8),g||!U&&!Y||(Z|=2048);var X=0,K=0;A&&(X|=16),N==="UNIX"?(K=798,X|=function(ne,G){var ee=ne;return ne||(ee=G?16893:33204),(65535&ee)<<16}(p.unixPermissions,A)):(K=20,X|=function(ne){return 63&(ne||0)}(p.dosPermissions)),C=z.getUTCHours(),C<<=6,C|=z.getUTCMinutes(),C<<=5,C|=z.getUTCSeconds()/2,v=z.getUTCFullYear()-1980,v<<=4,v|=z.getUTCMonth()+1,v<<=5,v|=z.getUTCDate(),U&&(W=c(1,1)+c(E(y),4)+x,B+="up"+c(W.length,2)+W),Y&&(I=c(1,1)+c(E(F),4)+q,B+="uc"+c(I.length,2)+I);var ie="";return ie+=`
\0`,ie+=c(Z,2),ie+=b.magic,ie+=c(C,2),ie+=c(v,2),ie+=c(V.crc32,4),ie+=c(V.compressedSize,4),ie+=c(V.uncompressedSize,4),ie+=c(y.length,2),ie+=c(B.length,2),{fileRecord:j.LOCAL_FILE_HEADER+ie+y+B,dirRecord:j.CENTRAL_FILE_HEADER+c(K,2)+ie+c(F.length,2)+"\0\0\0\0"+c(X,4)+c(H,4)+y+B+F}}var h=s("../utils"),w=s("../stream/GenericWorker"),k=s("../utf8"),E=s("../crc32"),j=s("../signature");function $(D,P,R,H){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=P,this.zipPlatform=R,this.encodeFileName=H,this.streamFiles=D,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits($,w),$.prototype.push=function(D){var P=D.meta.percent||0,R=this.entriesCount,H=this._sources.length;this.accumulate?this.contentBuffer.push(D):(this.bytesWritten+=D.data.length,w.prototype.push.call(this,{data:D.data,meta:{currentFile:this.currentFile,percent:R?(P+100*(R-H-1))/R:100}}))},$.prototype.openedSource=function(D){this.currentSourceOffset=this.bytesWritten,this.currentFile=D.file.name;var P=this.streamFiles&&!D.file.dir;if(P){var R=f(D,P,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:R.fileRecord,meta:{percent:0}})}else this.accumulate=!0},$.prototype.closedSource=function(D){this.accumulate=!1;var P=this.streamFiles&&!D.file.dir,R=f(D,P,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(R.dirRecord),P)this.push({data:function(H){return j.DATA_DESCRIPTOR+c(H.crc32,4)+c(H.compressedSize,4)+c(H.uncompressedSize,4)}(D),meta:{percent:100}});else for(this.push({data:R.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},$.prototype.flush=function(){for(var D=this.bytesWritten,P=0;P<this.dirRecords.length;P++)this.push({data:this.dirRecords[P],meta:{percent:100}});var R=this.bytesWritten-D,H=function(N,_,C,v,p){var b=h.transformTo("string",p(v));return j.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(N,2)+c(N,2)+c(_,4)+c(C,4)+c(b.length,2)+b}(this.dirRecords.length,R,D,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})},$.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},$.prototype.registerPrevious=function(D){this._sources.push(D);var P=this;return D.on("data",function(R){P.processChunk(R)}),D.on("end",function(){P.closedSource(P.previous.streamInfo),P._sources.length?P.prepareNextSource():P.end()}),D.on("error",function(R){P.error(R)}),this},$.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},$.prototype.error=function(D){var P=this._sources;if(!w.prototype.error.call(this,D))return!1;for(var R=0;R<P.length;R++)try{P[R].error(D)}catch{}return!0},$.prototype.lock=function(){w.prototype.lock.call(this);for(var D=this._sources,P=0;P<D.length;P++)D[P].lock()},d.exports=$},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,d,u){var c=s("../compressions"),f=s("./ZipFileWorker");u.generateWorker=function(h,w,k){var E=new f(w.streamFiles,k,w.platform,w.encodeFileName),j=0;try{h.forEach(function($,D){j++;var P=function(_,C){var v=_||C,p=c[v];if(!p)throw new Error(v+" is not a valid compression method !");return p}(D.options.compression,w.compression),R=D.options.compressionOptions||w.compressionOptions||{},H=D.dir,N=D.date;D._compressWorker(P,R).withStreamInfo("file",{name:$,dir:H,date:N,comment:D.comment||"",unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions}).pipe(E)}),E.entriesCount=j}catch($){E.error($)}return E}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,d,u){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new c;for(var h in this)typeof this[h]!="function"&&(f[h]=this[h]);return f}}(c.prototype=s("./object")).loadAsync=s("./load"),c.support=s("./support"),c.defaults=s("./defaults"),c.version="3.10.1",c.loadAsync=function(f,h){return new c().loadAsync(f,h)},c.external=s("./external"),d.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,d,u){var c=s("./utils"),f=s("./external"),h=s("./utf8"),w=s("./zipEntries"),k=s("./stream/Crc32Probe"),E=s("./nodejsUtils");function j($){return new f.Promise(function(D,P){var R=$.decompressed.getContentWorker().pipe(new k);R.on("error",function(H){P(H)}).on("end",function(){R.streamInfo.crc32!==$.decompressed.crc32?P(new Error("Corrupted zip : CRC32 mismatch")):D()}).resume()})}d.exports=function($,D){var P=this;return D=c.extend(D||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),E.isNode&&E.isStream($)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",$,!0,D.optimizedBinaryString,D.base64).then(function(R){var H=new w(D);return H.load(R),H}).then(function(R){var H=[f.Promise.resolve(R)],N=R.files;if(D.checkCRC32)for(var _=0;_<N.length;_++)H.push(j(N[_]));return f.Promise.all(H)}).then(function(R){for(var H=R.shift(),N=H.files,_=0;_<N.length;_++){var C=N[_],v=C.fileNameStr,p=c.resolve(C.fileNameStr);P.file(p,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:D.createFolders}),C.dir||(P.file(p).unsafeOriginalName=v)}return H.zipComment.length&&(P.comment=H.zipComment),P})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,d,u){var c=s("../utils"),f=s("../stream/GenericWorker");function h(w,k){f.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(k)}c.inherits(h,f),h.prototype._bindStream=function(w){var k=this;(this._stream=w).pause(),w.on("data",function(E){k.push({data:E,meta:{percent:0}})}).on("error",function(E){k.isPaused?this.generatedError=E:k.error(E)}).on("end",function(){k.isPaused?k._upstreamEnded=!0:k.end()})},h.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},d.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,d,u){var c=s("readable-stream").Readable;function f(h,w,k){c.call(this,w),this._helper=h;var E=this;h.on("data",function(j,$){E.push(j)||E._helper.pause(),k&&k($)}).on("error",function(j){E.emit("error",j)}).on("end",function(){E.push(null)})}s("../utils").inherits(f,c),f.prototype._read=function(){this._helper.resume()},d.exports=f},{"../utils":32,"readable-stream":16}],14:[function(s,d,u){d.exports={isNode:l!==void 0,newBufferFrom:function(c,f){if(l.from&&l.from!==Uint8Array.from)return l.from(c,f);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new l(c,f)},allocBuffer:function(c){if(l.alloc)return l.alloc(c);var f=new l(c);return f.fill(0),f},isBuffer:function(c){return l.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(s,d,u){function c(p,b,g){var y,x=h.getTypeOf(b),M=h.extend(g||{},E);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(p=N(p)),M.createFolders&&(y=H(p))&&_.call(this,y,!0);var F=x==="string"&&M.binary===!1&&M.base64===!1;g&&g.binary!==void 0||(M.binary=!F),(b instanceof j&&b.uncompressedSize===0||M.dir||!b||b.length===0)&&(M.base64=!1,M.binary=!0,b="",M.compression="STORE",x="string");var q;q=b instanceof j||b instanceof w?b:P.isNode&&P.isStream(b)?new R(p,b):h.prepareContent(p,b,M.binary,M.optimizedBinaryString,M.base64);var U=new $(p,q,M);this.files[p]=U}var f=s("./utf8"),h=s("./utils"),w=s("./stream/GenericWorker"),k=s("./stream/StreamHelper"),E=s("./defaults"),j=s("./compressedObject"),$=s("./zipObject"),D=s("./generate"),P=s("./nodejsUtils"),R=s("./nodejs/NodejsStreamInputAdapter"),H=function(p){p.slice(-1)==="/"&&(p=p.substring(0,p.length-1));var b=p.lastIndexOf("/");return 0<b?p.substring(0,b):""},N=function(p){return p.slice(-1)!=="/"&&(p+="/"),p},_=function(p,b){return b=b!==void 0?b:E.createFolders,p=N(p),this.files[p]||c.call(this,p,null,{dir:!0,createFolders:b}),this.files[p]};function C(p){return Object.prototype.toString.call(p)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(p){var b,g,y;for(b in this.files)y=this.files[b],(g=b.slice(this.root.length,b.length))&&b.slice(0,this.root.length)===this.root&&p(g,y)},filter:function(p){var b=[];return this.forEach(function(g,y){p(g,y)&&b.push(y)}),b},file:function(p,b,g){if(arguments.length!==1)return p=this.root+p,c.call(this,p,b,g),this;if(C(p)){var y=p;return this.filter(function(M,F){return!F.dir&&y.test(M)})}var x=this.files[this.root+p];return x&&!x.dir?x:null},folder:function(p){if(!p)return this;if(C(p))return this.filter(function(x,M){return M.dir&&p.test(x)});var b=this.root+p,g=_.call(this,b),y=this.clone();return y.root=g.name,y},remove:function(p){p=this.root+p;var b=this.files[p];if(b||(p.slice(-1)!=="/"&&(p+="/"),b=this.files[p]),b&&!b.dir)delete this.files[p];else for(var g=this.filter(function(x,M){return M.name.slice(0,p.length)===p}),y=0;y<g.length;y++)delete this.files[g[y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(p){var b,g={};try{if((g=h.extend(p||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=g.type.toLowerCase(),g.compression=g.compression.toUpperCase(),g.type==="binarystring"&&(g.type="string"),!g.type)throw new Error("No output type specified.");h.checkSupport(g.type),g.platform!=="darwin"&&g.platform!=="freebsd"&&g.platform!=="linux"&&g.platform!=="sunos"||(g.platform="UNIX"),g.platform==="win32"&&(g.platform="DOS");var y=g.comment||this.comment||"";b=D.generateWorker(this,g,y)}catch(x){(b=new w("error")).error(x)}return new k(b,g.type||"string",g.mimeType)},generateAsync:function(p,b){return this.generateInternalStream(p).accumulate(b)},generateNodeStream:function(p,b){return(p=p||{}).type||(p.type="nodebuffer"),this.generateInternalStream(p).toNodejsStream(b)}};d.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,d,u){d.exports=s("stream")},{stream:void 0}],17:[function(s,d,u){var c=s("./DataReader");function f(h){c.call(this,h);for(var w=0;w<this.data.length;w++)h[w]=255&h[w]}s("../utils").inherits(f,c),f.prototype.byteAt=function(h){return this.data[this.zero+h]},f.prototype.lastIndexOfSignature=function(h){for(var w=h.charCodeAt(0),k=h.charCodeAt(1),E=h.charCodeAt(2),j=h.charCodeAt(3),$=this.length-4;0<=$;--$)if(this.data[$]===w&&this.data[$+1]===k&&this.data[$+2]===E&&this.data[$+3]===j)return $-this.zero;return-1},f.prototype.readAndCheckSignature=function(h){var w=h.charCodeAt(0),k=h.charCodeAt(1),E=h.charCodeAt(2),j=h.charCodeAt(3),$=this.readData(4);return w===$[0]&&k===$[1]&&E===$[2]&&j===$[3]},f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,w},d.exports=f},{"../utils":32,"./DataReader":18}],18:[function(s,d,u){var c=s("../utils");function f(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var w,k=0;for(this.checkOffset(h),w=this.index+h-1;w>=this.index;w--)k=(k<<8)+this.byteAt(w);return this.index+=h,k},readString:function(h){return c.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},d.exports=f},{"../utils":32}],19:[function(s,d,u){var c=s("./Uint8ArrayReader");function f(h){c.call(this,h)}s("../utils").inherits(f,c),f.prototype.readData=function(h){this.checkOffset(h);var w=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,w},d.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,d,u){var c=s("./DataReader");function f(h){c.call(this,h)}s("../utils").inherits(f,c),f.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},f.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},f.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},f.prototype.readData=function(h){this.checkOffset(h);var w=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,w},d.exports=f},{"../utils":32,"./DataReader":18}],21:[function(s,d,u){var c=s("./ArrayReader");function f(h){c.call(this,h)}s("../utils").inherits(f,c),f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,w},d.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(s,d,u){var c=s("../utils"),f=s("../support"),h=s("./ArrayReader"),w=s("./StringReader"),k=s("./NodeBufferReader"),E=s("./Uint8ArrayReader");d.exports=function(j){var $=c.getTypeOf(j);return c.checkSupport($),$!=="string"||f.uint8array?$==="nodebuffer"?new k(j):f.uint8array?new E(c.transformTo("uint8array",j)):new h(c.transformTo("array",j)):new w(j)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,d,u){u.LOCAL_FILE_HEADER="PK",u.CENTRAL_FILE_HEADER="PK",u.CENTRAL_DIRECTORY_END="PK",u.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",u.ZIP64_CENTRAL_DIRECTORY_END="PK",u.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,d,u){var c=s("./GenericWorker"),f=s("../utils");function h(w){c.call(this,"ConvertWorker to "+w),this.destType=w}f.inherits(h,c),h.prototype.processChunk=function(w){this.push({data:f.transformTo(this.destType,w.data),meta:w.meta})},d.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(s,d,u){var c=s("./GenericWorker"),f=s("../crc32");function h(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(h,c),h.prototype.processChunk=function(w){this.streamInfo.crc32=f(w.data,this.streamInfo.crc32||0),this.push(w)},d.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,d,u){var c=s("../utils"),f=s("./GenericWorker");function h(w){f.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}c.inherits(h,f),h.prototype.processChunk=function(w){if(w){var k=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=k+w.data.length}f.prototype.processChunk.call(this,w)},d.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(s,d,u){var c=s("../utils"),f=s("./GenericWorker");function h(w){f.call(this,"DataWorker");var k=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(E){k.dataIsReady=!0,k.data=E,k.max=E&&E.length||0,k.type=c.getTypeOf(E),k.isPaused||k._tickAndRepeat()},function(E){k.error(E)})}c.inherits(h,f),h.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,k=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,k);break;case"uint8array":w=this.data.subarray(this.index,k);break;case"array":case"nodebuffer":w=this.data.slice(this.index,k)}return this.index=k,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},d.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(s,d,u){function c(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,h){return this._listeners[f].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,h){if(this._listeners[f])for(var w=0;w<this._listeners[f].length;w++)this._listeners[f][w].call(this,h)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var h=this;return f.on("data",function(w){h.processChunk(w)}),f.on("end",function(){h.end()}),f.on("error",function(w){h.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,h){return this.extraStreamInfo[f]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},d.exports=c},{}],29:[function(s,d,u){var c=s("../utils"),f=s("./ConvertWorker"),h=s("./GenericWorker"),w=s("../base64"),k=s("../support"),E=s("../external"),j=null;if(k.nodestream)try{j=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function $(D,P,R){var H=P;switch(P){case"blob":case"arraybuffer":H="uint8array";break;case"base64":H="string"}try{this._internalType=H,this._outputType=P,this._mimeType=R,c.checkSupport(H),this._worker=D.pipe(new f(H)),D.lock()}catch(N){this._worker=new h("error"),this._worker.error(N)}}$.prototype={accumulate:function(D){return function(P,R){return new E.Promise(function(H,N){var _=[],C=P._internalType,v=P._outputType,p=P._mimeType;P.on("data",function(b,g){_.push(b),R&&R(g)}).on("error",function(b){_=[],N(b)}).on("end",function(){try{var b=function(g,y,x){switch(g){case"blob":return c.newBlob(c.transformTo("arraybuffer",y),x);case"base64":return w.encode(y);default:return c.transformTo(g,y)}}(v,function(g,y){var x,M=0,F=null,q=0;for(x=0;x<y.length;x++)q+=y[x].length;switch(g){case"string":return y.join("");case"array":return Array.prototype.concat.apply([],y);case"uint8array":for(F=new Uint8Array(q),x=0;x<y.length;x++)F.set(y[x],M),M+=y[x].length;return F;case"nodebuffer":return l.concat(y);default:throw new Error("concat : unsupported type '"+g+"'")}}(C,_),p);H(b)}catch(g){N(g)}_=[]}).resume()})}(this,D)},on:function(D,P){var R=this;return D==="data"?this._worker.on(D,function(H){P.call(R,H.data,H.meta)}):this._worker.on(D,function(){c.delay(P,arguments,R)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new j(this,{objectMode:this._outputType!=="nodebuffer"},D)}},d.exports=$},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,d,u){if(u.base64=!0,u.array=!0,u.string=!0,u.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",u.nodebuffer=l!==void 0,u.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")u.blob=!1;else{var c=new ArrayBuffer(0);try{u.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(c),u.blob=f.getBlob("application/zip").size===0}catch{u.blob=!1}}}try{u.nodestream=!!s("readable-stream").Readable}catch{u.nodestream=!1}},{"readable-stream":16}],31:[function(s,d,u){for(var c=s("./utils"),f=s("./support"),h=s("./nodejsUtils"),w=s("./stream/GenericWorker"),k=new Array(256),E=0;E<256;E++)k[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function j(){w.call(this,"utf-8 decode"),this.leftOver=null}function $(){w.call(this,"utf-8 encode")}k[254]=k[254]=1,u.utf8encode=function(D){return f.nodebuffer?h.newBufferFrom(D,"utf-8"):function(P){var R,H,N,_,C,v=P.length,p=0;for(_=0;_<v;_++)(64512&(H=P.charCodeAt(_)))==55296&&_+1<v&&(64512&(N=P.charCodeAt(_+1)))==56320&&(H=65536+(H-55296<<10)+(N-56320),_++),p+=H<128?1:H<2048?2:H<65536?3:4;for(R=f.uint8array?new Uint8Array(p):new Array(p),_=C=0;C<p;_++)(64512&(H=P.charCodeAt(_)))==55296&&_+1<v&&(64512&(N=P.charCodeAt(_+1)))==56320&&(H=65536+(H-55296<<10)+(N-56320),_++),H<128?R[C++]=H:(H<2048?R[C++]=192|H>>>6:(H<65536?R[C++]=224|H>>>12:(R[C++]=240|H>>>18,R[C++]=128|H>>>12&63),R[C++]=128|H>>>6&63),R[C++]=128|63&H);return R}(D)},u.utf8decode=function(D){return f.nodebuffer?c.transformTo("nodebuffer",D).toString("utf-8"):function(P){var R,H,N,_,C=P.length,v=new Array(2*C);for(R=H=0;R<C;)if((N=P[R++])<128)v[H++]=N;else if(4<(_=k[N]))v[H++]=65533,R+=_-1;else{for(N&=_===2?31:_===3?15:7;1<_&&R<C;)N=N<<6|63&P[R++],_--;1<_?v[H++]=65533:N<65536?v[H++]=N:(N-=65536,v[H++]=55296|N>>10&1023,v[H++]=56320|1023&N)}return v.length!==H&&(v.subarray?v=v.subarray(0,H):v.length=H),c.applyFromCharCode(v)}(D=c.transformTo(f.uint8array?"uint8array":"array",D))},c.inherits(j,w),j.prototype.processChunk=function(D){var P=c.transformTo(f.uint8array?"uint8array":"array",D.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var R=P;(P=new Uint8Array(R.length+this.leftOver.length)).set(this.leftOver,0),P.set(R,this.leftOver.length)}else P=this.leftOver.concat(P);this.leftOver=null}var H=function(_,C){var v;for((C=C||_.length)>_.length&&(C=_.length),v=C-1;0<=v&&(192&_[v])==128;)v--;return v<0||v===0?C:v+k[_[v]]>C?v:C}(P),N=P;H!==P.length&&(f.uint8array?(N=P.subarray(0,H),this.leftOver=P.subarray(H,P.length)):(N=P.slice(0,H),this.leftOver=P.slice(H,P.length))),this.push({data:u.utf8decode(N),meta:D.meta})},j.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:u.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},u.Utf8DecodeWorker=j,c.inherits($,w),$.prototype.processChunk=function(D){this.push({data:u.utf8encode(D.data),meta:D.meta})},u.Utf8EncodeWorker=$},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,d,u){var c=s("./support"),f=s("./base64"),h=s("./nodejsUtils"),w=s("./external");function k(R){return R}function E(R,H){for(var N=0;N<R.length;++N)H[N]=255&R.charCodeAt(N);return H}s("setimmediate"),u.newBlob=function(R,H){u.checkSupport("blob");try{return new Blob([R],{type:H})}catch{try{var N=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return N.append(R),N.getBlob(H)}catch{throw new Error("Bug : can't construct the Blob.")}}};var j={stringifyByChunk:function(R,H,N){var _=[],C=0,v=R.length;if(v<=N)return String.fromCharCode.apply(null,R);for(;C<v;)H==="array"||H==="nodebuffer"?_.push(String.fromCharCode.apply(null,R.slice(C,Math.min(C+N,v)))):_.push(String.fromCharCode.apply(null,R.subarray(C,Math.min(C+N,v)))),C+=N;return _.join("")},stringifyByChar:function(R){for(var H="",N=0;N<R.length;N++)H+=String.fromCharCode(R[N]);return H},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function $(R){var H=65536,N=u.getTypeOf(R),_=!0;if(N==="uint8array"?_=j.applyCanBeUsed.uint8array:N==="nodebuffer"&&(_=j.applyCanBeUsed.nodebuffer),_)for(;1<H;)try{return j.stringifyByChunk(R,N,H)}catch{H=Math.floor(H/2)}return j.stringifyByChar(R)}function D(R,H){for(var N=0;N<R.length;N++)H[N]=R[N];return H}u.applyFromCharCode=$;var P={};P.string={string:k,array:function(R){return E(R,new Array(R.length))},arraybuffer:function(R){return P.string.uint8array(R).buffer},uint8array:function(R){return E(R,new Uint8Array(R.length))},nodebuffer:function(R){return E(R,h.allocBuffer(R.length))}},P.array={string:$,array:k,arraybuffer:function(R){return new Uint8Array(R).buffer},uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return h.newBufferFrom(R)}},P.arraybuffer={string:function(R){return $(new Uint8Array(R))},array:function(R){return D(new Uint8Array(R),new Array(R.byteLength))},arraybuffer:k,uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return h.newBufferFrom(new Uint8Array(R))}},P.uint8array={string:$,array:function(R){return D(R,new Array(R.length))},arraybuffer:function(R){return R.buffer},uint8array:k,nodebuffer:function(R){return h.newBufferFrom(R)}},P.nodebuffer={string:$,array:function(R){return D(R,new Array(R.length))},arraybuffer:function(R){return P.nodebuffer.uint8array(R).buffer},uint8array:function(R){return D(R,new Uint8Array(R.length))},nodebuffer:k},u.transformTo=function(R,H){if(H=H||"",!R)return H;u.checkSupport(R);var N=u.getTypeOf(H);return P[N][R](H)},u.resolve=function(R){for(var H=R.split("/"),N=[],_=0;_<H.length;_++){var C=H[_];C==="."||C===""&&_!==0&&_!==H.length-1||(C===".."?N.pop():N.push(C))}return N.join("/")},u.getTypeOf=function(R){return typeof R=="string"?"string":Object.prototype.toString.call(R)==="[object Array]"?"array":c.nodebuffer&&h.isBuffer(R)?"nodebuffer":c.uint8array&&R instanceof Uint8Array?"uint8array":c.arraybuffer&&R instanceof ArrayBuffer?"arraybuffer":void 0},u.checkSupport=function(R){if(!c[R.toLowerCase()])throw new Error(R+" is not supported by this platform")},u.MAX_VALUE_16BITS=65535,u.MAX_VALUE_32BITS=-1,u.pretty=function(R){var H,N,_="";for(N=0;N<(R||"").length;N++)_+="\\x"+((H=R.charCodeAt(N))<16?"0":"")+H.toString(16).toUpperCase();return _},u.delay=function(R,H,N){r(function(){R.apply(N||null,H||[])})},u.inherits=function(R,H){function N(){}N.prototype=H.prototype,R.prototype=new N},u.extend=function(){var R,H,N={};for(R=0;R<arguments.length;R++)for(H in arguments[R])Object.prototype.hasOwnProperty.call(arguments[R],H)&&N[H]===void 0&&(N[H]=arguments[R][H]);return N},u.prepareContent=function(R,H,N,_,C){return w.Promise.resolve(H).then(function(v){return c.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new w.Promise(function(p,b){var g=new FileReader;g.onload=function(y){p(y.target.result)},g.onerror=function(y){b(y.target.error)},g.readAsArrayBuffer(v)}):v}).then(function(v){var p=u.getTypeOf(v);return p?(p==="arraybuffer"?v=u.transformTo("uint8array",v):p==="string"&&(C?v=f.decode(v):N&&_!==!0&&(v=function(b){return E(b,c.uint8array?new Uint8Array(b.length):new Array(b.length))}(v))),v):w.Promise.reject(new Error("Can't read the data of '"+R+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,d,u){var c=s("./reader/readerFor"),f=s("./utils"),h=s("./signature"),w=s("./zipEntry"),k=s("./support");function E(j){this.files=[],this.loadOptions=j}E.prototype={checkSignature:function(j){if(!this.reader.readAndCheckSignature(j)){this.reader.index-=4;var $=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty($)+", expected "+f.pretty(j)+")")}},isSignature:function(j,$){var D=this.reader.index;this.reader.setIndex(j);var P=this.reader.readString(4)===$;return this.reader.setIndex(D),P},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var j=this.reader.readData(this.zipCommentLength),$=k.uint8array?"uint8array":"array",D=f.transformTo($,j);this.zipComment=this.loadOptions.decodeFileName(D)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var j,$,D,P=this.zip64EndOfCentralSize-44;0<P;)j=this.reader.readInt(2),$=this.reader.readInt(4),D=this.reader.readData($),this.zip64ExtensibleData[j]={id:j,length:$,value:D}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var j,$;for(j=0;j<this.files.length;j++)$=this.files[j],this.reader.setIndex($.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),$.readLocalPart(this.reader),$.handleUTF8(),$.processAttributes()},readCentralDir:function(){var j;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(j=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(j);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var j=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(j<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(j);var $=j;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(j=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(j),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var D=this.centralDirOffset+this.centralDirSize;this.zip64&&(D+=20,D+=12+this.zip64EndOfCentralSize);var P=$-D;if(0<P)this.isSignature($,h.CENTRAL_FILE_HEADER)||(this.reader.zero=P);else if(P<0)throw new Error("Corrupted zip: missing "+Math.abs(P)+" bytes.")},prepareReader:function(j){this.reader=c(j)},load:function(j){this.prepareReader(j),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},d.exports=E},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,d,u){var c=s("./reader/readerFor"),f=s("./utils"),h=s("./compressedObject"),w=s("./crc32"),k=s("./utf8"),E=s("./compressions"),j=s("./support");function $(D,P){this.options=D,this.loadOptions=P}$.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(D){var P,R;if(D.skip(22),this.fileNameLength=D.readInt(2),R=D.readInt(2),this.fileName=D.readData(this.fileNameLength),D.skip(R),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((P=function(H){for(var N in E)if(Object.prototype.hasOwnProperty.call(E,N)&&E[N].magic===H)return E[N];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,P,D.readData(this.compressedSize))},readCentralPart:function(D){this.versionMadeBy=D.readInt(2),D.skip(2),this.bitFlag=D.readInt(2),this.compressionMethod=D.readString(2),this.date=D.readDate(),this.crc32=D.readInt(4),this.compressedSize=D.readInt(4),this.uncompressedSize=D.readInt(4);var P=D.readInt(2);if(this.extraFieldsLength=D.readInt(2),this.fileCommentLength=D.readInt(2),this.diskNumberStart=D.readInt(2),this.internalFileAttributes=D.readInt(2),this.externalFileAttributes=D.readInt(4),this.localHeaderOffset=D.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");D.skip(P),this.readExtraFields(D),this.parseZIP64ExtraField(D),this.fileComment=D.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var D=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),D==0&&(this.dosPermissions=63&this.externalFileAttributes),D==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var D=c(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=D.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=D.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=D.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=D.readInt(4))}},readExtraFields:function(D){var P,R,H,N=D.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});D.index+4<N;)P=D.readInt(2),R=D.readInt(2),H=D.readData(R),this.extraFields[P]={id:P,length:R,value:H};D.setIndex(N)},handleUTF8:function(){var D=j.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=k.utf8decode(this.fileName),this.fileCommentStr=k.utf8decode(this.fileComment);else{var P=this.findExtraFieldUnicodePath();if(P!==null)this.fileNameStr=P;else{var R=f.transformTo(D,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(R)}var H=this.findExtraFieldUnicodeComment();if(H!==null)this.fileCommentStr=H;else{var N=f.transformTo(D,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var D=this.extraFields[28789];if(D){var P=c(D.value);return P.readInt(1)!==1||w(this.fileName)!==P.readInt(4)?null:k.utf8decode(P.readData(D.length-5))}return null},findExtraFieldUnicodeComment:function(){var D=this.extraFields[25461];if(D){var P=c(D.value);return P.readInt(1)!==1||w(this.fileComment)!==P.readInt(4)?null:k.utf8decode(P.readData(D.length-5))}return null}},d.exports=$},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,d,u){function c(P,R,H){this.name=P,this.dir=H.dir,this.date=H.date,this.comment=H.comment,this.unixPermissions=H.unixPermissions,this.dosPermissions=H.dosPermissions,this._data=R,this._dataBinary=H.binary,this.options={compression:H.compression,compressionOptions:H.compressionOptions}}var f=s("./stream/StreamHelper"),h=s("./stream/DataWorker"),w=s("./utf8"),k=s("./compressedObject"),E=s("./stream/GenericWorker");c.prototype={internalStream:function(P){var R=null,H="string";try{if(!P)throw new Error("No output type specified.");var N=(H=P.toLowerCase())==="string"||H==="text";H!=="binarystring"&&H!=="text"||(H="string"),R=this._decompressWorker();var _=!this._dataBinary;_&&!N&&(R=R.pipe(new w.Utf8EncodeWorker)),!_&&N&&(R=R.pipe(new w.Utf8DecodeWorker))}catch(C){(R=new E("error")).error(C)}return new f(R,H,"")},async:function(P,R){return this.internalStream(P).accumulate(R)},nodeStream:function(P,R){return this.internalStream(P||"nodebuffer").toNodejsStream(R)},_compressWorker:function(P,R){if(this._data instanceof k&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();var H=this._decompressWorker();return this._dataBinary||(H=H.pipe(new w.Utf8EncodeWorker)),k.createWorkerFrom(H,P,R)},_decompressWorker:function(){return this._data instanceof k?this._data.getContentWorker():this._data instanceof E?this._data:new h(this._data)}};for(var j=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],$=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},D=0;D<j.length;D++)c.prototype[j[D]]=$;d.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,d,u){(function(c){var f,h,w=c.MutationObserver||c.WebKitMutationObserver;if(w){var k=0,E=new w(P),j=c.document.createTextNode("");E.observe(j,{characterData:!0}),f=function(){j.data=k=++k%2}}else if(c.setImmediate||c.MessageChannel===void 0)f="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var R=c.document.createElement("script");R.onreadystatechange=function(){P(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},c.document.documentElement.appendChild(R)}:function(){setTimeout(P,0)};else{var $=new c.MessageChannel;$.port1.onmessage=P,f=function(){$.port2.postMessage(0)}}var D=[];function P(){var R,H;h=!0;for(var N=D.length;N;){for(H=D,D=[],R=-1;++R<N;)H[R]();N=D.length}h=!1}d.exports=function(R){D.push(R)!==1||h||f()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,d,u){var c=s("immediate");function f(){}var h={},w=["REJECTED"],k=["FULFILLED"],E=["PENDING"];function j(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,N!==f&&R(this,N)}function $(N,_,C){this.promise=N,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function D(N,_,C){c(function(){var v;try{v=_(C)}catch(p){return h.reject(N,p)}v===N?h.reject(N,new TypeError("Cannot resolve promise with itself")):h.resolve(N,v)})}function P(N){var _=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof _=="function")return function(){_.apply(N,arguments)}}function R(N,_){var C=!1;function v(g){C||(C=!0,h.reject(N,g))}function p(g){C||(C=!0,h.resolve(N,g))}var b=H(function(){_(p,v)});b.status==="error"&&v(b.value)}function H(N,_){var C={};try{C.value=N(_),C.status="success"}catch(v){C.status="error",C.value=v}return C}(d.exports=j).prototype.finally=function(N){if(typeof N!="function")return this;var _=this.constructor;return this.then(function(C){return _.resolve(N()).then(function(){return C})},function(C){return _.resolve(N()).then(function(){throw C})})},j.prototype.catch=function(N){return this.then(null,N)},j.prototype.then=function(N,_){if(typeof N!="function"&&this.state===k||typeof _!="function"&&this.state===w)return this;var C=new this.constructor(f);return this.state!==E?D(C,this.state===k?N:_,this.outcome):this.queue.push(new $(C,N,_)),C},$.prototype.callFulfilled=function(N){h.resolve(this.promise,N)},$.prototype.otherCallFulfilled=function(N){D(this.promise,this.onFulfilled,N)},$.prototype.callRejected=function(N){h.reject(this.promise,N)},$.prototype.otherCallRejected=function(N){D(this.promise,this.onRejected,N)},h.resolve=function(N,_){var C=H(P,_);if(C.status==="error")return h.reject(N,C.value);var v=C.value;if(v)R(N,v);else{N.state=k,N.outcome=_;for(var p=-1,b=N.queue.length;++p<b;)N.queue[p].callFulfilled(_)}return N},h.reject=function(N,_){N.state=w,N.outcome=_;for(var C=-1,v=N.queue.length;++C<v;)N.queue[C].callRejected(_);return N},j.resolve=function(N){return N instanceof this?N:h.resolve(new this(f),N)},j.reject=function(N){var _=new this(f);return h.reject(_,N)},j.all=function(N){var _=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=N.length,v=!1;if(!C)return this.resolve([]);for(var p=new Array(C),b=0,g=-1,y=new this(f);++g<C;)x(N[g],g);return y;function x(M,F){_.resolve(M).then(function(q){p[F]=q,++b!==C||v||(v=!0,h.resolve(y,p))},function(q){v||(v=!0,h.reject(y,q))})}},j.race=function(N){if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=N.length,C=!1;if(!_)return this.resolve([]);for(var v,p=-1,b=new this(f);++p<_;)v=N[p],this.resolve(v).then(function(g){C||(C=!0,h.resolve(b,g))},function(g){C||(C=!0,h.reject(b,g))});return b}},{immediate:36}],38:[function(s,d,u){var c={};(0,s("./lib/utils/common").assign)(c,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),d.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,d,u){var c=s("./zlib/deflate"),f=s("./utils/common"),h=s("./utils/strings"),w=s("./zlib/messages"),k=s("./zlib/zstream"),E=Object.prototype.toString;function j(D){if(!(this instanceof j))return new j(D);this.options=f.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},D||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var R=c.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if(R!==0)throw new Error(w[R]);if(P.header&&c.deflateSetHeader(this.strm,P.header),P.dictionary){var H;if(H=typeof P.dictionary=="string"?h.string2buf(P.dictionary):E.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,(R=c.deflateSetDictionary(this.strm,H))!==0)throw new Error(w[R]);this._dict_set=!0}}function $(D,P){var R=new j(P);if(R.push(D,!0),R.err)throw R.msg||w[R.err];return R.result}j.prototype.push=function(D,P){var R,H,N=this.strm,_=this.options.chunkSize;if(this.ended)return!1;H=P===~~P?P:P===!0?4:0,typeof D=="string"?N.input=h.string2buf(D):E.call(D)==="[object ArrayBuffer]"?N.input=new Uint8Array(D):N.input=D,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new f.Buf8(_),N.next_out=0,N.avail_out=_),(R=c.deflate(N,H))!==1&&R!==0)return this.onEnd(R),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(f.shrinkBuf(N.output,N.next_out))):this.onData(f.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&R!==1);return H===4?(R=c.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===0):H!==2||(this.onEnd(0),!(N.avail_out=0))},j.prototype.onData=function(D){this.chunks.push(D)},j.prototype.onEnd=function(D){D===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},u.Deflate=j,u.deflate=$,u.deflateRaw=function(D,P){return(P=P||{}).raw=!0,$(D,P)},u.gzip=function(D,P){return(P=P||{}).gzip=!0,$(D,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,d,u){var c=s("./zlib/inflate"),f=s("./utils/common"),h=s("./utils/strings"),w=s("./zlib/constants"),k=s("./zlib/messages"),E=s("./zlib/zstream"),j=s("./zlib/gzheader"),$=Object.prototype.toString;function D(R){if(!(this instanceof D))return new D(R);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},R||{});var H=this.options;H.raw&&0<=H.windowBits&&H.windowBits<16&&(H.windowBits=-H.windowBits,H.windowBits===0&&(H.windowBits=-15)),!(0<=H.windowBits&&H.windowBits<16)||R&&R.windowBits||(H.windowBits+=32),15<H.windowBits&&H.windowBits<48&&!(15&H.windowBits)&&(H.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var N=c.inflateInit2(this.strm,H.windowBits);if(N!==w.Z_OK)throw new Error(k[N]);this.header=new j,c.inflateGetHeader(this.strm,this.header)}function P(R,H){var N=new D(H);if(N.push(R,!0),N.err)throw N.msg||k[N.err];return N.result}D.prototype.push=function(R,H){var N,_,C,v,p,b,g=this.strm,y=this.options.chunkSize,x=this.options.dictionary,M=!1;if(this.ended)return!1;_=H===~~H?H:H===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof R=="string"?g.input=h.binstring2buf(R):$.call(R)==="[object ArrayBuffer]"?g.input=new Uint8Array(R):g.input=R,g.next_in=0,g.avail_in=g.input.length;do{if(g.avail_out===0&&(g.output=new f.Buf8(y),g.next_out=0,g.avail_out=y),(N=c.inflate(g,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&x&&(b=typeof x=="string"?h.string2buf(x):$.call(x)==="[object ArrayBuffer]"?new Uint8Array(x):x,N=c.inflateSetDictionary(this.strm,b)),N===w.Z_BUF_ERROR&&M===!0&&(N=w.Z_OK,M=!1),N!==w.Z_STREAM_END&&N!==w.Z_OK)return this.onEnd(N),!(this.ended=!0);g.next_out&&(g.avail_out!==0&&N!==w.Z_STREAM_END&&(g.avail_in!==0||_!==w.Z_FINISH&&_!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=h.utf8border(g.output,g.next_out),v=g.next_out-C,p=h.buf2string(g.output,C),g.next_out=v,g.avail_out=y-v,v&&f.arraySet(g.output,g.output,C,v,0),this.onData(p)):this.onData(f.shrinkBuf(g.output,g.next_out)))),g.avail_in===0&&g.avail_out===0&&(M=!0)}while((0<g.avail_in||g.avail_out===0)&&N!==w.Z_STREAM_END);return N===w.Z_STREAM_END&&(_=w.Z_FINISH),_===w.Z_FINISH?(N=c.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===w.Z_OK):_!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(g.avail_out=0))},D.prototype.onData=function(R){this.chunks.push(R)},D.prototype.onEnd=function(R){R===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},u.Inflate=D,u.inflate=P,u.inflateRaw=function(R,H){return(H=H||{}).raw=!0,P(R,H)},u.ungzip=P},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,d,u){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";u.assign=function(w){for(var k=Array.prototype.slice.call(arguments,1);k.length;){var E=k.shift();if(E){if(typeof E!="object")throw new TypeError(E+"must be non-object");for(var j in E)E.hasOwnProperty(j)&&(w[j]=E[j])}}return w},u.shrinkBuf=function(w,k){return w.length===k?w:w.subarray?w.subarray(0,k):(w.length=k,w)};var f={arraySet:function(w,k,E,j,$){if(k.subarray&&w.subarray)w.set(k.subarray(E,E+j),$);else for(var D=0;D<j;D++)w[$+D]=k[E+D]},flattenChunks:function(w){var k,E,j,$,D,P;for(k=j=0,E=w.length;k<E;k++)j+=w[k].length;for(P=new Uint8Array(j),k=$=0,E=w.length;k<E;k++)D=w[k],P.set(D,$),$+=D.length;return P}},h={arraySet:function(w,k,E,j,$){for(var D=0;D<j;D++)w[$+D]=k[E+D]},flattenChunks:function(w){return[].concat.apply([],w)}};u.setTyped=function(w){w?(u.Buf8=Uint8Array,u.Buf16=Uint16Array,u.Buf32=Int32Array,u.assign(u,f)):(u.Buf8=Array,u.Buf16=Array,u.Buf32=Array,u.assign(u,h))},u.setTyped(c)},{}],42:[function(s,d,u){var c=s("./common"),f=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var w=new c.Buf8(256),k=0;k<256;k++)w[k]=252<=k?6:248<=k?5:240<=k?4:224<=k?3:192<=k?2:1;function E(j,$){if($<65537&&(j.subarray&&h||!j.subarray&&f))return String.fromCharCode.apply(null,c.shrinkBuf(j,$));for(var D="",P=0;P<$;P++)D+=String.fromCharCode(j[P]);return D}w[254]=w[254]=1,u.string2buf=function(j){var $,D,P,R,H,N=j.length,_=0;for(R=0;R<N;R++)(64512&(D=j.charCodeAt(R)))==55296&&R+1<N&&(64512&(P=j.charCodeAt(R+1)))==56320&&(D=65536+(D-55296<<10)+(P-56320),R++),_+=D<128?1:D<2048?2:D<65536?3:4;for($=new c.Buf8(_),R=H=0;H<_;R++)(64512&(D=j.charCodeAt(R)))==55296&&R+1<N&&(64512&(P=j.charCodeAt(R+1)))==56320&&(D=65536+(D-55296<<10)+(P-56320),R++),D<128?$[H++]=D:(D<2048?$[H++]=192|D>>>6:(D<65536?$[H++]=224|D>>>12:($[H++]=240|D>>>18,$[H++]=128|D>>>12&63),$[H++]=128|D>>>6&63),$[H++]=128|63&D);return $},u.buf2binstring=function(j){return E(j,j.length)},u.binstring2buf=function(j){for(var $=new c.Buf8(j.length),D=0,P=$.length;D<P;D++)$[D]=j.charCodeAt(D);return $},u.buf2string=function(j,$){var D,P,R,H,N=$||j.length,_=new Array(2*N);for(D=P=0;D<N;)if((R=j[D++])<128)_[P++]=R;else if(4<(H=w[R]))_[P++]=65533,D+=H-1;else{for(R&=H===2?31:H===3?15:7;1<H&&D<N;)R=R<<6|63&j[D++],H--;1<H?_[P++]=65533:R<65536?_[P++]=R:(R-=65536,_[P++]=55296|R>>10&1023,_[P++]=56320|1023&R)}return E(_,P)},u.utf8border=function(j,$){var D;for(($=$||j.length)>j.length&&($=j.length),D=$-1;0<=D&&(192&j[D])==128;)D--;return D<0||D===0?$:D+w[j[D]]>$?D:$}},{"./common":41}],43:[function(s,d,u){d.exports=function(c,f,h,w){for(var k=65535&c|0,E=c>>>16&65535|0,j=0;h!==0;){for(h-=j=2e3<h?2e3:h;E=E+(k=k+f[w++]|0)|0,--j;);k%=65521,E%=65521}return k|E<<16|0}},{}],44:[function(s,d,u){d.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,d,u){var c=function(){for(var f,h=[],w=0;w<256;w++){f=w;for(var k=0;k<8;k++)f=1&f?3988292384^f>>>1:f>>>1;h[w]=f}return h}();d.exports=function(f,h,w,k){var E=c,j=k+w;f^=-1;for(var $=k;$<j;$++)f=f>>>8^E[255&(f^h[$])];return-1^f}},{}],46:[function(s,d,u){var c,f=s("../utils/common"),h=s("./trees"),w=s("./adler32"),k=s("./crc32"),E=s("./messages"),j=-2,$=258,D=262,P=113;function R(B,W){return B.msg=E[W],W}function H(B){return(B<<1)-(4<B?9:0)}function N(B){for(var W=B.length;0<=--W;)B[W]=0}function _(B){var W=B.state,I=W.pending;I>B.avail_out&&(I=B.avail_out),I!==0&&(f.arraySet(B.output,W.pending_buf,W.pending_out,I,B.next_out),B.next_out+=I,W.pending_out+=I,B.total_out+=I,B.avail_out-=I,W.pending-=I,W.pending===0&&(W.pending_out=0))}function C(B,W){h._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,W),B.block_start=B.strstart,_(B.strm)}function v(B,W){B.pending_buf[B.pending++]=W}function p(B,W){B.pending_buf[B.pending++]=W>>>8&255,B.pending_buf[B.pending++]=255&W}function b(B,W){var I,A,z=B.max_chain_length,V=B.strstart,Z=B.prev_length,X=B.nice_match,K=B.strstart>B.w_size-D?B.strstart-(B.w_size-D):0,ie=B.window,ne=B.w_mask,G=B.prev,ee=B.strstart+$,J=ie[V+Z-1],te=ie[V+Z];B.prev_length>=B.good_match&&(z>>=2),X>B.lookahead&&(X=B.lookahead);do if(ie[(I=W)+Z]===te&&ie[I+Z-1]===J&&ie[I]===ie[V]&&ie[++I]===ie[V+1]){V+=2,I++;do;while(ie[++V]===ie[++I]&&ie[++V]===ie[++I]&&ie[++V]===ie[++I]&&ie[++V]===ie[++I]&&ie[++V]===ie[++I]&&ie[++V]===ie[++I]&&ie[++V]===ie[++I]&&ie[++V]===ie[++I]&&V<ee);if(A=$-(ee-V),V=ee-$,Z<A){if(B.match_start=W,X<=(Z=A))break;J=ie[V+Z-1],te=ie[V+Z]}}while((W=G[W&ne])>K&&--z!=0);return Z<=B.lookahead?Z:B.lookahead}function g(B){var W,I,A,z,V,Z,X,K,ie,ne,G=B.w_size;do{if(z=B.window_size-B.lookahead-B.strstart,B.strstart>=G+(G-D)){for(f.arraySet(B.window,B.window,G,G,0),B.match_start-=G,B.strstart-=G,B.block_start-=G,W=I=B.hash_size;A=B.head[--W],B.head[W]=G<=A?A-G:0,--I;);for(W=I=G;A=B.prev[--W],B.prev[W]=G<=A?A-G:0,--I;);z+=G}if(B.strm.avail_in===0)break;if(Z=B.strm,X=B.window,K=B.strstart+B.lookahead,ne=void 0,(ie=z)<(ne=Z.avail_in)&&(ne=ie),I=ne===0?0:(Z.avail_in-=ne,f.arraySet(X,Z.input,Z.next_in,ne,K),Z.state.wrap===1?Z.adler=w(Z.adler,X,ne,K):Z.state.wrap===2&&(Z.adler=k(Z.adler,X,ne,K)),Z.next_in+=ne,Z.total_in+=ne,ne),B.lookahead+=I,B.lookahead+B.insert>=3)for(V=B.strstart-B.insert,B.ins_h=B.window[V],B.ins_h=(B.ins_h<<B.hash_shift^B.window[V+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[V+3-1])&B.hash_mask,B.prev[V&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=V,V++,B.insert--,!(B.lookahead+B.insert<3)););}while(B.lookahead<D&&B.strm.avail_in!==0)}function y(B,W){for(var I,A;;){if(B.lookahead<D){if(g(B),B.lookahead<D&&W===0)return 1;if(B.lookahead===0)break}if(I=0,B.lookahead>=3&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,I=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),I!==0&&B.strstart-I<=B.w_size-D&&(B.match_length=b(B,I)),B.match_length>=3)if(A=h._tr_tally(B,B.strstart-B.match_start,B.match_length-3),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=3){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,I=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else A=h._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(A&&(C(B,!1),B.strm.avail_out===0))return 1}return B.insert=B.strstart<2?B.strstart:2,W===4?(C(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(C(B,!1),B.strm.avail_out===0)?1:2}function x(B,W){for(var I,A,z;;){if(B.lookahead<D){if(g(B),B.lookahead<D&&W===0)return 1;if(B.lookahead===0)break}if(I=0,B.lookahead>=3&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,I=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=2,I!==0&&B.prev_length<B.max_lazy_match&&B.strstart-I<=B.w_size-D&&(B.match_length=b(B,I),B.match_length<=5&&(B.strategy===1||B.match_length===3&&4096<B.strstart-B.match_start)&&(B.match_length=2)),B.prev_length>=3&&B.match_length<=B.prev_length){for(z=B.strstart+B.lookahead-3,A=h._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-3),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=z&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+3-1])&B.hash_mask,I=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=2,B.strstart++,A&&(C(B,!1),B.strm.avail_out===0))return 1}else if(B.match_available){if((A=h._tr_tally(B,0,B.window[B.strstart-1]))&&C(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return 1}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(A=h._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<2?B.strstart:2,W===4?(C(B,!0),B.strm.avail_out===0?3:4):B.last_lit&&(C(B,!1),B.strm.avail_out===0)?1:2}function M(B,W,I,A,z){this.good_length=B,this.max_lazy=W,this.nice_length=I,this.max_chain=A,this.func=z}function F(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(1146),this.dyn_dtree=new f.Buf16(122),this.bl_tree=new f.Buf16(78),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(16),this.heap=new f.Buf16(573),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(573),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(B){var W;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=2,(W=B.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?42:P,B.adler=W.wrap===2?0:1,W.last_flush=0,h._tr_init(W),0):R(B,j)}function U(B){var W=q(B);return W===0&&function(I){I.window_size=2*I.w_size,N(I.head),I.max_lazy_match=c[I.level].max_lazy,I.good_match=c[I.level].good_length,I.nice_match=c[I.level].nice_length,I.max_chain_length=c[I.level].max_chain,I.strstart=0,I.block_start=0,I.lookahead=0,I.insert=0,I.match_length=I.prev_length=2,I.match_available=0,I.ins_h=0}(B.state),W}function Y(B,W,I,A,z,V){if(!B)return j;var Z=1;if(W===-1&&(W=6),A<0?(Z=0,A=-A):15<A&&(Z=2,A-=16),z<1||9<z||I!==8||A<8||15<A||W<0||9<W||V<0||4<V)return R(B,j);A===8&&(A=9);var X=new F;return(B.state=X).strm=B,X.wrap=Z,X.gzhead=null,X.w_bits=A,X.w_size=1<<X.w_bits,X.w_mask=X.w_size-1,X.hash_bits=z+7,X.hash_size=1<<X.hash_bits,X.hash_mask=X.hash_size-1,X.hash_shift=~~((X.hash_bits+3-1)/3),X.window=new f.Buf8(2*X.w_size),X.head=new f.Buf16(X.hash_size),X.prev=new f.Buf16(X.w_size),X.lit_bufsize=1<<z+6,X.pending_buf_size=4*X.lit_bufsize,X.pending_buf=new f.Buf8(X.pending_buf_size),X.d_buf=1*X.lit_bufsize,X.l_buf=3*X.lit_bufsize,X.level=W,X.strategy=V,X.method=I,U(B)}c=[new M(0,0,0,0,function(B,W){var I=65535;for(I>B.pending_buf_size-5&&(I=B.pending_buf_size-5);;){if(B.lookahead<=1){if(g(B),B.lookahead===0&&W===0)return 1;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var A=B.block_start+I;if((B.strstart===0||B.strstart>=A)&&(B.lookahead=B.strstart-A,B.strstart=A,C(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-D&&(C(B,!1),B.strm.avail_out===0))return 1}return B.insert=0,W===4?(C(B,!0),B.strm.avail_out===0?3:4):(B.strstart>B.block_start&&(C(B,!1),B.strm.avail_out),1)}),new M(4,4,8,4,y),new M(4,5,16,8,y),new M(4,6,32,32,y),new M(4,4,16,16,x),new M(8,16,32,32,x),new M(8,16,128,128,x),new M(8,32,128,256,x),new M(32,128,258,1024,x),new M(32,258,258,4096,x)],u.deflateInit=function(B,W){return Y(B,W,8,15,8,0)},u.deflateInit2=Y,u.deflateReset=U,u.deflateResetKeep=q,u.deflateSetHeader=function(B,W){return B&&B.state?B.state.wrap!==2?j:(B.state.gzhead=W,0):j},u.deflate=function(B,W){var I,A,z,V;if(!B||!B.state||5<W||W<0)return B?R(B,j):j;if(A=B.state,!B.output||!B.input&&B.avail_in!==0||A.status===666&&W!==4)return R(B,B.avail_out===0?-5:j);if(A.strm=B,I=A.last_flush,A.last_flush=W,A.status===42)if(A.wrap===2)B.adler=0,v(A,31),v(A,139),v(A,8),A.gzhead?(v(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),v(A,255&A.gzhead.time),v(A,A.gzhead.time>>8&255),v(A,A.gzhead.time>>16&255),v(A,A.gzhead.time>>24&255),v(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),v(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(v(A,255&A.gzhead.extra.length),v(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(B.adler=k(B.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(v(A,0),v(A,0),v(A,0),v(A,0),v(A,0),v(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),v(A,3),A.status=P);else{var Z=8+(A.w_bits-8<<4)<<8;Z|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(Z|=32),Z+=31-Z%31,A.status=P,p(A,Z),A.strstart!==0&&(p(A,B.adler>>>16),p(A,65535&B.adler)),B.adler=1}if(A.status===69)if(A.gzhead.extra){for(z=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>z&&(B.adler=k(B.adler,A.pending_buf,A.pending-z,z)),_(B),z=A.pending,A.pending!==A.pending_buf_size));)v(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>z&&(B.adler=k(B.adler,A.pending_buf,A.pending-z,z)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){z=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>z&&(B.adler=k(B.adler,A.pending_buf,A.pending-z,z)),_(B),z=A.pending,A.pending===A.pending_buf_size)){V=1;break}V=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,v(A,V)}while(V!==0);A.gzhead.hcrc&&A.pending>z&&(B.adler=k(B.adler,A.pending_buf,A.pending-z,z)),V===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){z=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>z&&(B.adler=k(B.adler,A.pending_buf,A.pending-z,z)),_(B),z=A.pending,A.pending===A.pending_buf_size)){V=1;break}V=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,v(A,V)}while(V!==0);A.gzhead.hcrc&&A.pending>z&&(B.adler=k(B.adler,A.pending_buf,A.pending-z,z)),V===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&_(B),A.pending+2<=A.pending_buf_size&&(v(A,255&B.adler),v(A,B.adler>>8&255),B.adler=0,A.status=P)):A.status=P),A.pending!==0){if(_(B),B.avail_out===0)return A.last_flush=-1,0}else if(B.avail_in===0&&H(W)<=H(I)&&W!==4)return R(B,-5);if(A.status===666&&B.avail_in!==0)return R(B,-5);if(B.avail_in!==0||A.lookahead!==0||W!==0&&A.status!==666){var X=A.strategy===2?function(K,ie){for(var ne;;){if(K.lookahead===0&&(g(K),K.lookahead===0)){if(ie===0)return 1;break}if(K.match_length=0,ne=h._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,ne&&(C(K,!1),K.strm.avail_out===0))return 1}return K.insert=0,ie===4?(C(K,!0),K.strm.avail_out===0?3:4):K.last_lit&&(C(K,!1),K.strm.avail_out===0)?1:2}(A,W):A.strategy===3?function(K,ie){for(var ne,G,ee,J,te=K.window;;){if(K.lookahead<=$){if(g(K),K.lookahead<=$&&ie===0)return 1;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=3&&0<K.strstart&&(G=te[ee=K.strstart-1])===te[++ee]&&G===te[++ee]&&G===te[++ee]){J=K.strstart+$;do;while(G===te[++ee]&&G===te[++ee]&&G===te[++ee]&&G===te[++ee]&&G===te[++ee]&&G===te[++ee]&&G===te[++ee]&&G===te[++ee]&&ee<J);K.match_length=$-(J-ee),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=3?(ne=h._tr_tally(K,1,K.match_length-3),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(ne=h._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),ne&&(C(K,!1),K.strm.avail_out===0))return 1}return K.insert=0,ie===4?(C(K,!0),K.strm.avail_out===0?3:4):K.last_lit&&(C(K,!1),K.strm.avail_out===0)?1:2}(A,W):c[A.level].func(A,W);if(X!==3&&X!==4||(A.status=666),X===1||X===3)return B.avail_out===0&&(A.last_flush=-1),0;if(X===2&&(W===1?h._tr_align(A):W!==5&&(h._tr_stored_block(A,0,0,!1),W===3&&(N(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),_(B),B.avail_out===0))return A.last_flush=-1,0}return W!==4?0:A.wrap<=0?1:(A.wrap===2?(v(A,255&B.adler),v(A,B.adler>>8&255),v(A,B.adler>>16&255),v(A,B.adler>>24&255),v(A,255&B.total_in),v(A,B.total_in>>8&255),v(A,B.total_in>>16&255),v(A,B.total_in>>24&255)):(p(A,B.adler>>>16),p(A,65535&B.adler)),_(B),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?0:1)},u.deflateEnd=function(B){var W;return B&&B.state?(W=B.state.status)!==42&&W!==69&&W!==73&&W!==91&&W!==103&&W!==P&&W!==666?R(B,j):(B.state=null,W===P?R(B,-3):0):j},u.deflateSetDictionary=function(B,W){var I,A,z,V,Z,X,K,ie,ne=W.length;if(!B||!B.state||(V=(I=B.state).wrap)===2||V===1&&I.status!==42||I.lookahead)return j;for(V===1&&(B.adler=w(B.adler,W,ne,0)),I.wrap=0,ne>=I.w_size&&(V===0&&(N(I.head),I.strstart=0,I.block_start=0,I.insert=0),ie=new f.Buf8(I.w_size),f.arraySet(ie,W,ne-I.w_size,I.w_size,0),W=ie,ne=I.w_size),Z=B.avail_in,X=B.next_in,K=B.input,B.avail_in=ne,B.next_in=0,B.input=W,g(I);I.lookahead>=3;){for(A=I.strstart,z=I.lookahead-2;I.ins_h=(I.ins_h<<I.hash_shift^I.window[A+3-1])&I.hash_mask,I.prev[A&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=A,A++,--z;);I.strstart=A,I.lookahead=2,g(I)}return I.strstart+=I.lookahead,I.block_start=I.strstart,I.insert=I.lookahead,I.lookahead=0,I.match_length=I.prev_length=2,I.match_available=0,B.next_in=X,B.input=K,B.avail_in=Z,I.wrap=V,0},u.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,d,u){d.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,d,u){d.exports=function(c,f){var h,w,k,E,j,$,D,P,R,H,N,_,C,v,p,b,g,y,x,M,F,q,U,Y,B;h=c.state,w=c.next_in,Y=c.input,k=w+(c.avail_in-5),E=c.next_out,B=c.output,j=E-(f-c.avail_out),$=E+(c.avail_out-257),D=h.dmax,P=h.wsize,R=h.whave,H=h.wnext,N=h.window,_=h.hold,C=h.bits,v=h.lencode,p=h.distcode,b=(1<<h.lenbits)-1,g=(1<<h.distbits)-1;e:do{C<15&&(_+=Y[w++]<<C,C+=8,_+=Y[w++]<<C,C+=8),y=v[_&b];t:for(;;){if(_>>>=x=y>>>24,C-=x,(x=y>>>16&255)==0)B[E++]=65535&y;else{if(!(16&x)){if(!(64&x)){y=v[(65535&y)+(_&(1<<x)-1)];continue t}if(32&x){h.mode=12;break e}c.msg="invalid literal/length code",h.mode=30;break e}M=65535&y,(x&=15)&&(C<x&&(_+=Y[w++]<<C,C+=8),M+=_&(1<<x)-1,_>>>=x,C-=x),C<15&&(_+=Y[w++]<<C,C+=8,_+=Y[w++]<<C,C+=8),y=p[_&g];r:for(;;){if(_>>>=x=y>>>24,C-=x,!(16&(x=y>>>16&255))){if(!(64&x)){y=p[(65535&y)+(_&(1<<x)-1)];continue r}c.msg="invalid distance code",h.mode=30;break e}if(F=65535&y,C<(x&=15)&&(_+=Y[w++]<<C,(C+=8)<x&&(_+=Y[w++]<<C,C+=8)),D<(F+=_&(1<<x)-1)){c.msg="invalid distance too far back",h.mode=30;break e}if(_>>>=x,C-=x,(x=E-j)<F){if(R<(x=F-x)&&h.sane){c.msg="invalid distance too far back",h.mode=30;break e}if(U=N,(q=0)===H){if(q+=P-x,x<M){for(M-=x;B[E++]=N[q++],--x;);q=E-F,U=B}}else if(H<x){if(q+=P+H-x,(x-=H)<M){for(M-=x;B[E++]=N[q++],--x;);if(q=0,H<M){for(M-=x=H;B[E++]=N[q++],--x;);q=E-F,U=B}}}else if(q+=H-x,x<M){for(M-=x;B[E++]=N[q++],--x;);q=E-F,U=B}for(;2<M;)B[E++]=U[q++],B[E++]=U[q++],B[E++]=U[q++],M-=3;M&&(B[E++]=U[q++],1<M&&(B[E++]=U[q++]))}else{for(q=E-F;B[E++]=B[q++],B[E++]=B[q++],B[E++]=B[q++],2<(M-=3););M&&(B[E++]=B[q++],1<M&&(B[E++]=B[q++]))}break}}break}}while(w<k&&E<$);w-=M=C>>3,_&=(1<<(C-=M<<3))-1,c.next_in=w,c.next_out=E,c.avail_in=w<k?k-w+5:5-(w-k),c.avail_out=E<$?$-E+257:257-(E-$),h.hold=_,h.bits=C}},{}],49:[function(s,d,u){var c=s("../utils/common"),f=s("./adler32"),h=s("./crc32"),w=s("./inffast"),k=s("./inftrees"),E=-2;function j(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(b){var g;return b&&b.state?(g=b.state,b.total_in=b.total_out=g.total=0,b.msg="",g.wrap&&(b.adler=1&g.wrap),g.mode=1,g.last=0,g.havedict=0,g.dmax=32768,g.head=null,g.hold=0,g.bits=0,g.lencode=g.lendyn=new c.Buf32(852),g.distcode=g.distdyn=new c.Buf32(592),g.sane=1,g.back=-1,0):E}function P(b){var g;return b&&b.state?((g=b.state).wsize=0,g.whave=0,g.wnext=0,D(b)):E}function R(b,g){var y,x;return b&&b.state?(x=b.state,g<0?(y=0,g=-g):(y=1+(g>>4),g<48&&(g&=15)),g&&(g<8||15<g)?E:(x.window!==null&&x.wbits!==g&&(x.window=null),x.wrap=y,x.wbits=g,P(b))):E}function H(b,g){var y,x;return b?(x=new $,(b.state=x).window=null,(y=R(b,g))!==0&&(b.state=null),y):E}var N,_,C=!0;function v(b){if(C){var g;for(N=new c.Buf32(512),_=new c.Buf32(32),g=0;g<144;)b.lens[g++]=8;for(;g<256;)b.lens[g++]=9;for(;g<280;)b.lens[g++]=7;for(;g<288;)b.lens[g++]=8;for(k(1,b.lens,0,288,N,0,b.work,{bits:9}),g=0;g<32;)b.lens[g++]=5;k(2,b.lens,0,32,_,0,b.work,{bits:5}),C=!1}b.lencode=N,b.lenbits=9,b.distcode=_,b.distbits=5}function p(b,g,y,x){var M,F=b.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new c.Buf8(F.wsize)),x>=F.wsize?(c.arraySet(F.window,g,y-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(x<(M=F.wsize-F.wnext)&&(M=x),c.arraySet(F.window,g,y-x,M,F.wnext),(x-=M)?(c.arraySet(F.window,g,y-x,x,0),F.wnext=x,F.whave=F.wsize):(F.wnext+=M,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=M))),0}u.inflateReset=P,u.inflateReset2=R,u.inflateResetKeep=D,u.inflateInit=function(b){return H(b,15)},u.inflateInit2=H,u.inflate=function(b,g){var y,x,M,F,q,U,Y,B,W,I,A,z,V,Z,X,K,ie,ne,G,ee,J,te,se,ae,de=0,he=new c.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return E;(y=b.state).mode===12&&(y.mode=13),q=b.next_out,M=b.output,Y=b.avail_out,F=b.next_in,x=b.input,U=b.avail_in,B=y.hold,W=y.bits,I=U,A=Y,te=0;e:for(;;)switch(y.mode){case 1:if(y.wrap===0){y.mode=13;break}for(;W<16;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(2&y.wrap&&B===35615){he[y.check=0]=255&B,he[1]=B>>>8&255,y.check=h(y.check,he,2,0),W=B=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&B)<<8)+(B>>8))%31){b.msg="incorrect header check",y.mode=30;break}if((15&B)!=8){b.msg="unknown compression method",y.mode=30;break}if(W-=4,J=8+(15&(B>>>=4)),y.wbits===0)y.wbits=J;else if(J>y.wbits){b.msg="invalid window size",y.mode=30;break}y.dmax=1<<J,b.adler=y.check=1,y.mode=512&B?10:12,W=B=0;break;case 2:for(;W<16;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(y.flags=B,(255&y.flags)!=8){b.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){b.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=B>>8&1),512&y.flags&&(he[0]=255&B,he[1]=B>>>8&255,y.check=h(y.check,he,2,0)),W=B=0,y.mode=3;case 3:for(;W<32;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}y.head&&(y.head.time=B),512&y.flags&&(he[0]=255&B,he[1]=B>>>8&255,he[2]=B>>>16&255,he[3]=B>>>24&255,y.check=h(y.check,he,4,0)),W=B=0,y.mode=4;case 4:for(;W<16;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}y.head&&(y.head.xflags=255&B,y.head.os=B>>8),512&y.flags&&(he[0]=255&B,he[1]=B>>>8&255,y.check=h(y.check,he,2,0)),W=B=0,y.mode=5;case 5:if(1024&y.flags){for(;W<16;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}y.length=B,y.head&&(y.head.extra_len=B),512&y.flags&&(he[0]=255&B,he[1]=B>>>8&255,y.check=h(y.check,he,2,0)),W=B=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(U<(z=y.length)&&(z=U),z&&(y.head&&(J=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),c.arraySet(y.head.extra,x,F,z,J)),512&y.flags&&(y.check=h(y.check,x,z,F)),U-=z,F+=z,y.length-=z),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(U===0)break e;for(z=0;J=x[F+z++],y.head&&J&&y.length<65536&&(y.head.name+=String.fromCharCode(J)),J&&z<U;);if(512&y.flags&&(y.check=h(y.check,x,z,F)),U-=z,F+=z,J)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(U===0)break e;for(z=0;J=x[F+z++],y.head&&J&&y.length<65536&&(y.head.comment+=String.fromCharCode(J)),J&&z<U;);if(512&y.flags&&(y.check=h(y.check,x,z,F)),U-=z,F+=z,J)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;W<16;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(B!==(65535&y.check)){b.msg="header crc mismatch",y.mode=30;break}W=B=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),b.adler=y.check=0,y.mode=12;break;case 10:for(;W<32;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}b.adler=y.check=j(B),W=B=0,y.mode=11;case 11:if(y.havedict===0)return b.next_out=q,b.avail_out=Y,b.next_in=F,b.avail_in=U,y.hold=B,y.bits=W,2;b.adler=y.check=1,y.mode=12;case 12:if(g===5||g===6)break e;case 13:if(y.last){B>>>=7&W,W-=7&W,y.mode=27;break}for(;W<3;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}switch(y.last=1&B,W-=1,3&(B>>>=1)){case 0:y.mode=14;break;case 1:if(v(y),y.mode=20,g!==6)break;B>>>=2,W-=2;break e;case 2:y.mode=17;break;case 3:b.msg="invalid block type",y.mode=30}B>>>=2,W-=2;break;case 14:for(B>>>=7&W,W-=7&W;W<32;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if((65535&B)!=(B>>>16^65535)){b.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&B,W=B=0,y.mode=15,g===6)break e;case 15:y.mode=16;case 16:if(z=y.length){if(U<z&&(z=U),Y<z&&(z=Y),z===0)break e;c.arraySet(M,x,F,z,q),U-=z,F+=z,Y-=z,q+=z,y.length-=z;break}y.mode=12;break;case 17:for(;W<14;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(y.nlen=257+(31&B),B>>>=5,W-=5,y.ndist=1+(31&B),B>>>=5,W-=5,y.ncode=4+(15&B),B>>>=4,W-=4,286<y.nlen||30<y.ndist){b.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;W<3;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}y.lens[ve[y.have++]]=7&B,B>>>=3,W-=3}for(;y.have<19;)y.lens[ve[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,se={bits:y.lenbits},te=k(0,y.lens,0,19,y.lencode,0,y.work,se),y.lenbits=se.bits,te){b.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;K=(de=y.lencode[B&(1<<y.lenbits)-1])>>>16&255,ie=65535&de,!((X=de>>>24)<=W);){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(ie<16)B>>>=X,W-=X,y.lens[y.have++]=ie;else{if(ie===16){for(ae=X+2;W<ae;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(B>>>=X,W-=X,y.have===0){b.msg="invalid bit length repeat",y.mode=30;break}J=y.lens[y.have-1],z=3+(3&B),B>>>=2,W-=2}else if(ie===17){for(ae=X+3;W<ae;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}W-=X,J=0,z=3+(7&(B>>>=X)),B>>>=3,W-=3}else{for(ae=X+7;W<ae;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}W-=X,J=0,z=11+(127&(B>>>=X)),B>>>=7,W-=7}if(y.have+z>y.nlen+y.ndist){b.msg="invalid bit length repeat",y.mode=30;break}for(;z--;)y.lens[y.have++]=J}}if(y.mode===30)break;if(y.lens[256]===0){b.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,se={bits:y.lenbits},te=k(1,y.lens,0,y.nlen,y.lencode,0,y.work,se),y.lenbits=se.bits,te){b.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,se={bits:y.distbits},te=k(2,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,se),y.distbits=se.bits,te){b.msg="invalid distances set",y.mode=30;break}if(y.mode=20,g===6)break e;case 20:y.mode=21;case 21:if(6<=U&&258<=Y){b.next_out=q,b.avail_out=Y,b.next_in=F,b.avail_in=U,y.hold=B,y.bits=W,w(b,A),q=b.next_out,M=b.output,Y=b.avail_out,F=b.next_in,x=b.input,U=b.avail_in,B=y.hold,W=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;K=(de=y.lencode[B&(1<<y.lenbits)-1])>>>16&255,ie=65535&de,!((X=de>>>24)<=W);){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(K&&!(240&K)){for(ne=X,G=K,ee=ie;K=(de=y.lencode[ee+((B&(1<<ne+G)-1)>>ne)])>>>16&255,ie=65535&de,!(ne+(X=de>>>24)<=W);){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}B>>>=ne,W-=ne,y.back+=ne}if(B>>>=X,W-=X,y.back+=X,y.length=ie,K===0){y.mode=26;break}if(32&K){y.back=-1,y.mode=12;break}if(64&K){b.msg="invalid literal/length code",y.mode=30;break}y.extra=15&K,y.mode=22;case 22:if(y.extra){for(ae=y.extra;W<ae;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}y.length+=B&(1<<y.extra)-1,B>>>=y.extra,W-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;K=(de=y.distcode[B&(1<<y.distbits)-1])>>>16&255,ie=65535&de,!((X=de>>>24)<=W);){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(!(240&K)){for(ne=X,G=K,ee=ie;K=(de=y.distcode[ee+((B&(1<<ne+G)-1)>>ne)])>>>16&255,ie=65535&de,!(ne+(X=de>>>24)<=W);){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}B>>>=ne,W-=ne,y.back+=ne}if(B>>>=X,W-=X,y.back+=X,64&K){b.msg="invalid distance code",y.mode=30;break}y.offset=ie,y.extra=15&K,y.mode=24;case 24:if(y.extra){for(ae=y.extra;W<ae;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}y.offset+=B&(1<<y.extra)-1,B>>>=y.extra,W-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){b.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(Y===0)break e;if(z=A-Y,y.offset>z){if((z=y.offset-z)>y.whave&&y.sane){b.msg="invalid distance too far back",y.mode=30;break}V=z>y.wnext?(z-=y.wnext,y.wsize-z):y.wnext-z,z>y.length&&(z=y.length),Z=y.window}else Z=M,V=q-y.offset,z=y.length;for(Y<z&&(z=Y),Y-=z,y.length-=z;M[q++]=Z[V++],--z;);y.length===0&&(y.mode=21);break;case 26:if(Y===0)break e;M[q++]=y.length,Y--,y.mode=21;break;case 27:if(y.wrap){for(;W<32;){if(U===0)break e;U--,B|=x[F++]<<W,W+=8}if(A-=Y,b.total_out+=A,y.total+=A,A&&(b.adler=y.check=y.flags?h(y.check,M,A,q-A):f(y.check,M,A,q-A)),A=Y,(y.flags?B:j(B))!==y.check){b.msg="incorrect data check",y.mode=30;break}W=B=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;W<32;){if(U===0)break e;U--,B+=x[F++]<<W,W+=8}if(B!==(4294967295&y.total)){b.msg="incorrect length check",y.mode=30;break}W=B=0}y.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return E}return b.next_out=q,b.avail_out=Y,b.next_in=F,b.avail_in=U,y.hold=B,y.bits=W,(y.wsize||A!==b.avail_out&&y.mode<30&&(y.mode<27||g!==4))&&p(b,b.output,b.next_out,A-b.avail_out)?(y.mode=31,-4):(I-=b.avail_in,A-=b.avail_out,b.total_in+=I,b.total_out+=A,y.total+=A,y.wrap&&A&&(b.adler=y.check=y.flags?h(y.check,M,A,b.next_out-A):f(y.check,M,A,b.next_out-A)),b.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(I==0&&A===0||g===4)&&te===0&&(te=-5),te)},u.inflateEnd=function(b){if(!b||!b.state)return E;var g=b.state;return g.window&&(g.window=null),b.state=null,0},u.inflateGetHeader=function(b,g){var y;return b&&b.state&&2&(y=b.state).wrap?((y.head=g).done=!1,0):E},u.inflateSetDictionary=function(b,g){var y,x=g.length;return b&&b.state?(y=b.state).wrap!==0&&y.mode!==11?E:y.mode===11&&f(1,g,x,0)!==y.check?-3:p(b,g,x,x)?(y.mode=31,-4):(y.havedict=1,0):E},u.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,d,u){var c=s("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];d.exports=function(E,j,$,D,P,R,H,N){var _,C,v,p,b,g,y,x,M,F=N.bits,q=0,U=0,Y=0,B=0,W=0,I=0,A=0,z=0,V=0,Z=0,X=null,K=0,ie=new c.Buf16(16),ne=new c.Buf16(16),G=null,ee=0;for(q=0;q<=15;q++)ie[q]=0;for(U=0;U<D;U++)ie[j[$+U]]++;for(W=F,B=15;1<=B&&ie[B]===0;B--);if(B<W&&(W=B),B===0)return P[R++]=20971520,P[R++]=20971520,N.bits=1,0;for(Y=1;Y<B&&ie[Y]===0;Y++);for(W<Y&&(W=Y),q=z=1;q<=15;q++)if(z<<=1,(z-=ie[q])<0)return-1;if(0<z&&(E===0||B!==1))return-1;for(ne[1]=0,q=1;q<15;q++)ne[q+1]=ne[q]+ie[q];for(U=0;U<D;U++)j[$+U]!==0&&(H[ne[j[$+U]]++]=U);if(g=E===0?(X=G=H,19):E===1?(X=f,K-=257,G=h,ee-=257,256):(X=w,G=k,-1),q=Y,b=R,A=U=Z=0,v=-1,p=(V=1<<(I=W))-1,E===1&&852<V||E===2&&592<V)return 1;for(;;){for(y=q-A,M=H[U]<g?(x=0,H[U]):H[U]>g?(x=G[ee+H[U]],X[K+H[U]]):(x=96,0),_=1<<q-A,Y=C=1<<I;P[b+(Z>>A)+(C-=_)]=y<<24|x<<16|M|0,C!==0;);for(_=1<<q-1;Z&_;)_>>=1;if(_!==0?(Z&=_-1,Z+=_):Z=0,U++,--ie[q]==0){if(q===B)break;q=j[$+H[U]]}if(W<q&&(Z&p)!==v){for(A===0&&(A=W),b+=Y,z=1<<(I=q-A);I+A<B&&!((z-=ie[I+A])<=0);)I++,z<<=1;if(V+=1<<I,E===1&&852<V||E===2&&592<V)return 1;P[v=Z&p]=W<<24|I<<16|b-R|0}}return Z!==0&&(P[b+Z]=q-A<<24|4194304|0),N.bits=W,0}},{"../utils/common":41}],51:[function(s,d,u){d.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,d,u){var c=s("../utils/common");function f(G){for(var ee=G.length;0<=--ee;)G[ee]=0}var h=256,w=286,k=30,E=15,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(576);f(R);var H=new Array(60);f(H);var N=new Array(512);f(N);var _=new Array(256);f(_);var C=new Array(29);f(C);var v,p,b,g=new Array(k);function y(G,ee,J,te,se){this.static_tree=G,this.extra_bits=ee,this.extra_base=J,this.elems=te,this.max_length=se,this.has_stree=G&&G.length}function x(G,ee){this.dyn_tree=G,this.max_code=0,this.stat_desc=ee}function M(G){return G<256?N[G]:N[256+(G>>>7)]}function F(G,ee){G.pending_buf[G.pending++]=255&ee,G.pending_buf[G.pending++]=ee>>>8&255}function q(G,ee,J){G.bi_valid>16-J?(G.bi_buf|=ee<<G.bi_valid&65535,F(G,G.bi_buf),G.bi_buf=ee>>16-G.bi_valid,G.bi_valid+=J-16):(G.bi_buf|=ee<<G.bi_valid&65535,G.bi_valid+=J)}function U(G,ee,J){q(G,J[2*ee],J[2*ee+1])}function Y(G,ee){for(var J=0;J|=1&G,G>>>=1,J<<=1,0<--ee;);return J>>>1}function B(G,ee,J){var te,se,ae=new Array(16),de=0;for(te=1;te<=E;te++)ae[te]=de=de+J[te-1]<<1;for(se=0;se<=ee;se++){var he=G[2*se+1];he!==0&&(G[2*se]=Y(ae[he]++,he))}}function W(G){var ee;for(ee=0;ee<w;ee++)G.dyn_ltree[2*ee]=0;for(ee=0;ee<k;ee++)G.dyn_dtree[2*ee]=0;for(ee=0;ee<19;ee++)G.bl_tree[2*ee]=0;G.dyn_ltree[512]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function I(G){8<G.bi_valid?F(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function A(G,ee,J,te){var se=2*ee,ae=2*J;return G[se]<G[ae]||G[se]===G[ae]&&te[ee]<=te[J]}function z(G,ee,J){for(var te=G.heap[J],se=J<<1;se<=G.heap_len&&(se<G.heap_len&&A(ee,G.heap[se+1],G.heap[se],G.depth)&&se++,!A(ee,te,G.heap[se],G.depth));)G.heap[J]=G.heap[se],J=se,se<<=1;G.heap[J]=te}function V(G,ee,J){var te,se,ae,de,he=0;if(G.last_lit!==0)for(;te=G.pending_buf[G.d_buf+2*he]<<8|G.pending_buf[G.d_buf+2*he+1],se=G.pending_buf[G.l_buf+he],he++,te===0?U(G,se,ee):(U(G,(ae=_[se])+h+1,ee),(de=j[ae])!==0&&q(G,se-=C[ae],de),U(G,ae=M(--te),J),(de=$[ae])!==0&&q(G,te-=g[ae],de)),he<G.last_lit;);U(G,256,ee)}function Z(G,ee){var J,te,se,ae=ee.dyn_tree,de=ee.stat_desc.static_tree,he=ee.stat_desc.has_stree,ve=ee.stat_desc.elems,Se=-1;for(G.heap_len=0,G.heap_max=573,J=0;J<ve;J++)ae[2*J]!==0?(G.heap[++G.heap_len]=Se=J,G.depth[J]=0):ae[2*J+1]=0;for(;G.heap_len<2;)ae[2*(se=G.heap[++G.heap_len]=Se<2?++Se:0)]=1,G.depth[se]=0,G.opt_len--,he&&(G.static_len-=de[2*se+1]);for(ee.max_code=Se,J=G.heap_len>>1;1<=J;J--)z(G,ae,J);for(se=ve;J=G.heap[1],G.heap[1]=G.heap[G.heap_len--],z(G,ae,1),te=G.heap[1],G.heap[--G.heap_max]=J,G.heap[--G.heap_max]=te,ae[2*se]=ae[2*J]+ae[2*te],G.depth[se]=(G.depth[J]>=G.depth[te]?G.depth[J]:G.depth[te])+1,ae[2*J+1]=ae[2*te+1]=se,G.heap[1]=se++,z(G,ae,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],function(Te,ke){var Be,re,pe,we,be,me,Ee=ke.dyn_tree,Oe=ke.max_code,Ae=ke.stat_desc.static_tree,Ye=ke.stat_desc.has_stree,st=ke.stat_desc.extra_bits,je=ke.stat_desc.extra_base,tt=ke.stat_desc.max_length,Ze=0;for(we=0;we<=E;we++)Te.bl_count[we]=0;for(Ee[2*Te.heap[Te.heap_max]+1]=0,Be=Te.heap_max+1;Be<573;Be++)tt<(we=Ee[2*Ee[2*(re=Te.heap[Be])+1]+1]+1)&&(we=tt,Ze++),Ee[2*re+1]=we,Oe<re||(Te.bl_count[we]++,be=0,je<=re&&(be=st[re-je]),me=Ee[2*re],Te.opt_len+=me*(we+be),Ye&&(Te.static_len+=me*(Ae[2*re+1]+be)));if(Ze!==0){do{for(we=tt-1;Te.bl_count[we]===0;)we--;Te.bl_count[we]--,Te.bl_count[we+1]+=2,Te.bl_count[tt]--,Ze-=2}while(0<Ze);for(we=tt;we!==0;we--)for(re=Te.bl_count[we];re!==0;)Oe<(pe=Te.heap[--Be])||(Ee[2*pe+1]!==we&&(Te.opt_len+=(we-Ee[2*pe+1])*Ee[2*pe],Ee[2*pe+1]=we),re--)}}(G,ee),B(ae,Se,G.bl_count)}function X(G,ee,J){var te,se,ae=-1,de=ee[1],he=0,ve=7,Se=4;for(de===0&&(ve=138,Se=3),ee[2*(J+1)+1]=65535,te=0;te<=J;te++)se=de,de=ee[2*(te+1)+1],++he<ve&&se===de||(he<Se?G.bl_tree[2*se]+=he:se!==0?(se!==ae&&G.bl_tree[2*se]++,G.bl_tree[32]++):he<=10?G.bl_tree[34]++:G.bl_tree[36]++,ae=se,Se=(he=0)===de?(ve=138,3):se===de?(ve=6,3):(ve=7,4))}function K(G,ee,J){var te,se,ae=-1,de=ee[1],he=0,ve=7,Se=4;for(de===0&&(ve=138,Se=3),te=0;te<=J;te++)if(se=de,de=ee[2*(te+1)+1],!(++he<ve&&se===de)){if(he<Se)for(;U(G,se,G.bl_tree),--he!=0;);else se!==0?(se!==ae&&(U(G,se,G.bl_tree),he--),U(G,16,G.bl_tree),q(G,he-3,2)):he<=10?(U(G,17,G.bl_tree),q(G,he-3,3)):(U(G,18,G.bl_tree),q(G,he-11,7));ae=se,Se=(he=0)===de?(ve=138,3):se===de?(ve=6,3):(ve=7,4)}}f(g);var ie=!1;function ne(G,ee,J,te){q(G,0+(te?1:0),3),function(se,ae,de,he){I(se),F(se,de),F(se,~de),c.arraySet(se.pending_buf,se.window,ae,de,se.pending),se.pending+=de}(G,ee,J)}u._tr_init=function(G){ie||(function(){var ee,J,te,se,ae,de=new Array(16);for(se=te=0;se<28;se++)for(C[se]=te,ee=0;ee<1<<j[se];ee++)_[te++]=se;for(_[te-1]=se,se=ae=0;se<16;se++)for(g[se]=ae,ee=0;ee<1<<$[se];ee++)N[ae++]=se;for(ae>>=7;se<k;se++)for(g[se]=ae<<7,ee=0;ee<1<<$[se]-7;ee++)N[256+ae++]=se;for(J=0;J<=E;J++)de[J]=0;for(ee=0;ee<=143;)R[2*ee+1]=8,ee++,de[8]++;for(;ee<=255;)R[2*ee+1]=9,ee++,de[9]++;for(;ee<=279;)R[2*ee+1]=7,ee++,de[7]++;for(;ee<=287;)R[2*ee+1]=8,ee++,de[8]++;for(B(R,287,de),ee=0;ee<k;ee++)H[2*ee+1]=5,H[2*ee]=Y(ee,5);v=new y(R,j,257,w,E),p=new y(H,$,0,k,E),b=new y(new Array(0),D,0,19,7)}(),ie=!0),G.l_desc=new x(G.dyn_ltree,v),G.d_desc=new x(G.dyn_dtree,p),G.bl_desc=new x(G.bl_tree,b),G.bi_buf=0,G.bi_valid=0,W(G)},u._tr_stored_block=ne,u._tr_flush_block=function(G,ee,J,te){var se,ae,de=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=function(he){var ve,Se=4093624447;for(ve=0;ve<=31;ve++,Se>>>=1)if(1&Se&&he.dyn_ltree[2*ve]!==0)return 0;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return 1;for(ve=32;ve<h;ve++)if(he.dyn_ltree[2*ve]!==0)return 1;return 0}(G)),Z(G,G.l_desc),Z(G,G.d_desc),de=function(he){var ve;for(X(he,he.dyn_ltree,he.l_desc.max_code),X(he,he.dyn_dtree,he.d_desc.max_code),Z(he,he.bl_desc),ve=18;3<=ve&&he.bl_tree[2*P[ve]+1]===0;ve--);return he.opt_len+=3*(ve+1)+5+5+4,ve}(G),se=G.opt_len+3+7>>>3,(ae=G.static_len+3+7>>>3)<=se&&(se=ae)):se=ae=J+5,J+4<=se&&ee!==-1?ne(G,ee,J,te):G.strategy===4||ae===se?(q(G,2+(te?1:0),3),V(G,R,H)):(q(G,4+(te?1:0),3),function(he,ve,Se,Te){var ke;for(q(he,ve-257,5),q(he,Se-1,5),q(he,Te-4,4),ke=0;ke<Te;ke++)q(he,he.bl_tree[2*P[ke]+1],3);K(he,he.dyn_ltree,ve-1),K(he,he.dyn_dtree,Se-1)}(G,G.l_desc.max_code+1,G.d_desc.max_code+1,de+1),V(G,G.dyn_ltree,G.dyn_dtree)),W(G),te&&I(G)},u._tr_tally=function(G,ee,J){return G.pending_buf[G.d_buf+2*G.last_lit]=ee>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&ee,G.pending_buf[G.l_buf+G.last_lit]=255&J,G.last_lit++,ee===0?G.dyn_ltree[2*J]++:(G.matches++,ee--,G.dyn_ltree[2*(_[J]+h+1)]++,G.dyn_dtree[2*M(ee)]++),G.last_lit===G.lit_bufsize-1},u._tr_align=function(G){q(G,2,3),U(G,256,R),function(ee){ee.bi_valid===16?(F(ee,ee.bi_buf),ee.bi_buf=0,ee.bi_valid=0):8<=ee.bi_valid&&(ee.pending_buf[ee.pending++]=255&ee.bi_buf,ee.bi_buf>>=8,ee.bi_valid-=8)}(G)}},{"../utils/common":41}],53:[function(s,d,u){d.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,d,u){(function(c){(function(f,h){if(!f.setImmediate){var w,k,E,j,$=1,D={},P=!1,R=f.document,H=Object.getPrototypeOf&&Object.getPrototypeOf(f);H=H&&H.setTimeout?H:f,w={}.toString.call(f.process)==="[object process]"?function(v){m.nextTick(function(){_(v)})}:function(){if(f.postMessage&&!f.importScripts){var v=!0,p=f.onmessage;return f.onmessage=function(){v=!1},f.postMessage("","*"),f.onmessage=p,v}}()?(j="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",C,!1):f.attachEvent("onmessage",C),function(v){f.postMessage(j+v,"*")}):f.MessageChannel?((E=new MessageChannel).port1.onmessage=function(v){_(v.data)},function(v){E.port2.postMessage(v)}):R&&"onreadystatechange"in R.createElement("script")?(k=R.documentElement,function(v){var p=R.createElement("script");p.onreadystatechange=function(){_(v),p.onreadystatechange=null,k.removeChild(p),p=null},k.appendChild(p)}):function(v){setTimeout(_,0,v)},H.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var p=new Array(arguments.length-1),b=0;b<p.length;b++)p[b]=arguments[b+1];var g={callback:v,args:p};return D[$]=g,w($),$++},H.clearImmediate=N}function N(v){delete D[v]}function _(v){if(P)setTimeout(_,0,v);else{var p=D[v];if(p){P=!0;try{(function(b){var g=b.callback,y=b.args;switch(y.length){case 0:g();break;case 1:g(y[0]);break;case 2:g(y[0],y[1]);break;case 3:g(y[0],y[1],y[2]);break;default:g.apply(void 0,y)}})(p)}finally{N(v),P=!1}}}}function C(v){v.source===f&&typeof v.data=="string"&&v.data.indexOf(j)===0&&_(+v.data.slice(j.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{},i("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],i("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(i,T,S){(function(m){(function(){var o=/[\\^$.*+?()[\]{}|]/g,l=RegExp(o.source),n=typeof m=="object"&&m&&m.Object===Object&&m,e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")(),a=Object.prototype.toString,r=t.Symbol,s=r?r.prototype:void 0,d=s?s.toString:void 0;function u(c){if(typeof c=="string")return c;if(function(h){return typeof h=="symbol"||function(w){return!!w&&typeof w=="object"}(h)&&a.call(h)=="[object Symbol]"}(c))return d?d.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}T.exports=function(c){var f;return(c=(f=c)==null?"":u(f))&&l.test(c)?c.replace(o,"\\$&"):c}}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(i,T,S){(function(m){(function(){var o="[object Arguments]",l="[object Map]",n="[object Object]",e="[object Set]",t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,r=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[o]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[l]=f["[object Number]"]=f[n]=f["[object RegExp]"]=f[e]=f["[object String]"]=f["[object WeakMap]"]=!1;var h=typeof m=="object"&&m&&m.Object===Object&&m,w=typeof self=="object"&&self&&self.Object===Object&&self,k=h||w||Function("return this")(),E=typeof S=="object"&&S&&!S.nodeType&&S,j=E&&typeof T=="object"&&T&&!T.nodeType&&T,$=j&&j.exports===E&&h.process,D=function(){try{return $&&$.binding("util")}catch{}}(),P=D&&D.isTypedArray;function R(Q,ue,ye,xe){for(var De=-1,Ce=Q?Q.length:0;++De<Ce;){var Ie=Q[De];ue(xe,Ie,ye(Ie),Q)}return xe}function H(Q,ue){for(var ye=-1,xe=Q?Q.length:0;++ye<xe;)if(ue(Q[ye],ye,Q))return!0;return!1}function N(Q){var ue=!1;if(Q!=null&&typeof Q.toString!="function")try{ue=!!(Q+"")}catch{}return ue}function _(Q){var ue=-1,ye=Array(Q.size);return Q.forEach(function(xe,De){ye[++ue]=[De,xe]}),ye}function C(Q){var ue=-1,ye=Array(Q.size);return Q.forEach(function(xe){ye[++ue]=xe}),ye}var v,p,b,g=Array.prototype,y=Function.prototype,x=Object.prototype,M=k["__core-js_shared__"],F=(v=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",q=y.toString,U=x.hasOwnProperty,Y=x.toString,B=RegExp("^"+q.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=k.Symbol,I=k.Uint8Array,A=x.propertyIsEnumerable,z=g.splice,V=(p=Object.keys,b=Object,function(Q){return p(b(Q))}),Z=Re(k,"DataView"),X=Re(k,"Map"),K=Re(k,"Promise"),ie=Re(k,"Set"),ne=Re(k,"WeakMap"),G=Re(Object,"create"),ee=le(Z),J=le(X),te=le(K),se=le(ie),ae=le(ne),de=W?W.prototype:void 0,he=de?de.valueOf:void 0,ve=de?de.toString:void 0;function Se(Q){var ue=-1,ye=Q?Q.length:0;for(this.clear();++ue<ye;){var xe=Q[ue];this.set(xe[0],xe[1])}}function Te(Q){var ue=-1,ye=Q?Q.length:0;for(this.clear();++ue<ye;){var xe=Q[ue];this.set(xe[0],xe[1])}}function ke(Q){var ue=-1,ye=Q?Q.length:0;for(this.clear();++ue<ye;){var xe=Q[ue];this.set(xe[0],xe[1])}}function Be(Q){var ue=-1,ye=Q?Q.length:0;for(this.__data__=new ke;++ue<ye;)this.add(Q[ue])}function re(Q){this.__data__=new Te(Q)}function pe(Q,ue){var ye=ze(Q)||qe(Q)?function(Ie,rt){for(var Ge=-1,Je=Array(Ie);++Ge<Ie;)Je[Ge]=rt(Ge);return Je}(Q.length,String):[],xe=ye.length,De=!!xe;for(var Ce in Q)!U.call(Q,Ce)||De&&(Ce=="length"||ht(Ce,xe))||ye.push(Ce);return ye}function we(Q,ue){for(var ye=Q.length;ye--;)if(Fe(Q[ye][0],ue))return ye;return-1}function be(Q,ue,ye,xe){return Ee(Q,function(De,Ce,Ie){ue(xe,De,ye(De),Ie)}),xe}Se.prototype.clear=function(){this.__data__=G?G(null):{}},Se.prototype.delete=function(Q){return this.has(Q)&&delete this.__data__[Q]},Se.prototype.get=function(Q){var ue=this.__data__;if(G){var ye=ue[Q];return ye==="__lodash_hash_undefined__"?void 0:ye}return U.call(ue,Q)?ue[Q]:void 0},Se.prototype.has=function(Q){var ue=this.__data__;return G?ue[Q]!==void 0:U.call(ue,Q)},Se.prototype.set=function(Q,ue){return this.__data__[Q]=G&&ue===void 0?"__lodash_hash_undefined__":ue,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(Q){var ue=this.__data__,ye=we(ue,Q);return!(ye<0)&&(ye==ue.length-1?ue.pop():z.call(ue,ye,1),!0)},Te.prototype.get=function(Q){var ue=this.__data__,ye=we(ue,Q);return ye<0?void 0:ue[ye][1]},Te.prototype.has=function(Q){return we(this.__data__,Q)>-1},Te.prototype.set=function(Q,ue){var ye=this.__data__,xe=we(ye,Q);return xe<0?ye.push([Q,ue]):ye[xe][1]=ue,this},ke.prototype.clear=function(){this.__data__={hash:new Se,map:new(X||Te),string:new Se}},ke.prototype.delete=function(Q){return ot(this,Q).delete(Q)},ke.prototype.get=function(Q){return ot(this,Q).get(Q)},ke.prototype.has=function(Q){return ot(this,Q).has(Q)},ke.prototype.set=function(Q,ue){return ot(this,Q).set(Q,ue),this},Be.prototype.add=Be.prototype.push=function(Q){return this.__data__.set(Q,"__lodash_hash_undefined__"),this},Be.prototype.has=function(Q){return this.__data__.has(Q)},re.prototype.clear=function(){this.__data__=new Te},re.prototype.delete=function(Q){return this.__data__.delete(Q)},re.prototype.get=function(Q){return this.__data__.get(Q)},re.prototype.has=function(Q){return this.__data__.has(Q)},re.prototype.set=function(Q,ue){var ye=this.__data__;if(ye instanceof Te){var xe=ye.__data__;if(!X||xe.length<199)return xe.push([Q,ue]),this;ye=this.__data__=new ke(xe)}return ye.set(Q,ue),this};var me,Ee=(me=function(Q,ue){return Q&&Oe(Q,ue,xt)},function(Q,ue){if(Q==null)return Q;if(!Pe(Q))return me(Q,ue);for(var ye=Q.length,xe=-1,De=Object(Q);++xe<ye&&ue(De[xe],xe,De)!==!1;);return Q}),Oe=function(Q){return function(ue,ye,xe){for(var De=-1,Ce=Object(ue),Ie=xe(ue),rt=Ie.length;rt--;){var Ge=Ie[++De];if(ye(Ce[Ge],Ge,Ce)===!1)break}return ue}}();function Ae(Q,ue){for(var ye=0,xe=(ue=$e(ue,Q)?[ue]:We(ue)).length;Q!=null&&ye<xe;)Q=Q[oe(ue[ye++])];return ye&&ye==xe?Q:void 0}function Ye(Q,ue){return Q!=null&&ue in Object(Q)}function st(Q,ue,ye,xe,De){return Q===ue||(Q==null||ue==null||!Ke(Q)&&!yt(ue)?Q!=Q&&ue!=ue:function(Ce,Ie,rt,Ge,Je,Le){var ct=ze(Ce),dt=ze(Ie),pt="[object Array]",bt="[object Array]";ct||(pt=(pt=nt(Ce))==o?n:pt),dt||(bt=(bt=nt(Ie))==o?n:bt);var _t=pt==n&&!N(Ce),Tt=bt==n&&!N(Ie),Ot=pt==bt;if(Ot&&!_t)return Le||(Le=new re),ct||wt(Ce)?mt(Ce,Ie,rt,Ge,Je,Le):function(ut,it,Dt,Rt,tr,Mt,Bt){switch(Dt){case"[object DataView]":if(ut.byteLength!=it.byteLength||ut.byteOffset!=it.byteOffset)return!1;ut=ut.buffer,it=it.buffer;case"[object ArrayBuffer]":return!(ut.byteLength!=it.byteLength||!Rt(new I(ut),new I(it)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Fe(+ut,+it);case"[object Error]":return ut.name==it.name&&ut.message==it.message;case"[object RegExp]":case"[object String]":return ut==it+"";case l:var jt=_;case e:var Gt=2&Mt;if(jt||(jt=C),ut.size!=it.size&&!Gt)return!1;var rr=Bt.get(ut);if(rr)return rr==it;Mt|=1,Bt.set(ut,it);var Vt=mt(jt(ut),jt(it),Rt,tr,Mt,Bt);return Bt.delete(ut),Vt;case"[object Symbol]":if(he)return he.call(ut)==he.call(it)}return!1}(Ce,Ie,pt,rt,Ge,Je,Le);if(!(2&Je)){var Lt=_t&&U.call(Ce,"__wrapped__"),Ht=Tt&&U.call(Ie,"__wrapped__");if(Lt||Ht){var Ut=Lt?Ce.value():Ce,Wt=Ht?Ie.value():Ie;return Le||(Le=new re),rt(Ut,Wt,Ge,Je,Le)}}return Ot?(Le||(Le=new re),function(ut,it,Dt,Rt,tr,Mt){var Bt=2&tr,jt=xt(ut),Gt=jt.length,rr=xt(it).length;if(Gt!=rr&&!Bt)return!1;for(var Vt=Gt;Vt--;){var Pt=jt[Vt];if(!(Bt?Pt in it:U.call(it,Pt)))return!1}var Wr=Mt.get(ut);if(Wr&&Mt.get(it))return Wr==it;var nr=!0;Mt.set(ut,it),Mt.set(it,ut);for(var yr=Bt;++Vt<Gt;){Pt=jt[Vt];var sr=ut[Pt],ir=it[Pt];if(Rt)var Vr=Bt?Rt(ir,sr,Pt,it,ut,Mt):Rt(sr,ir,Pt,ut,it,Mt);if(!(Vr===void 0?sr===ir||Dt(sr,ir,Rt,tr,Mt):Vr)){nr=!1;break}yr||(yr=Pt=="constructor")}if(nr&&!yr){var or=ut.constructor,ar=it.constructor;or==ar||!("constructor"in ut)||!("constructor"in it)||typeof or=="function"&&or instanceof or&&typeof ar=="function"&&ar instanceof ar||(nr=!1)}return Mt.delete(ut),Mt.delete(it),nr}(Ce,Ie,rt,Ge,Je,Le)):!1}(Q,ue,st,ye,xe,De))}function je(Q){return!(!Ke(Q)||function(ue){return!!F&&F in ue}(Q))&&(Ve(Q)||N(Q)?B:u).test(le(Q))}function tt(Q){return typeof Q=="function"?Q:Q==null?Et:typeof Q=="object"?ze(Q)?function(xe,De){return $e(xe)&&lt(De)?ft(oe(xe),De):function(Ce){var Ie=function(rt,Ge,Je){var Le=rt==null?void 0:Ae(rt,Ge);return Le===void 0?Je:Le}(Ce,xe);return Ie===void 0&&Ie===De?function(rt,Ge){return rt!=null&&function(Je,Le,ct){Le=$e(Le,Je)?[Le]:We(Le);for(var dt,pt=-1,bt=Le.length;++pt<bt;){var _t=oe(Le[pt]);if(!(dt=Je!=null&&ct(Je,_t)))break;Je=Je[_t]}return dt||!!(bt=Je?Je.length:0)&&He(bt)&&ht(_t,bt)&&(ze(Je)||qe(Je))}(rt,Ge,Ye)}(Ce,xe):st(De,Ie,void 0,3)}}(Q[0],Q[1]):function(xe){var De=function(Ce){for(var Ie=xt(Ce),rt=Ie.length;rt--;){var Ge=Ie[rt],Je=Ce[Ge];Ie[rt]=[Ge,Je,lt(Je)]}return Ie}(xe);return De.length==1&&De[0][2]?ft(De[0][0],De[0][1]):function(Ce){return Ce===xe||function(Ie,rt,Ge,Je){var Le=Ge.length,ct=Le;if(Ie==null)return!ct;for(Ie=Object(Ie);Le--;){var dt=Ge[Le];if(dt[2]?dt[1]!==Ie[dt[0]]:!(dt[0]in Ie))return!1}for(;++Le<ct;){var pt=(dt=Ge[Le])[0],bt=Ie[pt],_t=dt[1];if(dt[2]){if(bt===void 0&&!(pt in Ie))return!1}else{var Tt=new re,Ot;if(!(Ot===void 0?st(_t,bt,Je,3,Tt):Ot))return!1}}return!0}(Ce,xe,De)}}(Q):$e(ue=Q)?(ye=oe(ue),function(xe){return xe==null?void 0:xe[ye]}):function(xe){return function(De){return Ae(De,xe)}}(ue);var ue,ye}function Ze(Q){if(ye=(ue=Q)&&ue.constructor,xe=typeof ye=="function"&&ye.prototype||x,ue!==xe)return V(Q);var ue,ye,xe,De=[];for(var Ce in Object(Q))U.call(Q,Ce)&&Ce!="constructor"&&De.push(Ce);return De}function We(Q){return ze(Q)?Q:Xe(Q)}function mt(Q,ue,ye,xe,De,Ce){var Ie=2&De,rt=Q.length,Ge=ue.length;if(rt!=Ge&&!(Ie&&Ge>rt))return!1;var Je=Ce.get(Q);if(Je&&Ce.get(ue))return Je==ue;var Le=-1,ct=!0,dt=1&De?new Be:void 0;for(Ce.set(Q,ue),Ce.set(ue,Q);++Le<rt;){var pt=Q[Le],bt=ue[Le];if(xe)var _t=Ie?xe(bt,pt,Le,ue,Q,Ce):xe(pt,bt,Le,Q,ue,Ce);if(_t!==void 0){if(_t)continue;ct=!1;break}if(dt){if(!H(ue,function(Tt,Ot){if(!dt.has(Ot)&&(pt===Tt||ye(pt,Tt,xe,De,Ce)))return dt.add(Ot)})){ct=!1;break}}else if(pt!==bt&&!ye(pt,bt,xe,De,Ce)){ct=!1;break}}return Ce.delete(Q),Ce.delete(ue),ct}function ot(Q,ue){var ye,xe,De=Q.__data__;return((xe=typeof(ye=ue))=="string"||xe=="number"||xe=="symbol"||xe=="boolean"?ye!=="__proto__":ye===null)?De[typeof ue=="string"?"string":"hash"]:De.map}function Re(Q,ue){var ye=function(xe,De){return xe==null?void 0:xe[De]}(Q,ue);return je(ye)?ye:void 0}var nt=function(Q){return Y.call(Q)};function ht(Q,ue){return!!(ue=ue??9007199254740991)&&(typeof Q=="number"||c.test(Q))&&Q>-1&&Q%1==0&&Q<ue}function $e(Q,ue){if(ze(Q))return!1;var ye=typeof Q;return!(ye!="number"&&ye!="symbol"&&ye!="boolean"&&Q!=null&&!gt(Q))||a.test(Q)||!t.test(Q)||ue!=null&&Q in Object(ue)}function lt(Q){return Q==Q&&!Ke(Q)}function ft(Q,ue){return function(ye){return ye!=null&&ye[Q]===ue&&(ue!==void 0||Q in Object(ye))}}(Z&&nt(new Z(new ArrayBuffer(1)))!="[object DataView]"||X&&nt(new X)!=l||K&&nt(K.resolve())!="[object Promise]"||ie&&nt(new ie)!=e||ne&&nt(new ne)!="[object WeakMap]")&&(nt=function(Q){var ue=Y.call(Q),ye=ue==n?Q.constructor:void 0,xe=ye?le(ye):void 0;if(xe)switch(xe){case ee:return"[object DataView]";case J:return l;case te:return"[object Promise]";case se:return e;case ae:return"[object WeakMap]"}return ue});var Xe=Ne(function(Q){var ue;Q=(ue=Q)==null?"":function(xe){if(typeof xe=="string")return xe;if(gt(xe))return ve?ve.call(xe):"";var De=xe+"";return De=="0"&&1/xe==-1/0?"-0":De}(ue);var ye=[];return r.test(Q)&&ye.push(""),Q.replace(s,function(xe,De,Ce,Ie){ye.push(Ce?Ie.replace(d,"$1"):De||xe)}),ye});function oe(Q){if(typeof Q=="string"||gt(Q))return Q;var ue=Q+"";return ue=="0"&&1/Q==-1/0?"-0":ue}function le(Q){if(Q!=null){try{return q.call(Q)}catch{}try{return Q+""}catch{}}return""}var ge,Me=(ge=function(Q,ue,ye){U.call(Q,ye)?Q[ye].push(ue):Q[ye]=[ue]},function(Q,ue){var ye=ze(Q)?R:be,xe={};return ye(Q,ge,tt(ue),xe)});function Ne(Q,ue){if(typeof Q!="function"||ue&&typeof ue!="function")throw new TypeError("Expected a function");var ye=function(){var xe=arguments,De=ue?ue.apply(this,xe):xe[0],Ce=ye.cache;if(Ce.has(De))return Ce.get(De);var Ie=Q.apply(this,xe);return ye.cache=Ce.set(De,Ie),Ie};return ye.cache=new(Ne.Cache||ke),ye}function Fe(Q,ue){return Q===ue||Q!=Q&&ue!=ue}function qe(Q){return function(ue){return yt(ue)&&Pe(ue)}(Q)&&U.call(Q,"callee")&&(!A.call(Q,"callee")||Y.call(Q)==o)}Ne.Cache=ke;var ze=Array.isArray;function Pe(Q){return Q!=null&&He(Q.length)&&!Ve(Q)}function Ve(Q){var ue=Ke(Q)?Y.call(Q):"";return ue=="[object Function]"||ue=="[object GeneratorFunction]"}function He(Q){return typeof Q=="number"&&Q>-1&&Q%1==0&&Q<=9007199254740991}function Ke(Q){var ue=typeof Q;return!!Q&&(ue=="object"||ue=="function")}function yt(Q){return!!Q&&typeof Q=="object"}function gt(Q){return typeof Q=="symbol"||yt(Q)&&Y.call(Q)=="[object Symbol]"}var wt=P?function(Q){return function(ue){return Q(ue)}}(P):function(Q){return yt(Q)&&He(Q.length)&&!!f[Y.call(Q)]};function xt(Q){return Pe(Q)?pe(Q):Ze(Q)}function Et(Q){return Q}T.exports=Me}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(i,T,S){var m=Object.prototype.toString;T.exports=function(o){return o===!0||o===!1||function(l){return!!l&&typeof l=="object"}(o)&&m.call(o)=="[object Boolean]"}},{}],445:[function(i,T,S){(function(m){(function(){var o="[object Arguments]",l="[object Map]",n="[object Object]",e="[object Set]",t=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,r={};r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r[o]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r[l]=r["[object Number]"]=r[n]=r["[object RegExp]"]=r[e]=r["[object String]"]=r["[object WeakMap]"]=!1;var s=typeof m=="object"&&m&&m.Object===Object&&m,d=typeof self=="object"&&self&&self.Object===Object&&self,u=s||d||Function("return this")(),c=typeof S=="object"&&S&&!S.nodeType&&S,f=c&&typeof T=="object"&&T&&!T.nodeType&&T,h=f&&f.exports===c,w=h&&s.process,k=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),E=k&&k.isTypedArray;function j(oe,le){for(var ge=-1,Me=oe==null?0:oe.length;++ge<Me;)if(le(oe[ge],ge,oe))return!0;return!1}function $(oe){var le=-1,ge=Array(oe.size);return oe.forEach(function(Me,Ne){ge[++le]=[Ne,Me]}),ge}function D(oe){var le=-1,ge=Array(oe.size);return oe.forEach(function(Me){ge[++le]=Me}),ge}var P,R,H,N=Array.prototype,_=Function.prototype,C=Object.prototype,v=u["__core-js_shared__"],p=_.toString,b=C.hasOwnProperty,g=(P=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",y=C.toString,x=RegExp("^"+p.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=h?u.Buffer:void 0,F=u.Symbol,q=u.Uint8Array,U=C.propertyIsEnumerable,Y=N.splice,B=F?F.toStringTag:void 0,W=Object.getOwnPropertySymbols,I=M?M.isBuffer:void 0,A=(R=Object.keys,H=Object,function(oe){return R(H(oe))}),z=Ye(u,"DataView"),V=Ye(u,"Map"),Z=Ye(u,"Promise"),X=Ye(u,"Set"),K=Ye(u,"WeakMap"),ie=Ye(Object,"create"),ne=Ze(z),G=Ze(V),ee=Ze(Z),J=Ze(X),te=Ze(K),se=F?F.prototype:void 0,ae=se?se.valueOf:void 0;function de(oe){var le=-1,ge=oe==null?0:oe.length;for(this.clear();++le<ge;){var Me=oe[le];this.set(Me[0],Me[1])}}function he(oe){var le=-1,ge=oe==null?0:oe.length;for(this.clear();++le<ge;){var Me=oe[le];this.set(Me[0],Me[1])}}function ve(oe){var le=-1,ge=oe==null?0:oe.length;for(this.clear();++le<ge;){var Me=oe[le];this.set(Me[0],Me[1])}}function Se(oe){var le=-1,ge=oe==null?0:oe.length;for(this.__data__=new ve;++le<ge;)this.add(oe[le])}function Te(oe){var le=this.__data__=new he(oe);this.size=le.size}function ke(oe,le){var ge=ot(oe),Me=!ge&&mt(oe),Ne=!ge&&!Me&&Re(oe),Fe=!ge&&!Me&&!Ne&&ft(oe),qe=ge||Me||Ne||Fe,ze=qe?function(He,Ke){for(var yt=-1,gt=Array(He);++yt<He;)gt[yt]=Ke(yt);return gt}(oe.length,String):[],Pe=ze.length;for(var Ve in oe)!b.call(oe,Ve)||qe&&(Ve=="length"||Ne&&(Ve=="offset"||Ve=="parent")||Fe&&(Ve=="buffer"||Ve=="byteLength"||Ve=="byteOffset")||tt(Ve,Pe))||ze.push(Ve);return ze}function Be(oe,le){for(var ge=oe.length;ge--;)if(We(oe[ge][0],le))return ge;return-1}function re(oe){return oe==null?oe===void 0?"[object Undefined]":"[object Null]":B&&B in Object(oe)?function(le){var ge=b.call(le,B),Me=le[B];try{le[B]=void 0;var Ne=!0}catch{}var Fe=y.call(le);return Ne&&(ge?le[B]=Me:delete le[B]),Fe}(oe):function(le){return y.call(le)}(oe)}function pe(oe){return lt(oe)&&re(oe)==o}function we(oe,le,ge,Me,Ne){return oe===le||(oe==null||le==null||!lt(oe)&&!lt(le)?oe!=oe&&le!=le:function(Fe,qe,ze,Pe,Ve,He){var Ke=ot(Fe),yt=ot(qe),gt=Ke?"[object Array]":je(Fe),wt=yt?"[object Array]":je(qe),xt=(gt=gt==o?n:gt)==n,Et=(wt=wt==o?n:wt)==n,Q=gt==wt;if(Q&&Re(Fe)){if(!Re(qe))return!1;Ke=!0,xt=!1}if(Q&&!xt)return He||(He=new Te),Ke||ft(Fe)?Ee(Fe,qe,ze,Pe,Ve,He):function(Ce,Ie,rt,Ge,Je,Le,ct){switch(rt){case"[object DataView]":if(Ce.byteLength!=Ie.byteLength||Ce.byteOffset!=Ie.byteOffset)return!1;Ce=Ce.buffer,Ie=Ie.buffer;case"[object ArrayBuffer]":return!(Ce.byteLength!=Ie.byteLength||!Le(new q(Ce),new q(Ie)));case"[object Boolean]":case"[object Date]":case"[object Number]":return We(+Ce,+Ie);case"[object Error]":return Ce.name==Ie.name&&Ce.message==Ie.message;case"[object RegExp]":case"[object String]":return Ce==Ie+"";case l:var dt=$;case e:var pt=1&Ge;if(dt||(dt=D),Ce.size!=Ie.size&&!pt)return!1;var bt=ct.get(Ce);if(bt)return bt==Ie;Ge|=2,ct.set(Ce,Ie);var _t=Ee(dt(Ce),dt(Ie),Ge,Je,Le,ct);return ct.delete(Ce),_t;case"[object Symbol]":if(ae)return ae.call(Ce)==ae.call(Ie)}return!1}(Fe,qe,gt,ze,Pe,Ve,He);if(!(1&ze)){var ue=xt&&b.call(Fe,"__wrapped__"),ye=Et&&b.call(qe,"__wrapped__");if(ue||ye){var xe=ue?Fe.value():Fe,De=ye?qe.value():qe;return He||(He=new Te),Ve(xe,De,ze,Pe,He)}}return Q?(He||(He=new Te),function(Ce,Ie,rt,Ge,Je,Le){var ct=1&rt,dt=Oe(Ce),pt=dt.length,bt=Oe(Ie).length;if(pt!=bt&&!ct)return!1;for(var _t=pt;_t--;){var Tt=dt[_t];if(!(ct?Tt in Ie:b.call(Ie,Tt)))return!1}var Ot=Le.get(Ce);if(Ot&&Le.get(Ie))return Ot==Ie;var Lt=!0;Le.set(Ce,Ie),Le.set(Ie,Ce);for(var Ht=ct;++_t<pt;){Tt=dt[_t];var Ut=Ce[Tt],Wt=Ie[Tt];if(Ge)var ut=ct?Ge(Wt,Ut,Tt,Ie,Ce,Le):Ge(Ut,Wt,Tt,Ce,Ie,Le);if(!(ut===void 0?Ut===Wt||Je(Ut,Wt,rt,Ge,Le):ut)){Lt=!1;break}Ht||(Ht=Tt=="constructor")}if(Lt&&!Ht){var it=Ce.constructor,Dt=Ie.constructor;it==Dt||!("constructor"in Ce)||!("constructor"in Ie)||typeof it=="function"&&it instanceof it&&typeof Dt=="function"&&Dt instanceof Dt||(Lt=!1)}return Le.delete(Ce),Le.delete(Ie),Lt}(Fe,qe,ze,Pe,Ve,He)):!1}(oe,le,ge,Me,we,Ne))}function be(oe){return!(!$e(oe)||function(le){return!!g&&g in le}(oe))&&(nt(oe)?x:t).test(Ze(oe))}function me(oe){if(ge=(le=oe)&&le.constructor,Me=typeof ge=="function"&&ge.prototype||C,le!==Me)return A(oe);var le,ge,Me,Ne=[];for(var Fe in Object(oe))b.call(oe,Fe)&&Fe!="constructor"&&Ne.push(Fe);return Ne}function Ee(oe,le,ge,Me,Ne,Fe){var qe=1&ge,ze=oe.length,Pe=le.length;if(ze!=Pe&&!(qe&&Pe>ze))return!1;var Ve=Fe.get(oe);if(Ve&&Fe.get(le))return Ve==le;var He=-1,Ke=!0,yt=2&ge?new Se:void 0;for(Fe.set(oe,le),Fe.set(le,oe);++He<ze;){var gt=oe[He],wt=le[He];if(Me)var xt=qe?Me(wt,gt,He,le,oe,Fe):Me(gt,wt,He,oe,le,Fe);if(xt!==void 0){if(xt)continue;Ke=!1;break}if(yt){if(!j(le,function(Et,Q){if(ue=Q,!yt.has(ue)&&(gt===Et||Ne(gt,Et,ge,Me,Fe)))return yt.push(Q);var ue})){Ke=!1;break}}else if(gt!==wt&&!Ne(gt,wt,ge,Me,Fe)){Ke=!1;break}}return Fe.delete(oe),Fe.delete(le),Ke}function Oe(oe){return function(le,ge,Me){var Ne=ge(le);return ot(le)?Ne:function(Fe,qe){for(var ze=-1,Pe=qe.length,Ve=Fe.length;++ze<Pe;)Fe[Ve+ze]=qe[ze];return Fe}(Ne,Me(le))}(oe,Xe,st)}function Ae(oe,le){var ge,Me,Ne=oe.__data__;return((Me=typeof(ge=le))=="string"||Me=="number"||Me=="symbol"||Me=="boolean"?ge!=="__proto__":ge===null)?Ne[typeof le=="string"?"string":"hash"]:Ne.map}function Ye(oe,le){var ge=function(Me,Ne){return Me==null?void 0:Me[Ne]}(oe,le);return be(ge)?ge:void 0}de.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},de.prototype.delete=function(oe){var le=this.has(oe)&&delete this.__data__[oe];return this.size-=le?1:0,le},de.prototype.get=function(oe){var le=this.__data__;if(ie){var ge=le[oe];return ge==="__lodash_hash_undefined__"?void 0:ge}return b.call(le,oe)?le[oe]:void 0},de.prototype.has=function(oe){var le=this.__data__;return ie?le[oe]!==void 0:b.call(le,oe)},de.prototype.set=function(oe,le){var ge=this.__data__;return this.size+=this.has(oe)?0:1,ge[oe]=ie&&le===void 0?"__lodash_hash_undefined__":le,this},he.prototype.clear=function(){this.__data__=[],this.size=0},he.prototype.delete=function(oe){var le=this.__data__,ge=Be(le,oe);return!(ge<0)&&(ge==le.length-1?le.pop():Y.call(le,ge,1),--this.size,!0)},he.prototype.get=function(oe){var le=this.__data__,ge=Be(le,oe);return ge<0?void 0:le[ge][1]},he.prototype.has=function(oe){return Be(this.__data__,oe)>-1},he.prototype.set=function(oe,le){var ge=this.__data__,Me=Be(ge,oe);return Me<0?(++this.size,ge.push([oe,le])):ge[Me][1]=le,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new de,map:new(V||he),string:new de}},ve.prototype.delete=function(oe){var le=Ae(this,oe).delete(oe);return this.size-=le?1:0,le},ve.prototype.get=function(oe){return Ae(this,oe).get(oe)},ve.prototype.has=function(oe){return Ae(this,oe).has(oe)},ve.prototype.set=function(oe,le){var ge=Ae(this,oe),Me=ge.size;return ge.set(oe,le),this.size+=ge.size==Me?0:1,this},Se.prototype.add=Se.prototype.push=function(oe){return this.__data__.set(oe,"__lodash_hash_undefined__"),this},Se.prototype.has=function(oe){return this.__data__.has(oe)},Te.prototype.clear=function(){this.__data__=new he,this.size=0},Te.prototype.delete=function(oe){var le=this.__data__,ge=le.delete(oe);return this.size=le.size,ge},Te.prototype.get=function(oe){return this.__data__.get(oe)},Te.prototype.has=function(oe){return this.__data__.has(oe)},Te.prototype.set=function(oe,le){var ge=this.__data__;if(ge instanceof he){var Me=ge.__data__;if(!V||Me.length<199)return Me.push([oe,le]),this.size=++ge.size,this;ge=this.__data__=new ve(Me)}return ge.set(oe,le),this.size=ge.size,this};var st=W?function(oe){return oe==null?[]:(oe=Object(oe),function(le,ge){for(var Me=-1,Ne=le==null?0:le.length,Fe=0,qe=[];++Me<Ne;){var ze=le[Me];ge(ze,Me,le)&&(qe[Fe++]=ze)}return qe}(W(oe),function(le){return U.call(oe,le)}))}:function(){return[]},je=re;function tt(oe,le){return!!(le=le??9007199254740991)&&(typeof oe=="number"||a.test(oe))&&oe>-1&&oe%1==0&&oe<le}function Ze(oe){if(oe!=null){try{return p.call(oe)}catch{}try{return oe+""}catch{}}return""}function We(oe,le){return oe===le||oe!=oe&&le!=le}(z&&je(new z(new ArrayBuffer(1)))!="[object DataView]"||V&&je(new V)!=l||Z&&je(Z.resolve())!="[object Promise]"||X&&je(new X)!=e||K&&je(new K)!="[object WeakMap]")&&(je=function(oe){var le=re(oe),ge=le==n?oe.constructor:void 0,Me=ge?Ze(ge):"";if(Me)switch(Me){case ne:return"[object DataView]";case G:return l;case ee:return"[object Promise]";case J:return e;case te:return"[object WeakMap]"}return le});var mt=pe(function(){return arguments}())?pe:function(oe){return lt(oe)&&b.call(oe,"callee")&&!U.call(oe,"callee")},ot=Array.isArray,Re=I||function(){return!1};function nt(oe){if(!$e(oe))return!1;var le=re(oe);return le=="[object Function]"||le=="[object GeneratorFunction]"||le=="[object AsyncFunction]"||le=="[object Proxy]"}function ht(oe){return typeof oe=="number"&&oe>-1&&oe%1==0&&oe<=9007199254740991}function $e(oe){var le=typeof oe;return oe!=null&&(le=="object"||le=="function")}function lt(oe){return oe!=null&&typeof oe=="object"}var ft=E?function(oe){return function(le){return oe(le)}}(E):function(oe){return lt(oe)&&ht(oe.length)&&!!r[re(oe)]};function Xe(oe){return(le=oe)!=null&&ht(le.length)&&!nt(le)?ke(oe):me(oe);var le}T.exports=function(oe,le){return we(oe,le)}}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(i,T,S){(function(m){(function(){var o=typeof m=="object"&&m&&m.Object===Object&&m,l=typeof self=="object"&&self&&self.Object===Object&&self,n=o||l||Function("return this")(),e=Object.prototype,t=e.hasOwnProperty,a=e.toString,r=n.Symbol,s=r?r.toStringTag:void 0;function d(u){return u==null?u===void 0?"[object Undefined]":"[object Null]":s&&s in Object(u)?function(c){var f=t.call(c,s),h=c[s];try{c[s]=void 0;var w=!0}catch{}var k=a.call(c);return w&&(f?c[s]=h:delete c[s]),k}(u):function(c){return a.call(c)}(u)}T.exports=function(u){if(!function(f){var h=typeof f;return f!=null&&(h=="object"||h=="function")}(u))return!1;var c=d(u);return c=="[object Function]"||c=="[object GeneratorFunction]"||c=="[object AsyncFunction]"||c=="[object Proxy]"}}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(i,T,S){T.exports=function(m){return m==null}},{}],448:[function(i,T,S){T.exports=function(m){return m===void 0}},{}],449:[function(i,T,S){(function(m){(function(){var o=/^\[object .+?Constructor\]$/,l=typeof m=="object"&&m&&m.Object===Object&&m,n=typeof self=="object"&&self&&self.Object===Object&&self,e=l||n||Function("return this")();function t(F,q){return!!(F&&F.length)&&function(U,Y,B){if(Y!=Y)return function(A,z,V,Z){for(var X=A.length,K=V+-1;++K<X;)if(z(A[K],K,A))return K;return-1}(U,a,B);for(var W=B-1,I=U.length;++W<I;)if(U[W]===Y)return W;return-1}(F,q,0)>-1}function a(F){return F!=F}function r(F,q){return F.has(q)}function s(F){var q=-1,U=Array(F.size);return F.forEach(function(Y){U[++q]=Y}),U}var d,u=Array.prototype,c=Function.prototype,f=Object.prototype,h=e["__core-js_shared__"],w=(d=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",k=c.toString,E=f.hasOwnProperty,j=f.toString,$=RegExp("^"+k.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=u.splice,P=x(e,"Map"),R=x(e,"Set"),H=x(Object,"create");function N(F){var q=-1,U=F?F.length:0;for(this.clear();++q<U;){var Y=F[q];this.set(Y[0],Y[1])}}function _(F){var q=-1,U=F?F.length:0;for(this.clear();++q<U;){var Y=F[q];this.set(Y[0],Y[1])}}function C(F){var q=-1,U=F?F.length:0;for(this.clear();++q<U;){var Y=F[q];this.set(Y[0],Y[1])}}function v(F){var q=-1,U=F?F.length:0;for(this.__data__=new C;++q<U;)this.add(F[q])}function p(F,q){for(var U,Y,B=F.length;B--;)if((U=F[B][0])===(Y=q)||U!=U&&Y!=Y)return B;return-1}function b(F){return!(!M(F)||(q=F,w&&w in q))&&(function(U){var Y=M(U)?j.call(U):"";return Y=="[object Function]"||Y=="[object GeneratorFunction]"}(F)||function(U){var Y=!1;if(U!=null&&typeof U.toString!="function")try{Y=!!(U+"")}catch{}return Y}(F)?$:o).test(function(U){if(U!=null){try{return k.call(U)}catch{}try{return U+""}catch{}}return""}(F));var q}N.prototype.clear=function(){this.__data__=H?H(null):{}},N.prototype.delete=function(F){return this.has(F)&&delete this.__data__[F]},N.prototype.get=function(F){var q=this.__data__;if(H){var U=q[F];return U==="__lodash_hash_undefined__"?void 0:U}return E.call(q,F)?q[F]:void 0},N.prototype.has=function(F){var q=this.__data__;return H?q[F]!==void 0:E.call(q,F)},N.prototype.set=function(F,q){return this.__data__[F]=H&&q===void 0?"__lodash_hash_undefined__":q,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(F){var q=this.__data__,U=p(q,F);return!(U<0)&&(U==q.length-1?q.pop():D.call(q,U,1),!0)},_.prototype.get=function(F){var q=this.__data__,U=p(q,F);return U<0?void 0:q[U][1]},_.prototype.has=function(F){return p(this.__data__,F)>-1},_.prototype.set=function(F,q){var U=this.__data__,Y=p(U,F);return Y<0?U.push([F,q]):U[Y][1]=q,this},C.prototype.clear=function(){this.__data__={hash:new N,map:new(P||_),string:new N}},C.prototype.delete=function(F){return y(this,F).delete(F)},C.prototype.get=function(F){return y(this,F).get(F)},C.prototype.has=function(F){return y(this,F).has(F)},C.prototype.set=function(F,q){return y(this,F).set(F,q),this},v.prototype.add=v.prototype.push=function(F){return this.__data__.set(F,"__lodash_hash_undefined__"),this},v.prototype.has=function(F){return this.__data__.has(F)};var g=R&&1/s(new R([,-0]))[1]==1/0?function(F){return new R(F)}:function(){};function y(F,q){var U,Y,B=F.__data__;return((Y=typeof(U=q))=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?U!=="__proto__":U===null)?B[typeof q=="string"?"string":"hash"]:B.map}function x(F,q){var U=function(Y,B){return Y==null?void 0:Y[B]}(F,q);return b(U)?U:void 0}function M(F){var q=typeof F;return!!F&&(q=="object"||q=="function")}T.exports=function(F){return F&&F.length?function(q,U,Y){var B=-1,W=t,I=q.length,A=!0,z=[],V=z;if(I>=200){var Z=g(q);if(Z)return s(Z);A=!1,W=r,V=new v}else V=z;e:for(;++B<I;){var X=q[B],K=X;if(X=X!==0?X:0,A&&K==K){for(var ie=V.length;ie--;)if(V[ie]===K)continue e;z.push(X)}else W(V,K,Y)||(V!==z&&V.push(K),z.push(X))}return z}(F):[]}}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(i,T,S){var m=i("inherits"),o=i("hash-base"),l=i("safe-buffer").Buffer,n=new Array(16);function e(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function t(u,c){return u<<c|u>>>32-c}function a(u,c,f,h,w,k,E){return t(u+(c&f|~c&h)+w+k|0,E)+c|0}function r(u,c,f,h,w,k,E){return t(u+(c&h|f&~h)+w+k|0,E)+c|0}function s(u,c,f,h,w,k,E){return t(u+(c^f^h)+w+k|0,E)+c|0}function d(u,c,f,h,w,k,E){return t(u+(f^(c|~h))+w+k|0,E)+c|0}m(e,o),e.prototype._update=function(){for(var u=n,c=0;c<16;++c)u[c]=this._block.readInt32LE(4*c);var f=this._a,h=this._b,w=this._c,k=this._d;f=a(f,h,w,k,u[0],3614090360,7),k=a(k,f,h,w,u[1],3905402710,12),w=a(w,k,f,h,u[2],606105819,17),h=a(h,w,k,f,u[3],3250441966,22),f=a(f,h,w,k,u[4],4118548399,7),k=a(k,f,h,w,u[5],1200080426,12),w=a(w,k,f,h,u[6],2821735955,17),h=a(h,w,k,f,u[7],4249261313,22),f=a(f,h,w,k,u[8],1770035416,7),k=a(k,f,h,w,u[9],2336552879,12),w=a(w,k,f,h,u[10],4294925233,17),h=a(h,w,k,f,u[11],2304563134,22),f=a(f,h,w,k,u[12],1804603682,7),k=a(k,f,h,w,u[13],4254626195,12),w=a(w,k,f,h,u[14],2792965006,17),f=r(f,h=a(h,w,k,f,u[15],1236535329,22),w,k,u[1],4129170786,5),k=r(k,f,h,w,u[6],3225465664,9),w=r(w,k,f,h,u[11],643717713,14),h=r(h,w,k,f,u[0],3921069994,20),f=r(f,h,w,k,u[5],3593408605,5),k=r(k,f,h,w,u[10],38016083,9),w=r(w,k,f,h,u[15],3634488961,14),h=r(h,w,k,f,u[4],3889429448,20),f=r(f,h,w,k,u[9],568446438,5),k=r(k,f,h,w,u[14],3275163606,9),w=r(w,k,f,h,u[3],4107603335,14),h=r(h,w,k,f,u[8],1163531501,20),f=r(f,h,w,k,u[13],2850285829,5),k=r(k,f,h,w,u[2],4243563512,9),w=r(w,k,f,h,u[7],1735328473,14),f=s(f,h=r(h,w,k,f,u[12],2368359562,20),w,k,u[5],4294588738,4),k=s(k,f,h,w,u[8],2272392833,11),w=s(w,k,f,h,u[11],1839030562,16),h=s(h,w,k,f,u[14],4259657740,23),f=s(f,h,w,k,u[1],2763975236,4),k=s(k,f,h,w,u[4],1272893353,11),w=s(w,k,f,h,u[7],4139469664,16),h=s(h,w,k,f,u[10],3200236656,23),f=s(f,h,w,k,u[13],681279174,4),k=s(k,f,h,w,u[0],3936430074,11),w=s(w,k,f,h,u[3],3572445317,16),h=s(h,w,k,f,u[6],76029189,23),f=s(f,h,w,k,u[9],3654602809,4),k=s(k,f,h,w,u[12],3873151461,11),w=s(w,k,f,h,u[15],530742520,16),f=d(f,h=s(h,w,k,f,u[2],3299628645,23),w,k,u[0],4096336452,6),k=d(k,f,h,w,u[7],1126891415,10),w=d(w,k,f,h,u[14],2878612391,15),h=d(h,w,k,f,u[5],4237533241,21),f=d(f,h,w,k,u[12],1700485571,6),k=d(k,f,h,w,u[3],2399980690,10),w=d(w,k,f,h,u[10],4293915773,15),h=d(h,w,k,f,u[1],2240044497,21),f=d(f,h,w,k,u[8],1873313359,6),k=d(k,f,h,w,u[15],4264355552,10),w=d(w,k,f,h,u[6],2734768916,15),h=d(h,w,k,f,u[13],1309151649,21),f=d(f,h,w,k,u[4],4149444226,6),k=d(k,f,h,w,u[11],3174756917,10),w=d(w,k,f,h,u[2],718787259,15),h=d(h,w,k,f,u[9],3951481745,21),this._a=this._a+f|0,this._b=this._b+h|0,this._c=this._c+w|0,this._d=this._d+k|0},e.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var u=l.allocUnsafe(16);return u.writeInt32LE(this._a,0),u.writeInt32LE(this._b,4),u.writeInt32LE(this._c,8),u.writeInt32LE(this._d,12),u},T.exports=e},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(i,T,S){var m=i("bn.js"),o=i("brorand");function l(n){this.rand=n||new o.Rand}T.exports=l,l.create=function(n){return new l(n)},l.prototype._randbelow=function(n){var e=n.bitLength(),t=Math.ceil(e/8);do var a=new m(this.rand.generate(t));while(a.cmp(n)>=0);return a},l.prototype._randrange=function(n,e){var t=e.sub(n);return n.add(this._randbelow(t))},l.prototype.test=function(n,e,t){var a=n.bitLength(),r=m.mont(n),s=new m(1).toRed(r);e||(e=Math.max(1,a/48|0));for(var d=n.subn(1),u=0;!d.testn(u);u++);for(var c=n.shrn(u),f=d.toRed(r);e>0;e--){var h=this._randrange(new m(2),d);t&&t(h);var w=h.toRed(r).redPow(c);if(w.cmp(s)!==0&&w.cmp(f)!==0){for(var k=1;k<u;k++){if((w=w.redSqr()).cmp(s)===0)return!1;if(w.cmp(f)===0)break}if(k===u)return!1}}return!0},l.prototype.getDivisor=function(n,e){var t=n.bitLength(),a=m.mont(n),r=new m(1).toRed(a);e||(e=Math.max(1,t/48|0));for(var s=n.subn(1),d=0;!s.testn(d);d++);for(var u=n.shrn(d),c=s.toRed(a);e>0;e--){var f=this._randrange(new m(2),s),h=n.gcd(f);if(h.cmpn(1)!==0)return h;var w=f.toRed(a).redPow(u);if(w.cmp(r)!==0&&w.cmp(c)!==0){for(var k=1;k<d;k++){if((w=w.redSqr()).cmp(r)===0)return w.fromRed().subn(1).gcd(n);if(w.cmp(c)===0)break}if(k===d)return(w=w.redSqr()).fromRed().subn(1).gcd(n)}}return!1}},{"bn.js":452,brorand:187}],452:[function(i,T,S){arguments[4][184][0].apply(S,arguments)},{buffer:188,dup:184}],453:[function(i,T,S){function m(o,l){if(!o)throw new Error(l||"Assertion failed")}T.exports=m,m.equal=function(o,l,n){if(o!=l)throw new Error(n||"Assertion failed: "+o+" != "+l)}},{}],454:[function(i,T,S){var m=S;function o(n){return n.length===1?"0"+n:n}function l(n){for(var e="",t=0;t<n.length;t++)e+=o(n[t].toString(16));return e}m.toArray=function(n,e){if(Array.isArray(n))return n.slice();if(!n)return[];var t=[];if(typeof n!="string"){for(var a=0;a<n.length;a++)t[a]=0|n[a];return t}if(e==="hex")for((n=n.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(n="0"+n),a=0;a<n.length;a+=2)t.push(parseInt(n[a]+n[a+1],16));else for(a=0;a<n.length;a++){var r=n.charCodeAt(a),s=r>>8,d=255&r;s?t.push(s,d):t.push(d)}return t},m.zero2=o,m.toHex=l,m.encode=function(n,e){return e==="hex"?l(n):n}},{}],455:[function(i,T,S){T.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(i,T,S){var m=i("asn1.js");S.certificate=i("./certificate");var o=m.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});S.RSAPrivateKey=o;var l=m.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});S.RSAPublicKey=l;var n=m.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(e),this.key("subjectPublicKey").bitstr())});S.PublicKey=n;var e=m.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),t=m.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(e),this.key("subjectPrivateKey").octstr())});S.PrivateKey=t;var a=m.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});S.EncryptedPrivateKey=a;var r=m.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});S.DSAPrivateKey=r,S.DSAparam=m.define("DSAparam",function(){this.int()});var s=m.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});S.ECPrivateKey=s;var d=m.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});S.signature=m.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(i,T,S){var m=i("asn1.js"),o=m.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),l=m.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),n=m.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),e=m.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}),t=m.define("RelativeDistinguishedName",function(){this.setof(l)}),a=m.define("RDNSequence",function(){this.seqof(t)}),r=m.define("Name",function(){this.choice({rdnSequence:this.use(a)})}),s=m.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),d=m.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),u=m.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(r),this.key("validity").use(s),this.key("subject").use(r),this.key("subjectPublicKeyInfo").use(e),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),c=m.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())});T.exports=c},{"asn1.js":170}],458:[function(i,T,S){var m=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=i("evp_bytestokey"),e=i("browserify-aes"),t=i("safe-buffer").Buffer;T.exports=function(a,r){var s,d=a.toString(),u=d.match(m);if(u){var c="aes"+u[1],f=t.from(u[2],"hex"),h=t.from(u[3].replace(/[\r\n]/g,""),"base64"),w=n(r,f.slice(0,8),parseInt(u[1],10)).key,k=[],E=e.createDecipheriv(c,w,f);k.push(E.update(h)),k.push(E.final()),s=t.concat(k)}else{var j=d.match(l);s=t.from(j[2].replace(/[\r\n]/g,""),"base64")}return{tag:d.match(o)[1],data:s}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(i,T,S){var m=i("./asn1"),o=i("./aesid.json"),l=i("./fixProc"),n=i("browserify-aes"),e=i("pbkdf2"),t=i("safe-buffer").Buffer;function a(r){var s;typeof r!="object"||t.isBuffer(r)||(s=r.passphrase,r=r.key),typeof r=="string"&&(r=t.from(r));var d,u,c=l(r,s),f=c.tag,h=c.data;switch(f){case"CERTIFICATE":u=m.certificate.decode(h,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=m.PublicKey.decode(h,"der")),d=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=m.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+d)}case"ENCRYPTED PRIVATE KEY":h=function(w,k){var E=w.algorithm.decrypt.kde.kdeparams.salt,j=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=o[w.algorithm.decrypt.cipher.algo.join(".")],D=w.algorithm.decrypt.cipher.iv,P=w.subjectPrivateKey,R=parseInt($.split("-")[1],10)/8,H=e.pbkdf2Sync(k,E,j,R,"sha1"),N=n.createDecipheriv($,H,D),_=[];return _.push(N.update(P)),_.push(N.final()),t.concat(_)}(h=m.EncryptedPrivateKey.decode(h,"der"),s);case"PRIVATE KEY":switch(d=(u=m.PrivateKey.decode(h,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:m.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=m.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+d)}case"RSA PUBLIC KEY":return m.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return m.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:m.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return{curve:(h=m.ECPrivateKey.decode(h,"der")).parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+f)}}T.exports=a,a.signature=m.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(i,T,S){S.pbkdf2=i("./lib/async"),S.pbkdf2Sync=i("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(i,T,S){(function(m){(function(){var o,l,n=i("safe-buffer").Buffer,e=i("./precondition"),t=i("./default-encoding"),a=i("./sync"),r=i("./to-buffer"),s=m.crypto&&m.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function c(){return l||(l=m.process&&m.process.nextTick?m.process.nextTick:m.queueMicrotask?m.queueMicrotask:m.setImmediate?m.setImmediate:m.setTimeout)}function f(h,w,k,E,j){return s.importKey("raw",h,{name:"PBKDF2"},!1,["deriveBits"]).then(function($){return s.deriveBits({name:"PBKDF2",salt:w,iterations:k,hash:{name:j}},$,E<<3)}).then(function($){return n.from($)})}T.exports=function(h,w,k,E,j,$){typeof j=="function"&&($=j,j=void 0);var D=d[(j=j||"sha1").toLowerCase()];if(D&&typeof m.Promise=="function"){if(e(k,E),h=r(h,t,"Password"),w=r(w,t,"Salt"),typeof $!="function")throw new Error("No callback provided to pbkdf2");(function(P,R){P.then(function(H){c()(function(){R(null,H)})},function(H){c()(function(){R(H)})})})(function(P){if(m.process&&!m.process.browser||!s||!s.importKey||!s.deriveBits)return Promise.resolve(!1);if(u[P]!==void 0)return u[P];var R=f(o=o||n.alloc(8),o,10,128,P).then(function(){return!0}).catch(function(){return!1});return u[P]=R,R}(D).then(function(P){return P?f(h,w,k,E,D):a(h,w,k,E,j)}),$)}else c()(function(){var P;try{P=a(h,w,k,E,j)}catch(R){return $(R)}$(null,P)})}}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(i,T,S){(function(m,o){(function(){var l;o.process&&o.process.browser?l="utf-8":o.process&&o.process.version?l=parseInt(m.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":l="utf-8",T.exports=l}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(i,T,S){var m=Math.pow(2,30)-1;T.exports=function(o,l){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof l!="number")throw new TypeError("Key length not a number");if(l<0||l>m||l!=l)throw new TypeError("Bad key length")}},{}],464:[function(i,T,S){var m=i("create-hash/md5"),o=i("ripemd160"),l=i("sha.js"),n=i("safe-buffer").Buffer,e=i("./precondition"),t=i("./default-encoding"),a=i("./to-buffer"),r=n.alloc(128),s={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(u,c,f){var h=function(D){function P(R){return l(D).update(R).digest()}return D==="rmd160"||D==="ripemd160"?function(R){return new o().update(R).digest()}:D==="md5"?m:P}(u),w=u==="sha512"||u==="sha384"?128:64;c.length>w?c=h(c):c.length<w&&(c=n.concat([c,r],w));for(var k=n.allocUnsafe(w+s[u]),E=n.allocUnsafe(w+s[u]),j=0;j<w;j++)k[j]=54^c[j],E[j]=92^c[j];var $=n.allocUnsafe(w+f+4);k.copy($,0,0,w),this.ipad1=$,this.ipad2=k,this.opad=E,this.alg=u,this.blocksize=w,this.hash=h,this.size=s[u]}d.prototype.run=function(u,c){return u.copy(c,this.blocksize),this.hash(c).copy(this.opad,this.blocksize),this.hash(this.opad)},T.exports=function(u,c,f,h,w){e(f,h);var k=new d(w=w||"sha1",u=a(u,t,"Password"),(c=a(c,t,"Salt")).length),E=n.allocUnsafe(h),j=n.allocUnsafe(c.length+4);c.copy(j,0,0,c.length);for(var $=0,D=s[w],P=Math.ceil(h/D),R=1;R<=P;R++){j.writeUInt32BE(R,c.length);for(var H=k.run(j,k.ipad1),N=H,_=1;_<f;_++){N=k.run(N,k.ipad2);for(var C=0;C<D;C++)H[C]^=N[C]}H.copy(E,$),$+=D}return E}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(i,T,S){var m=i("safe-buffer").Buffer;T.exports=function(o,l,n){if(m.isBuffer(o))return o;if(typeof o=="string")return m.from(o,l);if(ArrayBuffer.isView(o))return m.from(o.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(i,T,S){(function(m){(function(){m===void 0||!m.version||m.version.indexOf("v0.")===0||m.version.indexOf("v1.")===0&&m.version.indexOf("v1.8.")!==0?T.exports={nextTick:function(o,l,n,e){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var t,a,r=arguments.length;switch(r){case 0:case 1:return m.nextTick(o);case 2:return m.nextTick(function(){o.call(null,l)});case 3:return m.nextTick(function(){o.call(null,l,n)});case 4:return m.nextTick(function(){o.call(null,l,n,e)});default:for(t=new Array(r-1),a=0;a<t.length;)t[a++]=arguments[a];return m.nextTick(function(){o.apply(null,t)})}}}:T.exports=m}).call(this)}).call(this,i("_process"))},{_process:467}],467:[function(i,T,S){var m,o,l=T.exports={};function n(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function t(w){if(m===setTimeout)return setTimeout(w,0);if((m===n||!m)&&setTimeout)return m=setTimeout,setTimeout(w,0);try{return m(w,0)}catch{try{return m.call(null,w,0)}catch{return m.call(this,w,0)}}}(function(){try{m=typeof setTimeout=="function"?setTimeout:n}catch{m=n}try{o=typeof clearTimeout=="function"?clearTimeout:e}catch{o=e}})();var a,r=[],s=!1,d=-1;function u(){s&&a&&(s=!1,a.length?r=a.concat(r):d=-1,r.length&&c())}function c(){if(!s){var w=t(u);s=!0;for(var k=r.length;k;){for(a=r,r=[];++d<k;)a&&a[d].run();d=-1,k=r.length}a=null,s=!1,function(E){if(o===clearTimeout)return clearTimeout(E);if((o===e||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(E);try{o(E)}catch{try{return o.call(null,E)}catch{return o.call(this,E)}}}(w)}}function f(w,k){this.fun=w,this.array=k}function h(){}l.nextTick=function(w){var k=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)k[E-1]=arguments[E];r.push(new f(w,k)),r.length!==1||s||t(c)},f.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=h,l.addListener=h,l.once=h,l.off=h,l.removeListener=h,l.removeAllListeners=h,l.emit=h,l.prependListener=h,l.prependOnceListener=h,l.listeners=function(w){return[]},l.binding=function(w){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(w){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],468:[function(i,T,S){S.publicEncrypt=i("./publicEncrypt"),S.privateDecrypt=i("./privateDecrypt"),S.privateEncrypt=function(m,o){return S.publicEncrypt(m,o,!0)},S.publicDecrypt=function(m,o){return S.privateDecrypt(m,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(i,T,S){var m=i("create-hash"),o=i("safe-buffer").Buffer;function l(n){var e=o.allocUnsafe(4);return e.writeUInt32BE(n,0),e}T.exports=function(n,e){for(var t,a=o.alloc(0),r=0;a.length<e;)t=l(r++),a=o.concat([a,m("sha1").update(n).update(t).digest()]);return a.slice(0,e)}},{"create-hash":386,"safe-buffer":494}],470:[function(i,T,S){arguments[4][184][0].apply(S,arguments)},{buffer:188,dup:184}],471:[function(i,T,S){var m=i("parse-asn1"),o=i("./mgf"),l=i("./xor"),n=i("bn.js"),e=i("browserify-rsa"),t=i("create-hash"),a=i("./withPublic"),r=i("safe-buffer").Buffer;T.exports=function(s,d,u){var c;c=s.padding?s.padding:u?1:4;var f,h=m(s),w=h.modulus.byteLength();if(d.length>w||new n(d).cmp(h.modulus)>=0)throw new Error("decryption error");f=u?a(new n(d),h):e(d,h);var k=r.alloc(w-f.length);if(f=r.concat([k,f],w),c===4)return function(E,j){var $=E.modulus.byteLength(),D=t("sha1").update(r.alloc(0)).digest(),P=D.length;if(j[0]!==0)throw new Error("decryption error");var R=j.slice(1,P+1),H=j.slice(P+1),N=l(R,o(H,P)),_=l(H,o(N,$-P-1));if(function(v,p){v=r.from(v),p=r.from(p);var b=0,g=v.length;v.length!==p.length&&(b++,g=Math.min(v.length,p.length));for(var y=-1;++y<g;)b+=v[y]^p[y];return b}(D,_.slice(0,P)))throw new Error("decryption error");for(var C=P;_[C]===0;)C++;if(_[C++]!==1)throw new Error("decryption error");return _.slice(C)}(h,f);if(c===1)return function(E,j,$){for(var D=j.slice(0,2),P=2,R=0;j[P++]!==0;)if(P>=j.length){R++;break}var H=j.slice(2,P-1);if((D.toString("hex")!=="0002"&&!$||D.toString("hex")!=="0001"&&$)&&R++,H.length<8&&R++,R)throw new Error("decryption error");return j.slice(P)}(0,f,u);if(c===3)return f;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(i,T,S){var m=i("parse-asn1"),o=i("randombytes"),l=i("create-hash"),n=i("./mgf"),e=i("./xor"),t=i("bn.js"),a=i("./withPublic"),r=i("browserify-rsa"),s=i("safe-buffer").Buffer;T.exports=function(d,u,c){var f;f=d.padding?d.padding:c?1:4;var h,w=m(d);if(f===4)h=function(k,E){var j=k.modulus.byteLength(),$=E.length,D=l("sha1").update(s.alloc(0)).digest(),P=D.length,R=2*P;if($>j-R-2)throw new Error("message too long");var H=s.alloc(j-$-R-2),N=j-P-1,_=o(P),C=e(s.concat([D,H,s.alloc(1,1),E],N),n(_,N)),v=e(_,n(C,P));return new t(s.concat([s.alloc(1),v,C],j))}(w,u);else if(f===1)h=function(k,E,j){var $,D=E.length,P=k.modulus.byteLength();if(D>P-11)throw new Error("message too long");return $=j?s.alloc(P-D-3,255):function(R){for(var H,N=s.allocUnsafe(R),_=0,C=o(2*R),v=0;_<R;)v===C.length&&(C=o(2*R),v=0),(H=C[v++])&&(N[_++]=H);return N}(P-D-3),new t(s.concat([s.from([0,j?1:2]),$,s.alloc(1),E],P))}(w,u,c);else{if(f!==3)throw new Error("unknown padding");if((h=new t(u)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return c?r(h,w):a(h,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(i,T,S){var m=i("bn.js"),o=i("safe-buffer").Buffer;T.exports=function(l,n){return o.from(l.toRed(m.mont(n.modulus)).redPow(new m(n.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(i,T,S){T.exports=function(m,o){for(var l=m.length,n=-1;++n<l;)m[n]^=o[n];return m}},{}],475:[function(i,T,S){(function(m,o){(function(){var l=i("safe-buffer").Buffer,n=o.crypto||o.msCrypto;n&&n.getRandomValues?T.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var a=l.allocUnsafe(e);if(e>0)if(e>65536)for(var r=0;r<e;r+=65536)n.getRandomValues(a.slice(r,r+65536));else n.getRandomValues(a);return typeof t=="function"?m.nextTick(function(){t(null,a)}):a}:T.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(i,T,S){(function(m,o){(function(){function l(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var n=i("safe-buffer"),e=i("randombytes"),t=n.Buffer,a=n.kMaxLength,r=o.crypto||o.msCrypto,s=Math.pow(2,32)-1;function d(f,h){if(typeof f!="number"||f!=f)throw new TypeError("offset must be a number");if(f>s||f<0)throw new TypeError("offset must be a uint32");if(f>a||f>h)throw new RangeError("offset out of range")}function u(f,h,w){if(typeof f!="number"||f!=f)throw new TypeError("size must be a number");if(f>s||f<0)throw new TypeError("size must be a uint32");if(f+h>w||f>a)throw new RangeError("buffer too small")}function c(f,h,w,k){if(m.browser){var E=f.buffer,j=new Uint8Array(E,h,w);return r.getRandomValues(j),k?void m.nextTick(function(){k(null,f)}):f}if(!k)return e(w).copy(f,h),f;e(w,function($,D){if($)return k($);D.copy(f,h),k(null,f)})}r&&r.getRandomValues||!m.browser?(S.randomFill=function(f,h,w,k){if(!(t.isBuffer(f)||f instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof h=="function")k=h,h=0,w=f.length;else if(typeof w=="function")k=w,w=f.length-h;else if(typeof k!="function")throw new TypeError('"cb" argument must be a function');return d(h,f.length),u(w,h,f.length),c(f,h,w,k)},S.randomFillSync=function(f,h,w){if(h===void 0&&(h=0),!(t.isBuffer(f)||f instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(h,f.length),w===void 0&&(w=f.length-h),u(w,h,f.length),c(f,h,w)}):(S.randomFill=l,S.randomFillSync=l)}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(i,T,S){var m={};function o(n,e,t){t||(t=Error);var a=function(r){var s,d;function u(c,f,h){return r.call(this,function(w,k,E){return typeof e=="string"?e:e(w,k,E)}(c,f,h))||this}return d=r,(s=u).prototype=Object.create(d.prototype),s.prototype.constructor=s,s.__proto__=d,u}(t);a.prototype.name=t.name,a.prototype.code=n,m[n]=a}function l(n,e){if(Array.isArray(n)){var t=n.length;return n=n.map(function(a){return String(a)}),t>2?"one of ".concat(e," ").concat(n.slice(0,t-1).join(", "),", or ")+n[t-1]:t===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}return"of ".concat(e," ").concat(String(n))}o("ERR_INVALID_OPT_VALUE",function(n,e){return'The value "'+e+'" is invalid for option "'+n+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(n,e,t){var a,r,s;if(typeof e=="string"&&(r="not ",e.substr(0,r.length)===r)?(a="must not be",e=e.replace(/^not /,"")):a="must be",function(u,c,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-c.length,f)===c}(n," argument"))s="The ".concat(n," ").concat(a," ").concat(l(e,"type"));else{var d=function(u,c,f){return typeof f!="number"&&(f=0),!(f+c.length>u.length)&&u.indexOf(c,f)!==-1}(n,".")?"property":"argument";s='The "'.concat(n,'" ').concat(d," ").concat(a," ").concat(l(e,"type"))}return s+=". Received type ".concat(typeof t)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(n){return"The "+n+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(n){return"Cannot call "+n+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(n){return"Unknown encoding: "+n},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),T.exports.codes=m},{}],478:[function(i,T,S){(function(m){(function(){var o=Object.keys||function(u){var c=[];for(var f in u)c.push(f);return c};T.exports=r;var l=i("./_stream_readable"),n=i("./_stream_writable");i("inherits")(r,l);for(var e=o(n.prototype),t=0;t<e.length;t++){var a=e[t];r.prototype[a]||(r.prototype[a]=n.prototype[a])}function r(u){if(!(this instanceof r))return new r(u);l.call(this,u),n.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}function s(){this._writableState.ended||m.nextTick(d,this)}function d(u){u.end()}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}})}).call(this)}).call(this,i("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(i,T,S){T.exports=o;var m=i("./_stream_transform");function o(l){if(!(this instanceof o))return new o(l);m.call(this,l)}i("inherits")(o,m),o.prototype._transform=function(l,n,e){e(null,l)}},{"./_stream_transform":481,inherits:440}],480:[function(i,T,S){(function(m,o){(function(){var l;T.exports=N,N.ReadableState=H,i("events").EventEmitter;var n=function(I,A){return I.listeners(A).length},e=i("./internal/streams/stream"),t=i("buffer").Buffer,a=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},r,s=i("util");r=s&&s.debuglog?s.debuglog("stream"):function(){};var d,u,c,f=i("./internal/streams/buffer_list"),h=i("./internal/streams/destroy"),w=i("./internal/streams/state").getHighWaterMark,k=i("../errors").codes,E=k.ERR_INVALID_ARG_TYPE,j=k.ERR_STREAM_PUSH_AFTER_EOF,$=k.ERR_METHOD_NOT_IMPLEMENTED,D=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i("inherits")(N,e);var P=h.errorOrDestroy,R=["error","close","destroy","pause","resume"];function H(I,A,z){l=l||i("./_stream_duplex"),I=I||{},typeof z!="boolean"&&(z=A instanceof l),this.objectMode=!!I.objectMode,z&&(this.objectMode=this.objectMode||!!I.readableObjectMode),this.highWaterMark=w(this,I,"readableHighWaterMark",z),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(d||(d=i("string_decoder/").StringDecoder),this.decoder=new d(I.encoding),this.encoding=I.encoding)}function N(I){if(l=l||i("./_stream_duplex"),!(this instanceof N))return new N(I);var A=this instanceof l;this._readableState=new H(I,this,A),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),e.call(this)}function _(I,A,z,V,Z){r("readableAddChunk",A);var X,K=I._readableState;if(A===null)K.reading=!1,function(ie,ne){if(r("onEofChunk"),!ne.ended){if(ne.decoder){var G=ne.decoder.end();G&&G.length&&(ne.buffer.push(G),ne.length+=ne.objectMode?1:G.length)}ne.ended=!0,ne.sync?p(ie):(ne.needReadable=!1,ne.emittedReadable||(ne.emittedReadable=!0,b(ie)))}}(I,K);else if(Z||(X=function(ie,ne){var G;ee=ne,t.isBuffer(ee)||ee instanceof a||typeof ne=="string"||ne===void 0||ie.objectMode||(G=new E("chunk",["string","Buffer","Uint8Array"],ne));var ee;return G}(K,A)),X)P(I,X);else if(K.objectMode||A&&A.length>0)if(typeof A=="string"||K.objectMode||Object.getPrototypeOf(A)===t.prototype||(A=function(ie){return t.from(ie)}(A)),V)K.endEmitted?P(I,new D):C(I,K,A,!0);else if(K.ended)P(I,new j);else{if(K.destroyed)return!1;K.reading=!1,K.decoder&&!z?(A=K.decoder.write(A),K.objectMode||A.length!==0?C(I,K,A,!1):g(I,K)):C(I,K,A,!1)}else V||(K.reading=!1,g(I,K));return!K.ended&&(K.length<K.highWaterMark||K.length===0)}function C(I,A,z,V){A.flowing&&A.length===0&&!A.sync?(A.awaitDrain=0,I.emit("data",z)):(A.length+=A.objectMode?1:z.length,V?A.buffer.unshift(z):A.buffer.push(z),A.needReadable&&p(I)),g(I,A)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),N.prototype.destroy=h.destroy,N.prototype._undestroy=h.undestroy,N.prototype._destroy=function(I,A){A(I)},N.prototype.push=function(I,A){var z,V=this._readableState;return V.objectMode?z=!0:typeof I=="string"&&((A=A||V.defaultEncoding)!==V.encoding&&(I=t.from(I,A),A=""),z=!0),_(this,I,A,!1,z)},N.prototype.unshift=function(I){return _(this,I,null,!0,!1)},N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(I){d||(d=i("string_decoder/").StringDecoder);var A=new d(I);this._readableState.decoder=A,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,V="";z!==null;)V+=A.write(z.data),z=z.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};function v(I,A){return I<=0||A.length===0&&A.ended?0:A.objectMode?1:I!=I?A.flowing&&A.length?A.buffer.head.data.length:A.length:(I>A.highWaterMark&&(A.highWaterMark=function(z){return z>=1073741824?z=1073741824:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}(I)),I<=A.length?I:A.ended?A.length:(A.needReadable=!0,0))}function p(I){var A=I._readableState;r("emitReadable",A.needReadable,A.emittedReadable),A.needReadable=!1,A.emittedReadable||(r("emitReadable",A.flowing),A.emittedReadable=!0,m.nextTick(b,I))}function b(I){var A=I._readableState;r("emitReadable_",A.destroyed,A.length,A.ended),A.destroyed||!A.length&&!A.ended||(I.emit("readable"),A.emittedReadable=!1),A.needReadable=!A.flowing&&!A.ended&&A.length<=A.highWaterMark,q(I)}function g(I,A){A.readingMore||(A.readingMore=!0,m.nextTick(y,I,A))}function y(I,A){for(;!A.reading&&!A.ended&&(A.length<A.highWaterMark||A.flowing&&A.length===0);){var z=A.length;if(r("maybeReadMore read 0"),I.read(0),z===A.length)break}A.readingMore=!1}function x(I){var A=I._readableState;A.readableListening=I.listenerCount("readable")>0,A.resumeScheduled&&!A.paused?A.flowing=!0:I.listenerCount("data")>0&&I.resume()}function M(I){r("readable nexttick read 0"),I.read(0)}function F(I,A){r("resume",A.reading),A.reading||I.read(0),A.resumeScheduled=!1,I.emit("resume"),q(I),A.flowing&&!A.reading&&I.read(0)}function q(I){var A=I._readableState;for(r("flow",A.flowing);A.flowing&&I.read()!==null;);}function U(I,A){return A.length===0?null:(A.objectMode?z=A.buffer.shift():!I||I>=A.length?(z=A.decoder?A.buffer.join(""):A.buffer.length===1?A.buffer.first():A.buffer.concat(A.length),A.buffer.clear()):z=A.buffer.consume(I,A.decoder),z);var z}function Y(I){var A=I._readableState;r("endReadable",A.endEmitted),A.endEmitted||(A.ended=!0,m.nextTick(B,A,I))}function B(I,A){if(r("endReadableNT",I.endEmitted,I.length),!I.endEmitted&&I.length===0&&(I.endEmitted=!0,A.readable=!1,A.emit("end"),I.autoDestroy)){var z=A._writableState;(!z||z.autoDestroy&&z.finished)&&A.destroy()}}function W(I,A){for(var z=0,V=I.length;z<V;z++)if(I[z]===A)return z;return-1}N.prototype.read=function(I){r("read",I),I=parseInt(I,10);var A=this._readableState,z=I;if(I!==0&&(A.emittedReadable=!1),I===0&&A.needReadable&&((A.highWaterMark!==0?A.length>=A.highWaterMark:A.length>0)||A.ended))return r("read: emitReadable",A.length,A.ended),A.length===0&&A.ended?Y(this):p(this),null;if((I=v(I,A))===0&&A.ended)return A.length===0&&Y(this),null;var V,Z=A.needReadable;return r("need readable",Z),(A.length===0||A.length-I<A.highWaterMark)&&r("length less than watermark",Z=!0),A.ended||A.reading?r("reading or ended",Z=!1):Z&&(r("do read"),A.reading=!0,A.sync=!0,A.length===0&&(A.needReadable=!0),this._read(A.highWaterMark),A.sync=!1,A.reading||(I=v(z,A))),(V=I>0?U(I,A):null)===null?(A.needReadable=A.length<=A.highWaterMark,I=0):(A.length-=I,A.awaitDrain=0),A.length===0&&(A.ended||(A.needReadable=!0),z!==I&&A.ended&&Y(this)),V!==null&&this.emit("data",V),V},N.prototype._read=function(I){P(this,new $("_read()"))},N.prototype.pipe=function(I,A){var z=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=I;break;case 1:V.pipes=[V.pipes,I];break;default:V.pipes.push(I)}V.pipesCount+=1,r("pipe count=%d opts=%j",V.pipesCount,A);var Z=(!A||A.end!==!1)&&I!==m.stdout&&I!==m.stderr?K:se;function X(ae,de){r("onunpipe"),ae===z&&de&&de.hasUnpiped===!1&&(de.hasUnpiped=!0,r("cleanup"),I.removeListener("close",J),I.removeListener("finish",te),I.removeListener("drain",ie),I.removeListener("error",ee),I.removeListener("unpipe",X),z.removeListener("end",K),z.removeListener("end",se),z.removeListener("data",G),ne=!0,!V.awaitDrain||I._writableState&&!I._writableState.needDrain||ie())}function K(){r("onend"),I.end()}V.endEmitted?m.nextTick(Z):z.once("end",Z),I.on("unpipe",X);var ie=function(ae){return function(){var de=ae._readableState;r("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&n(ae,"data")&&(de.flowing=!0,q(ae))}}(z);I.on("drain",ie);var ne=!1;function G(ae){r("ondata");var de=I.write(ae);r("dest.write",de),de===!1&&((V.pipesCount===1&&V.pipes===I||V.pipesCount>1&&W(V.pipes,I)!==-1)&&!ne&&(r("false write response, pause",V.awaitDrain),V.awaitDrain++),z.pause())}function ee(ae){r("onerror",ae),se(),I.removeListener("error",ee),n(I,"error")===0&&P(I,ae)}function J(){I.removeListener("finish",te),se()}function te(){r("onfinish"),I.removeListener("close",J),se()}function se(){r("unpipe"),z.unpipe(I)}return z.on("data",G),function(ae,de,he){if(typeof ae.prependListener=="function")return ae.prependListener(de,he);ae._events&&ae._events[de]?Array.isArray(ae._events[de])?ae._events[de].unshift(he):ae._events[de]=[he,ae._events[de]]:ae.on(de,he)}(I,"error",ee),I.once("close",J),I.once("finish",te),I.emit("pipe",z),V.flowing||(r("pipe resume"),z.resume()),I},N.prototype.unpipe=function(I){var A=this._readableState,z={hasUnpiped:!1};if(A.pipesCount===0)return this;if(A.pipesCount===1)return I&&I!==A.pipes||(I||(I=A.pipes),A.pipes=null,A.pipesCount=0,A.flowing=!1,I&&I.emit("unpipe",this,z)),this;if(!I){var V=A.pipes,Z=A.pipesCount;A.pipes=null,A.pipesCount=0,A.flowing=!1;for(var X=0;X<Z;X++)V[X].emit("unpipe",this,{hasUnpiped:!1});return this}var K=W(A.pipes,I);return K===-1||(A.pipes.splice(K,1),A.pipesCount-=1,A.pipesCount===1&&(A.pipes=A.pipes[0]),I.emit("unpipe",this,z)),this},N.prototype.on=function(I,A){var z=e.prototype.on.call(this,I,A),V=this._readableState;return I==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):I==="readable"&&(V.endEmitted||V.readableListening||(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,r("on readable",V.length,V.reading),V.length?p(this):V.reading||m.nextTick(M,this))),z},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(I,A){var z=e.prototype.removeListener.call(this,I,A);return I==="readable"&&m.nextTick(x,this),z},N.prototype.removeAllListeners=function(I){var A=e.prototype.removeAllListeners.apply(this,arguments);return I!=="readable"&&I!==void 0||m.nextTick(x,this),A},N.prototype.resume=function(){var I=this._readableState;return I.flowing||(r("resume"),I.flowing=!I.readableListening,function(A,z){z.resumeScheduled||(z.resumeScheduled=!0,m.nextTick(F,A,z))}(this,I)),I.paused=!1,this},N.prototype.pause=function(){return r("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(r("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},N.prototype.wrap=function(I){var A=this,z=this._readableState,V=!1;for(var Z in I.on("end",function(){if(r("wrapped end"),z.decoder&&!z.ended){var K=z.decoder.end();K&&K.length&&A.push(K)}A.push(null)}),I.on("data",function(K){r("wrapped data"),z.decoder&&(K=z.decoder.write(K)),z.objectMode&&K==null||(z.objectMode||K&&K.length)&&(A.push(K)||(V=!0,I.pause()))}),I)this[Z]===void 0&&typeof I[Z]=="function"&&(this[Z]=function(K){return function(){return I[K].apply(I,arguments)}}(Z));for(var X=0;X<R.length;X++)I.on(R[X],this.emit.bind(this,R[X]));return this._read=function(K){r("wrapped _read",K),V&&(V=!1,I.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return u===void 0&&(u=i("./internal/streams/async_iterator")),u(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}}),N._fromList=U,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(N.from=function(I,A){return c===void 0&&(c=i("./internal/streams/from")),c(N,I,A)})}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(i,T,S){T.exports=r;var m=i("../errors").codes,o=m.ERR_METHOD_NOT_IMPLEMENTED,l=m.ERR_MULTIPLE_CALLBACK,n=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,e=m.ERR_TRANSFORM_WITH_LENGTH_0,t=i("./_stream_duplex");function a(u,c){var f=this._transformState;f.transforming=!1;var h=f.writecb;if(h===null)return this.emit("error",new l);f.writechunk=null,f.writecb=null,c!=null&&this.push(c),h(u);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function r(u){if(!(this instanceof r))return new r(u);t.call(this,u),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",s)}function s(){var u=this;typeof this._flush!="function"||this._readableState.destroyed?d(this,null,null):this._flush(function(c,f){d(u,c,f)})}function d(u,c,f){if(c)return u.emit("error",c);if(f!=null&&u.push(f),u._writableState.length)throw new e;if(u._transformState.transforming)throw new n;return u.push(null)}i("inherits")(r,t),r.prototype.push=function(u,c){return this._transformState.needTransform=!1,t.prototype.push.call(this,u,c)},r.prototype._transform=function(u,c,f){f(new o("_transform()"))},r.prototype._write=function(u,c,f){var h=this._transformState;if(h.writecb=f,h.writechunk=u,h.writeencoding=c,!h.transforming){var w=this._readableState;(h.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},r.prototype._read=function(u){var c=this._transformState;c.writechunk===null||c.transforming?c.needTransform=!0:(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform))},r.prototype._destroy=function(u,c){t.prototype._destroy.call(this,u,function(f){c(f)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(i,T,S){(function(m,o){(function(){function l(y){var x=this;this.next=null,this.entry=null,this.finish=function(){(function(M,F,q){var U=M.entry;for(M.entry=null;U;){var Y=U.callback;F.pendingcb--,Y(q),U=U.next}F.corkedRequestsFree.next=M})(x,y)}}var n;T.exports=N,N.WritableState=H;var e={deprecate:i("util-deprecate")},t=i("./internal/streams/stream"),a=i("buffer").Buffer,r=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},s,d=i("./internal/streams/destroy"),u=i("./internal/streams/state").getHighWaterMark,c=i("../errors").codes,f=c.ERR_INVALID_ARG_TYPE,h=c.ERR_METHOD_NOT_IMPLEMENTED,w=c.ERR_MULTIPLE_CALLBACK,k=c.ERR_STREAM_CANNOT_PIPE,E=c.ERR_STREAM_DESTROYED,j=c.ERR_STREAM_NULL_VALUES,$=c.ERR_STREAM_WRITE_AFTER_END,D=c.ERR_UNKNOWN_ENCODING,P=d.errorOrDestroy;function R(){}function H(y,x,M){n=n||i("./_stream_duplex"),y=y||{},typeof M!="boolean"&&(M=x instanceof n),this.objectMode=!!y.objectMode,M&&(this.objectMode=this.objectMode||!!y.writableObjectMode),this.highWaterMark=u(this,y,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var F=y.decodeStrings===!1;this.decodeStrings=!F,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(q){(function(U,Y){var B=U._writableState,W=B.sync,I=B.writecb;if(typeof I!="function")throw new w;if(function(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}(B),Y)(function(z,V,Z,X,K){--V.pendingcb,Z?(m.nextTick(K,X),m.nextTick(g,z,V),z._writableState.errorEmitted=!0,P(z,X)):(K(X),z._writableState.errorEmitted=!0,P(z,X),g(z,V))})(U,B,W,Y,I);else{var A=p(B)||U.destroyed;A||B.corked||B.bufferProcessing||!B.bufferedRequest||v(U,B),W?m.nextTick(C,U,B,A,I):C(U,B,A,I)}})(x,q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=y.emitClose!==!1,this.autoDestroy=!!y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function N(y){var x=this instanceof(n=n||i("./_stream_duplex"));if(!x&&!s.call(N,this))return new N(y);this._writableState=new H(y,this,x),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),t.call(this)}function _(y,x,M,F,q,U,Y){x.writelen=F,x.writecb=Y,x.writing=!0,x.sync=!0,x.destroyed?x.onwrite(new E("write")):M?y._writev(q,x.onwrite):y._write(q,U,x.onwrite),x.sync=!1}function C(y,x,M,F){M||function(q,U){U.length===0&&U.needDrain&&(U.needDrain=!1,q.emit("drain"))}(y,x),x.pendingcb--,F(),g(y,x)}function v(y,x){x.bufferProcessing=!0;var M=x.bufferedRequest;if(y._writev&&M&&M.next){var F=x.bufferedRequestCount,q=new Array(F),U=x.corkedRequestsFree;U.entry=M;for(var Y=0,B=!0;M;)q[Y]=M,M.isBuf||(B=!1),M=M.next,Y+=1;q.allBuffers=B,_(y,x,!0,x.length,q,"",U.finish),x.pendingcb++,x.lastBufferedRequest=null,U.next?(x.corkedRequestsFree=U.next,U.next=null):x.corkedRequestsFree=new l(x),x.bufferedRequestCount=0}else{for(;M;){var W=M.chunk,I=M.encoding,A=M.callback;if(_(y,x,!1,x.objectMode?1:W.length,W,I,A),M=M.next,x.bufferedRequestCount--,x.writing)break}M===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=M,x.bufferProcessing=!1}function p(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function b(y,x){y._final(function(M){x.pendingcb--,M&&P(y,M),x.prefinished=!0,y.emit("prefinish"),g(y,x)})}function g(y,x){var M=p(x);if(M&&(function(q,U){U.prefinished||U.finalCalled||(typeof q._final!="function"||U.destroyed?(U.prefinished=!0,q.emit("prefinish")):(U.pendingcb++,U.finalCalled=!0,m.nextTick(b,q,U)))}(y,x),x.pendingcb===0&&(x.finished=!0,y.emit("finish"),x.autoDestroy))){var F=y._readableState;(!F||F.autoDestroy&&F.endEmitted)&&y.destroy()}return M}i("inherits")(N,t),H.prototype.getBuffer=function(){for(var y=this.bufferedRequest,x=[];y;)x.push(y),y=y.next;return x},function(){try{Object.defineProperty(H.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(y){return!!s.call(this,y)||this===N&&y&&y._writableState instanceof H}})):s=function(y){return y instanceof this},N.prototype.pipe=function(){P(this,new k)},N.prototype.write=function(y,x,M){var F,q=this._writableState,U=!1,Y=!q.objectMode&&(F=y,a.isBuffer(F)||F instanceof r);return Y&&!a.isBuffer(y)&&(y=function(B){return a.from(B)}(y)),typeof x=="function"&&(M=x,x=null),Y?x="buffer":x||(x=q.defaultEncoding),typeof M!="function"&&(M=R),q.ending?function(B,W){var I=new $;P(B,I),m.nextTick(W,I)}(this,M):(Y||function(B,W,I,A){var z;return I===null?z=new j:typeof I=="string"||W.objectMode||(z=new f("chunk",["string","Buffer"],I)),!z||(P(B,z),m.nextTick(A,z),!1)}(this,q,y,M))&&(q.pendingcb++,U=function(B,W,I,A,z,V){if(!I){var Z=function(ne,G,ee){return ne.objectMode||ne.decodeStrings===!1||typeof G!="string"||(G=a.from(G,ee)),G}(W,A,z);A!==Z&&(I=!0,z="buffer",A=Z)}var X=W.objectMode?1:A.length;W.length+=X;var K=W.length<W.highWaterMark;if(K||(W.needDrain=!0),W.writing||W.corked){var ie=W.lastBufferedRequest;W.lastBufferedRequest={chunk:A,encoding:z,isBuf:I,callback:V,next:null},ie?ie.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else _(B,W,!1,X,A,z,V);return K}(this,q,Y,y,x,M)),U},N.prototype.cork=function(){this._writableState.corked++},N.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,y.writing||y.corked||y.bufferProcessing||!y.bufferedRequest||v(this,y))},N.prototype.setDefaultEncoding=function(y){if(typeof y=="string"&&(y=y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((y+"").toLowerCase())>-1))throw new D(y);return this._writableState.defaultEncoding=y,this},Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),N.prototype._write=function(y,x,M){M(new h("_write()"))},N.prototype._writev=null,N.prototype.end=function(y,x,M){var F=this._writableState;return typeof y=="function"?(M=y,y=null,x=null):typeof x=="function"&&(M=x,x=null),y!=null&&this.write(y,x),F.corked&&(F.corked=1,this.uncork()),F.ending||function(q,U,Y){U.ending=!0,g(q,U),Y&&(U.finished?m.nextTick(Y):q.once("finish",Y)),U.ended=!0,q.writable=!1}(this,F,M),this},Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(y){this._writableState&&(this._writableState.destroyed=y)}}),N.prototype.destroy=d.destroy,N.prototype._undestroy=d.undestroy,N.prototype._destroy=function(y,x){x(y)}}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(i,T,S){(function(m){(function(){var o;function l(E,j,$){return(j=function(D){var P=function(R,H){if(typeof R!="object"||R===null)return R;var N=R[Symbol.toPrimitive];if(N!==void 0){var _=N.call(R,H);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(R)}(D,"string");return typeof P=="symbol"?P:String(P)}(j))in E?Object.defineProperty(E,j,{value:$,enumerable:!0,configurable:!0,writable:!0}):E[j]=$,E}var n=i("./end-of-stream"),e=Symbol("lastResolve"),t=Symbol("lastReject"),a=Symbol("error"),r=Symbol("ended"),s=Symbol("lastPromise"),d=Symbol("handlePromise"),u=Symbol("stream");function c(E,j){return{value:E,done:j}}function f(E){var j=E[e];if(j!==null){var $=E[u].read();$!==null&&(E[s]=null,E[e]=null,E[t]=null,j(c($,!1)))}}function h(E){m.nextTick(f,E)}var w=Object.getPrototypeOf(function(){}),k=Object.setPrototypeOf((l(o={get stream(){return this[u]},next:function(){var E=this,j=this[a];if(j!==null)return Promise.reject(j);if(this[r])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(R,H){m.nextTick(function(){E[a]?H(E[a]):R(c(void 0,!0))})});var $,D=this[s];if(D)$=new Promise(function(R,H){return function(N,_){R.then(function(){H[r]?N(c(void 0,!0)):H[d](N,_)},_)}}(D,this));else{var P=this[u].read();if(P!==null)return Promise.resolve(c(P,!1));$=new Promise(this[d])}return this[s]=$,$}},Symbol.asyncIterator,function(){return this}),l(o,"return",function(){var E=this;return new Promise(function(j,$){E[u].destroy(null,function(D){D?$(D):j(c(void 0,!0))})})}),o),w);T.exports=function(E){var j,$=Object.create(k,(l(j={},u,{value:E,writable:!0}),l(j,e,{value:null,writable:!0}),l(j,t,{value:null,writable:!0}),l(j,a,{value:null,writable:!0}),l(j,r,{value:E._readableState.endEmitted,writable:!0}),l(j,d,{value:function(D,P){var R=$[u].read();R?($[s]=null,$[e]=null,$[t]=null,D(c(R,!1))):($[e]=D,$[t]=P)},writable:!0}),j));return $[s]=null,n(E,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=$[t];return P!==null&&($[s]=null,$[e]=null,$[t]=null,P(D)),void($[a]=D)}var R=$[e];R!==null&&($[s]=null,$[e]=null,$[t]=null,R(c(void 0,!0))),$[r]=!0}),E.on("readable",h.bind(null,$)),$}}).call(this)}).call(this,i("_process"))},{"./end-of-stream":486,_process:467}],484:[function(i,T,S){function m(s,d){var u=Object.keys(s);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);d&&(c=c.filter(function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable})),u.push.apply(u,c)}return u}function o(s){for(var d=1;d<arguments.length;d++){var u=arguments[d]!=null?arguments[d]:{};d%2?m(Object(u),!0).forEach(function(c){l(s,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):m(Object(u)).forEach(function(c){Object.defineProperty(s,c,Object.getOwnPropertyDescriptor(u,c))})}return s}function l(s,d,u){return(d=e(d))in s?Object.defineProperty(s,d,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[d]=u,s}function n(s,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,e(c.key),c)}}function e(s){var d=function(u,c){if(typeof u!="object"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var h=f.call(u,c);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(u)}(s,"string");return typeof d=="symbol"?d:String(d)}var t=i("buffer").Buffer,a=i("util").inspect,r=a&&a.custom||"inspect";T.exports=function(){function s(){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var d,u;return d=s,(u=[{key:"push",value:function(c){var f={data:c,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length}},{key:"unshift",value:function(c){var f={data:c,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length}},{key:"shift",value:function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(c){if(this.length===0)return"";for(var f=this.head,h=""+f.data;f=f.next;)h+=c+f.data;return h}},{key:"concat",value:function(c){if(this.length===0)return t.alloc(0);for(var f,h,w,k=t.allocUnsafe(c>>>0),E=this.head,j=0;E;)f=E.data,h=k,w=j,t.prototype.copy.call(f,h,w),j+=E.data.length,E=E.next;return k}},{key:"consume",value:function(c,f){var h;return c<this.head.data.length?(h=this.head.data.slice(0,c),this.head.data=this.head.data.slice(c)):h=c===this.head.data.length?this.shift():f?this._getString(c):this._getBuffer(c),h}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(c){var f=this.head,h=1,w=f.data;for(c-=w.length;f=f.next;){var k=f.data,E=c>k.length?k.length:c;if(E===k.length?w+=k:w+=k.slice(0,c),(c-=E)==0){E===k.length?(++h,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=k.slice(E));break}++h}return this.length-=h,w}},{key:"_getBuffer",value:function(c){var f=t.allocUnsafe(c),h=this.head,w=1;for(h.data.copy(f),c-=h.data.length;h=h.next;){var k=h.data,E=c>k.length?k.length:c;if(k.copy(f,f.length-c,0,E),(c-=E)==0){E===k.length?(++w,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=k.slice(E));break}++w}return this.length-=w,f}},{key:r,value:function(c,f){return a(this,o(o({},f),{},{depth:0,customInspect:!1}))}}])&&n(d.prototype,u),Object.defineProperty(d,"prototype",{writable:!1}),s}()},{buffer:220,util:188}],485:[function(i,T,S){(function(m){(function(){function o(e,t){n(e,t),l(e)}function l(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}T.exports={destroy:function(e,t){var a=this,r=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return r||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(n,this,e)):m.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(d){!t&&d?a._writableState?a._writableState.errorEmitted?m.nextTick(l,a):(a._writableState.errorEmitted=!0,m.nextTick(o,a,d)):m.nextTick(o,a,d):t?(m.nextTick(l,a),t(d)):m.nextTick(l,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var a=e._readableState,r=e._writableState;a&&a.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,i("_process"))},{_process:467}],486:[function(i,T,S){var m=i("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}T.exports=function l(n,e,t){if(typeof e=="function")return l(n,null,e);e||(e={}),t=function(E){var j=!1;return function(){if(!j){j=!0;for(var $=arguments.length,D=new Array($),P=0;P<$;P++)D[P]=arguments[P];E.apply(this,D)}}}(t||o);var a=e.readable||e.readable!==!1&&n.readable,r=e.writable||e.writable!==!1&&n.writable,s=function(){n.writable||u()},d=n._writableState&&n._writableState.finished,u=function(){r=!1,d=!0,a||t.call(n)},c=n._readableState&&n._readableState.endEmitted,f=function(){a=!1,c=!0,r||t.call(n)},h=function(E){t.call(n,E)},w=function(){var E;return a&&!c?(n._readableState&&n._readableState.ended||(E=new m),t.call(n,E)):r&&!d?(n._writableState&&n._writableState.ended||(E=new m),t.call(n,E)):void 0},k=function(){n.req.on("finish",u)};return function(E){return E.setHeader&&typeof E.abort=="function"}(n)?(n.on("complete",u),n.on("abort",w),n.req?k():n.on("request",k)):r&&!n._writableState&&(n.on("end",s),n.on("close",s)),n.on("end",f),n.on("finish",u),e.error!==!1&&n.on("error",h),n.on("close",w),function(){n.removeListener("complete",u),n.removeListener("abort",w),n.removeListener("request",k),n.req&&n.req.removeListener("finish",u),n.removeListener("end",s),n.removeListener("close",s),n.removeListener("finish",u),n.removeListener("end",f),n.removeListener("error",h),n.removeListener("close",w)}}},{"../../../errors":477}],487:[function(i,T,S){T.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(i,T,S){var m,o=i("../../../errors").codes,l=o.ERR_MISSING_ARGS,n=o.ERR_STREAM_DESTROYED;function e(d){if(d)throw d}function t(d,u,c,f){f=function(k){var E=!1;return function(){E||(E=!0,k.apply(void 0,arguments))}}(f);var h=!1;d.on("close",function(){h=!0}),m===void 0&&(m=i("./end-of-stream")),m(d,{readable:u,writable:c},function(k){if(k)return f(k);h=!0,f()});var w=!1;return function(k){if(!h&&!w)return w=!0,function(E){return E.setHeader&&typeof E.abort=="function"}(d)?d.abort():typeof d.destroy=="function"?d.destroy():void f(k||new n("pipe"))}}function a(d){d()}function r(d,u){return d.pipe(u)}function s(d){return d.length?typeof d[d.length-1]!="function"?e:d.pop():e}T.exports=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];var f,h=s(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new l("streams");var w=u.map(function(k,E){var j=E<u.length-1;return t(k,j,E>0,function($){f||(f=$),$&&w.forEach(a),j||(w.forEach(a),h(f))})});return u.reduce(r)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(i,T,S){var m=i("../../../errors").codes.ERR_INVALID_OPT_VALUE;T.exports={getHighWaterMark:function(o,l,n,e){var t=function(a,r,s){return a.highWaterMark!=null?a.highWaterMark:r?a[s]:null}(l,e,n);if(t!=null){if(!isFinite(t)||Math.floor(t)!==t||t<0)throw new m(e?n:"highWaterMark",t);return Math.floor(t)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(i,T,S){T.exports=i("events").EventEmitter},{events:422}],491:[function(i,T,S){(S=T.exports=i("./lib/_stream_readable.js")).Stream=S,S.Readable=S,S.Writable=i("./lib/_stream_writable.js"),S.Duplex=i("./lib/_stream_duplex.js"),S.Transform=i("./lib/_stream_transform.js"),S.PassThrough=i("./lib/_stream_passthrough.js"),S.finished=i("./lib/internal/streams/end-of-stream.js"),S.pipeline=i("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(i,T,S){var m=function(o){var l=Object.prototype,n=l.hasOwnProperty,e=Object.defineProperty||function(g,y,x){g[y]=x.value},t=typeof Symbol=="function"?Symbol:{},a=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",s=t.toStringTag||"@@toStringTag";function d(g,y,x){return Object.defineProperty(g,y,{value:x,enumerable:!0,configurable:!0,writable:!0}),g[y]}try{d({},"")}catch{d=function(y,x,M){return y[x]=M}}function u(g,y,x,M){var F=y&&y.prototype instanceof h?y:h,q=Object.create(F.prototype),U=new v(M||[]);return e(q,"_invoke",{value:H(g,x,U)}),q}function c(g,y,x){try{return{type:"normal",arg:g.call(y,x)}}catch(M){return{type:"throw",arg:M}}}o.wrap=u;var f={};function h(){}function w(){}function k(){}var E={};d(E,a,function(){return this});var j=Object.getPrototypeOf,$=j&&j(j(p([])));$&&$!==l&&n.call($,a)&&(E=$);var D=k.prototype=h.prototype=Object.create(E);function P(g){["next","throw","return"].forEach(function(y){d(g,y,function(x){return this._invoke(y,x)})})}function R(g,y){var x;e(this,"_invoke",{value:function(M,F){function q(){return new y(function(U,Y){(function B(W,I,A,z){var V=c(g[W],g,I);if(V.type!=="throw"){var Z=V.arg,X=Z.value;return X&&typeof X=="object"&&n.call(X,"__await")?y.resolve(X.__await).then(function(K){B("next",K,A,z)},function(K){B("throw",K,A,z)}):y.resolve(X).then(function(K){Z.value=K,A(Z)},function(K){return B("throw",K,A,z)})}z(V.arg)})(M,F,U,Y)})}return x=x?x.then(q,q):q()}})}function H(g,y,x){var M="suspendedStart";return function(F,q){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(F==="throw")throw q;return b()}for(x.method=F,x.arg=q;;){var U=x.delegate;if(U){var Y=N(U,x);if(Y){if(Y===f)continue;return Y}}if(x.method==="next")x.sent=x._sent=x.arg;else if(x.method==="throw"){if(M==="suspendedStart")throw M="completed",x.arg;x.dispatchException(x.arg)}else x.method==="return"&&x.abrupt("return",x.arg);M="executing";var B=c(g,y,x);if(B.type==="normal"){if(M=x.done?"completed":"suspendedYield",B.arg===f)continue;return{value:B.arg,done:x.done}}B.type==="throw"&&(M="completed",x.method="throw",x.arg=B.arg)}}}function N(g,y){var x=y.method,M=g.iterator[x];if(M===void 0)return y.delegate=null,x==="throw"&&g.iterator.return&&(y.method="return",y.arg=void 0,N(g,y),y.method==="throw")||x!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+x+"' method")),f;var F=c(M,g.iterator,y.arg);if(F.type==="throw")return y.method="throw",y.arg=F.arg,y.delegate=null,f;var q=F.arg;return q?q.done?(y[g.resultName]=q.value,y.next=g.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,f):q:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,f)}function _(g){var y={tryLoc:g[0]};1 in g&&(y.catchLoc=g[1]),2 in g&&(y.finallyLoc=g[2],y.afterLoc=g[3]),this.tryEntries.push(y)}function C(g){var y=g.completion||{};y.type="normal",delete y.arg,g.completion=y}function v(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(_,this),this.reset(!0)}function p(g){if(g){var y=g[a];if(y)return y.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var x=-1,M=function F(){for(;++x<g.length;)if(n.call(g,x))return F.value=g[x],F.done=!1,F;return F.value=void 0,F.done=!0,F};return M.next=M}}return{next:b}}function b(){return{value:void 0,done:!0}}return w.prototype=k,e(D,"constructor",{value:k,configurable:!0}),e(k,"constructor",{value:w,configurable:!0}),w.displayName=d(k,s,"GeneratorFunction"),o.isGeneratorFunction=function(g){var y=typeof g=="function"&&g.constructor;return!!y&&(y===w||(y.displayName||y.name)==="GeneratorFunction")},o.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,k):(g.__proto__=k,d(g,s,"GeneratorFunction")),g.prototype=Object.create(D),g},o.awrap=function(g){return{__await:g}},P(R.prototype),d(R.prototype,r,function(){return this}),o.AsyncIterator=R,o.async=function(g,y,x,M,F){F===void 0&&(F=Promise);var q=new R(u(g,y,x,M),F);return o.isGeneratorFunction(y)?q:q.next().then(function(U){return U.done?U.value:q.next()})},P(D),d(D,s,"Generator"),d(D,a,function(){return this}),d(D,"toString",function(){return"[object Generator]"}),o.keys=function(g){var y=Object(g),x=[];for(var M in y)x.push(M);return x.reverse(),function F(){for(;x.length;){var q=x.pop();if(q in y)return F.value=q,F.done=!1,F}return F.done=!0,F}},o.values=p,v.prototype={constructor:v,reset:function(g){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!g)for(var y in this)y.charAt(0)==="t"&&n.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=void 0)},stop:function(){this.done=!0;var g=this.tryEntries[0].completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(g){if(this.done)throw g;var y=this;function x(B,W){return q.type="throw",q.arg=g,y.next=B,W&&(y.method="next",y.arg=void 0),!!W}for(var M=this.tryEntries.length-1;M>=0;--M){var F=this.tryEntries[M],q=F.completion;if(F.tryLoc==="root")return x("end");if(F.tryLoc<=this.prev){var U=n.call(F,"catchLoc"),Y=n.call(F,"finallyLoc");if(U&&Y){if(this.prev<F.catchLoc)return x(F.catchLoc,!0);if(this.prev<F.finallyLoc)return x(F.finallyLoc)}else if(U){if(this.prev<F.catchLoc)return x(F.catchLoc,!0)}else{if(!Y)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return x(F.finallyLoc)}}}},abrupt:function(g,y){for(var x=this.tryEntries.length-1;x>=0;--x){var M=this.tryEntries[x];if(M.tryLoc<=this.prev&&n.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var F=M;break}}F&&(g==="break"||g==="continue")&&F.tryLoc<=y&&y<=F.finallyLoc&&(F=null);var q=F?F.completion:{};return q.type=g,q.arg=y,F?(this.method="next",this.next=F.finallyLoc,f):this.complete(q)},complete:function(g,y){if(g.type==="throw")throw g.arg;return g.type==="break"||g.type==="continue"?this.next=g.arg:g.type==="return"?(this.rval=this.arg=g.arg,this.method="return",this.next="end"):g.type==="normal"&&y&&(this.next=y),f},finish:function(g){for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y];if(x.finallyLoc===g)return this.complete(x.completion,x.afterLoc),C(x),f}},catch:function(g){for(var y=this.tryEntries.length-1;y>=0;--y){var x=this.tryEntries[y];if(x.tryLoc===g){var M=x.completion;if(M.type==="throw"){var F=M.arg;C(x)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(g,y,x){return this.delegate={iterator:p(g),resultName:y,nextLoc:x},this.method==="next"&&(this.arg=void 0),f}},o}(typeof T=="object"?T.exports:{});try{regeneratorRuntime=m}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=m:Function("r","regeneratorRuntime = r")(m)}},{}],493:[function(i,T,S){var m=i("buffer").Buffer,o=i("inherits"),l=i("hash-base"),n=new Array(16),e=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],t=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],r=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],s=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function u(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function c(j,$){return j<<$|j>>>32-$}function f(j,$,D,P,R,H,N,_){return c(j+($^D^P)+H+N|0,_)+R|0}function h(j,$,D,P,R,H,N,_){return c(j+($&D|~$&P)+H+N|0,_)+R|0}function w(j,$,D,P,R,H,N,_){return c(j+(($|~D)^P)+H+N|0,_)+R|0}function k(j,$,D,P,R,H,N,_){return c(j+($&P|D&~P)+H+N|0,_)+R|0}function E(j,$,D,P,R,H,N,_){return c(j+($^(D|~P))+H+N|0,_)+R|0}o(u,l),u.prototype._update=function(){for(var j=n,$=0;$<16;++$)j[$]=this._block.readInt32LE(4*$);for(var D=0|this._a,P=0|this._b,R=0|this._c,H=0|this._d,N=0|this._e,_=0|this._a,C=0|this._b,v=0|this._c,p=0|this._d,b=0|this._e,g=0;g<80;g+=1){var y,x;g<16?(y=f(D,P,R,H,N,j[e[g]],s[0],a[g]),x=E(_,C,v,p,b,j[t[g]],d[0],r[g])):g<32?(y=h(D,P,R,H,N,j[e[g]],s[1],a[g]),x=k(_,C,v,p,b,j[t[g]],d[1],r[g])):g<48?(y=w(D,P,R,H,N,j[e[g]],s[2],a[g]),x=w(_,C,v,p,b,j[t[g]],d[2],r[g])):g<64?(y=k(D,P,R,H,N,j[e[g]],s[3],a[g]),x=h(_,C,v,p,b,j[t[g]],d[3],r[g])):(y=E(D,P,R,H,N,j[e[g]],s[4],a[g]),x=f(_,C,v,p,b,j[t[g]],d[4],r[g])),D=N,N=H,H=c(R,10),R=P,P=y,_=b,b=p,p=c(v,10),v=C,C=x}var M=this._b+R+p|0;this._b=this._c+H+b|0,this._c=this._d+N+_|0,this._d=this._e+D+C|0,this._e=this._a+P+v|0,this._a=M},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var j=m.alloc?m.alloc(20):new m(20);return j.writeInt32LE(this._a,0),j.writeInt32LE(this._b,4),j.writeInt32LE(this._c,8),j.writeInt32LE(this._d,12),j.writeInt32LE(this._e,16),j},T.exports=u},{buffer:220,"hash-base":425,inherits:440}],494:[function(i,T,S){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=i("buffer"),o=m.Buffer;function l(e,t){for(var a in e)t[a]=e[a]}function n(e,t,a){return o(e,t,a)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?T.exports=m:(l(m,S),S.Buffer=n),n.prototype=Object.create(o.prototype),l(o,n),n.from=function(e,t,a){if(typeof e=="number")throw new TypeError("Argument must not be a number");return o(e,t,a)},n.alloc=function(e,t,a){if(typeof e!="number")throw new TypeError("Argument must be a number");var r=o(e);return t!==void 0?typeof a=="string"?r.fill(t,a):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return o(e)},n.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(e)}},{buffer:220}],495:[function(i,T,S){(function(m){(function(){var o,l=i("buffer"),n=l.Buffer,e={};for(o in l)l.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(e[o]=l[o]);var t=e.Buffer={};for(o in n)n.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(t[o]=n[o]);if(e.Buffer.prototype=n.prototype,t.from&&t.from!==Uint8Array.from||(t.from=function(a,r,s){if(typeof a=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof a);if(a&&a.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof a);return n(a,r,s)}),t.alloc||(t.alloc=function(a,r,s){if(typeof a!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof a);if(a<0||a>=2147483648)throw new RangeError('The value "'+a+'" is invalid for option "size"');var d=n(a);return r&&r.length!==0?typeof s=="string"?d.fill(r,s):d.fill(r):d.fill(0),d}),!e.kStringMaxLength)try{e.kStringMaxLength=m.binding("buffer").kStringMaxLength}catch{}e.constants||(e.constants={MAX_LENGTH:e.kMaxLength},e.kStringMaxLength&&(e.constants.MAX_STRING_LENGTH=e.kStringMaxLength)),T.exports=e}).call(this)}).call(this,i("_process"))},{_process:467,buffer:220}],496:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0});const m=i("xmlchars/xml/1.0/ed5"),o=i("xmlchars/xml/1.1/ed2"),l=i("xmlchars/xmlns/1.0/ed3");var n=m.isS,e=m.isChar,t=m.isNameStartChar,a=m.isNameChar,r=m.S_LIST,s=m.NAME_RE,d=o.isChar,u=l.isNCNameStartChar,c=l.isNCNameChar,f=l.NC_NAME_RE;const h="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",k={__proto__:null,xml:h,xmlns:w},E={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},j=p=>p===34||p===39,$=[34,39],D=[...$,91,62],P=[...$,60,93],R=[61,63,...r],H=[...r,62,38,60];function N(p,b,g){switch(b){case"xml":g!==h&&p.fail(`xml prefix must be bound to ${h}.`);break;case"xmlns":g!==w&&p.fail(`xmlns prefix must be bound to ${w}.`)}switch(g){case w:p.fail(b===""?`the default namespace may not be set to ${g}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case h:switch(b){case"xml":break;case"":p.fail(`the default namespace may not be set to ${g}.`);break;default:p.fail("may not assign the xml namespace to another prefix.")}}}const _=p=>f.test(p),C=p=>s.test(p);S.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const v={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};S.SaxesParser=class{constructor(p){this.opt=p??{},this.fragmentOpt=!!this.opt.fragment;const b=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,b){this.nameStartCheck=u,this.nameCheck=c,this.isName=_,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},k);const g=this.opt.additionalNamespaces;g!=null&&(function(y,x){for(const M of Object.keys(x))N(y,M,x[M])}(this,g),Object.assign(this.ns,g))}else this.nameStartCheck=t,this.nameCheck=a,this.isName=C,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var p;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:b}=this;this.state=b?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=b,this.xmlDeclPossible=!b,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:g}=this.opt;if(g===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");g="1.0"}this.setXMLVersion(g),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(E),(p=this.readyHandler)===null||p===void 0||p.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(p,b){this[v[p]]=b}off(p){this[v[p]]=void 0}makeError(p){var b;let g=(b=this.fileName)!==null&&b!==void 0?b:"";return this.trackPosition&&(g.length>0&&(g+=":"),g+=`${this.line}:${this.column}`),g.length>0&&(g+=": "),new Error(g+p)}fail(p){const b=this.makeError(p),g=this.errorHandler;if(g===void 0)throw b;return g(b),this}write(p){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let b=!1;p===null?(b=!0,p=""):typeof p=="object"&&(p=p.toString()),this.carriedFromPrevious!==void 0&&(p=`${this.carriedFromPrevious}${p}`,this.carriedFromPrevious=void 0);let g=p.length;const y=p.charCodeAt(g-1);!b&&(y===13||y>=55296&&y<=56319)&&(this.carriedFromPrevious=p[g-1],g--,p=p.slice(0,g));const{stateTable:x}=this;for(this.chunk=p,this.i=0;this.i<g;)x[this.state].call(this);return this.chunkPosition+=g,b?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:p,i:b}=this;if(this.prevI=b,this.i=b+1,b>=p.length)return-1;const g=p.charCodeAt(b);if(this.column++,g<55296){if(g>=32||g===9)return g;switch(g){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return p.charCodeAt(b+1)===10&&(this.i=b+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),g}}if(g>56319)return g>=57344&&g<=65533||this.fail("disallowed character."),g;const y=65536+1024*(g-55296)+(p.charCodeAt(b+1)-56320);return this.i=b+2,y>1114111&&this.fail("disallowed character."),y}getCode11(){const{chunk:p,i:b}=this;if(this.prevI=b,this.i=b+1,b>=p.length)return-1;const g=p.charCodeAt(b);if(this.column++,g<55296){if(g>31&&g<127||g>159&&g!==8232||g===9)return g;switch(g){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const x=p.charCodeAt(b+1);x!==10&&x!==133||(this.i=b+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),g}}if(g>56319)return g>=57344&&g<=65533||this.fail("disallowed character."),g;const y=65536+1024*(g-55296)+(p.charCodeAt(b+1)-56320);return this.i=b+2,y>1114111&&this.fail("disallowed character."),y}getCodeNorm(){const p=this.getCode();return p===-2?10:p}unget(){this.i=this.prevI,this.column--}captureTo(p){let{i:b}=this;const{chunk:g}=this;for(;;){const y=this.getCode(),x=y===-2,M=x?10:y;if(M===-1||p.includes(M))return this.text+=g.slice(b,this.prevI),M;x&&(this.text+=g.slice(b,this.prevI)+`
`,b=this.i)}}captureToChar(p){let{i:b}=this;const{chunk:g}=this;for(;;){let y=this.getCode();switch(y){case-2:this.text+=g.slice(b,this.prevI)+`
`,b=this.i,y=10;break;case-1:return this.text+=g.slice(b),!1}if(y===p)return this.text+=g.slice(b,this.prevI),!0}}captureNameChars(){const{chunk:p,i:b}=this;for(;;){const g=this.getCode();if(g===-1)return this.name+=p.slice(b),-1;if(!a(g))return this.name+=p.slice(b,this.prevI),g===-2?10:g}}skipSpaces(){for(;;){const p=this.getCodeNorm();if(p===-1||!n(p))return p}}setXMLVersion(p){this.currentXMLVersion=p,p==="1.0"?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=d,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const p=this.i,b=this.skipSpaces();switch(this.prevI!==p&&(this.xmlDeclPossible=!1),b){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var p;const b=this.captureTo(D);switch(b){case 62:(p=this.doctypeHandler)===null||p===void 0||p.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(b),b===91?this.state=4:j(b)&&(this.state=3,this.q=b)}}sDoctypeQuote(){const p=this.q;this.captureToChar(p)&&(this.text+=String.fromCodePoint(p),this.q=null,this.state=2)}sDTD(){const p=this.captureTo(P);p!==-1&&(this.text+=String.fromCodePoint(p),p===93?this.state=2:p===60?this.state=6:j(p)&&(this.state=5,this.q=p))}sDTDQuoted(){const p=this.q;this.captureToChar(p)&&(this.text+=String.fromCodePoint(p),this.state=4,this.q=null)}sDTDOpenWaka(){const p=this.getCodeNorm();switch(this.text+=String.fromCodePoint(p),p){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const p=String.fromCodePoint(this.getCodeNorm()),b=this.openWakaBang+=p;this.text+=p,b!=="-"&&(this.state=b==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const p=this.getCodeNorm();this.text+=String.fromCodePoint(p),this.state=p===45?10:8}sDTDCommentEnded(){const p=this.getCodeNorm();this.text+=String.fromCodePoint(p),p===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const p=this.getCodeNorm();this.text+=String.fromCodePoint(p),p===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:p}=this;const{chunk:b}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=b.slice(p,this.prevI)+`
`,p=this.i;break;case 59:{const{entityReturnState:g}=this,y=this.entity+b.slice(p,this.prevI);let x;this.state=g,y===""?(this.fail("empty entity name."),x="&;"):(x=this.parseEntity(y),this.entity=""),g===13&&this.textHandler===void 0||(this.text+=x);break e}case-1:this.entity+=b.slice(p);break e}}sOpenWaka(){const p=this.getCode();if(t(p))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(p){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var p;const b=this.getCodeNorm();b===45?(this.state=19,(p=this.commentHandler)===null||p===void 0||p.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(b),this.state=17)}sCommentEnded(){const p=this.getCodeNorm();p!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(p),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const p=this.getCodeNorm();p===93?this.state=22:(this.text+="]"+String.fromCodePoint(p),this.state=20)}sCDataEnding2(){var p;const b=this.getCodeNorm();switch(b){case 62:(p=this.cdataHandler)===null||p===void 0||p.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(b),this.state=20}}sPIFirstChar(){const p=this.getCodeNorm();this.nameStartCheck(p)?(this.piTarget+=String.fromCodePoint(p),this.state=24):p===63||n(p)?(this.fail("processing instruction without a target."),this.state=p===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(p),this.state=24)}sPIRest(){const{chunk:p,i:b}=this;for(;;){const g=this.getCodeNorm();if(g===-1)return void(this.piTarget+=p.slice(b));if(!this.nameCheck(g)){this.piTarget+=p.slice(b,this.prevI);const y=g===63;y||n(g)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=y?33:27):this.state=y?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(g));break}}}sPIBody(){if(this.text.length===0){const p=this.getCodeNorm();p===63?this.state=26:n(p)||(this.text=String.fromCodePoint(p))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var p;const b=this.getCodeNorm();if(b===62){const{piTarget:g}=this;g.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(p=this.piHandler)===null||p===void 0||p.call(this,{target:g,body:this.text}),this.piTarget=this.text="",this.state=13}else b===63?this.text+="?":(this.text+="?"+String.fromCodePoint(b),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const p=this.skipSpaces();p!==63?p!==-1&&(this.state=28,this.name=String.fromCodePoint(p)):this.state=33}sXMLDeclName(){const p=this.captureTo(R);if(p===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(n(p)||p===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=p===61?30:29}}sXMLDeclEq(){const p=this.getCodeNorm();if(p===63)return this.state=33,void this.fail("XML declaration is incomplete.");n(p)||(p!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const p=this.getCodeNorm();if(p===63)return this.state=33,void this.fail("XML declaration is incomplete.");n(p)||(j(p)?this.q=p:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const p=this.captureTo([this.q,63]);if(p===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(p===-1)return;const b=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const g=b;this.xmlDecl.version=g,/^1\.[0-9]+$/.test(g)?this.opt.forceXMLVersion||this.setXMLVersion(g):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(b)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=b;break;case"standalone":b!=="yes"&&b!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=b}this.name="",this.state=32}sXMLDeclSeparator(){const p=this.getCodeNorm();p!==63?(n(p)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var p;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(p=this.xmldeclHandler)===null||p===void 0||p.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var p;const b=this.captureNameChars();if(b===-1)return;const g=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=g.ns=Object.create(null)),(p=this.openTagStartHandler)===null||p===void 0||p.call(this,g),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),b){case 62:this.openTag();break;case 47:this.state=35;break;default:n(b)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const p=this.skipSpaces();p!==-1&&(t(p)?(this.unget(),this.state=37):p===62?this.openTag():p===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const p=this.captureNameChars();p===61?this.state=39:n(p)?this.state=38:p===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):p!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const p=this.skipSpaces();switch(p){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",p===62?this.openTag():t(p)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const p=this.getCodeNorm();j(p)?(this.q=p,this.state=40):n(p)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:p,chunk:b}=this;let{i:g}=this;for(;;)switch(this.getCode()){case p:return this.pushAttrib(this.name,this.text+b.slice(g,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=b.slice(g,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=b.slice(g,this.prevI)+" ",g=this.i;break;case 60:return this.text+=b.slice(g,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=b.slice(g))}}sAttribValueClosed(){const p=this.getCodeNorm();n(p)?this.state=36:p===62?this.openTag():p===47?this.state=35:t(p)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const p=this.captureTo(H);switch(p){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",p===62?this.openTag():this.state=36}}sCloseTag(){const p=this.captureNameChars();p===62?this.closeTag():n(p)?this.state=44:p!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:p,forbiddenState:b}=this;const{chunk:g,textHandler:y}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,y!==void 0){const{text:x}=this,M=g.slice(p,this.prevI);x.length!==0?(y(x+M),this.text=""):M.length!==0&&y(M)}b=0;break e;case 38:this.state=14,this.entityReturnState=13,y!==void 0&&(this.text+=g.slice(p,this.prevI)),b=0;break e;case 93:switch(b){case 0:b=1;break;case 1:b=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:b===2&&this.fail('the string "]]>" is disallowed in char data.'),b=0;break;case-2:y!==void 0&&(this.text+=g.slice(p,this.prevI)+`
`),p=this.i,b=0;break;case-1:y!==void 0&&(this.text+=g.slice(p));break e;default:b=0}this.forbiddenState=b}handleTextOutsideRoot(){let{i:p}=this;const{chunk:b,textHandler:g}=this;let y=!1;e:for(;;){const x=this.getCode();switch(x){case 60:if(this.state=15,g!==void 0){const{text:M}=this,F=b.slice(p,this.prevI);M.length!==0?(g(M+F),this.text=""):F.length!==0&&g(F)}break e;case 38:this.state=14,this.entityReturnState=13,g!==void 0&&(this.text+=b.slice(p,this.prevI)),y=!0;break e;case-2:g!==void 0&&(this.text+=b.slice(p,this.prevI)+`
`),p=this.i;break;case-1:g!==void 0&&(this.text+=b.slice(p));break e;default:n(x)||(y=!0)}}y&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(p,b){var g;const{prefix:y,local:x}=this.qname(p),M={name:p,prefix:y,local:x,value:b};if(this.attribList.push(M),(g=this.attributeHandler)===null||g===void 0||g.call(this,M),y==="xmlns"){const F=b.trim();this.currentXMLVersion==="1.0"&&F===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[x]=F,N(this,x,F)}else if(p==="xmlns"){const F=b.trim();this.topNS[""]=F,N(this,"",F)}}pushAttribPlain(p,b){var g;const y={name:p,value:b};this.attribList.push(y),(g=this.attributeHandler)===null||g===void 0||g.call(this,y)}end(){var p,b;this.sawRoot||this.fail("document must contain a root element.");const{tags:g}=this;for(;g.length>0;){const x=g.pop();this.fail("unclosed tag: "+x.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:y}=this;return y.length!==0&&((p=this.textHandler)===null||p===void 0||p.call(this,y),this.text=""),this._closed=!0,(b=this.endHandler)===null||b===void 0||b.call(this),this._init(),this}resolve(p){var b,g;let y=this.topNS[p];if(y!==void 0)return y;const{tags:x}=this;for(let M=x.length-1;M>=0;M--)if(y=x[M].ns[p],y!==void 0)return y;return y=this.ns[p],y!==void 0?y:(g=(b=this.opt).resolvePrefix)===null||g===void 0?void 0:g.call(b,p)}qname(p){const b=p.indexOf(":");if(b===-1)return{prefix:"",local:p};const g=p.slice(b+1),y=p.slice(0,b);return(y===""||g===""||g.includes(":"))&&this.fail(`malformed name: ${p}.`),{prefix:y,local:g}}processAttribsNS(){var p;const{attribList:b}=this,g=this.tag;{const{prefix:M,local:F}=this.qname(g.name);g.prefix=M,g.local=F;const q=g.uri=(p=this.resolve(M))!==null&&p!==void 0?p:"";M!==""&&(M==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),q===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(M)}.`),g.uri=M))}if(b.length===0)return;const{attributes:y}=g,x=new Set;for(const M of b){const{name:F,prefix:q,local:U}=M;let Y,B;q===""?(Y=F==="xmlns"?w:"",B=F):(Y=this.resolve(q),Y===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(q)}.`),Y=q),B=`{${Y}}${U}`),x.has(B)&&this.fail(`duplicate attribute: ${B}.`),x.add(B),M.uri=Y,y[F]=M}this.attribList=[]}processAttribsPlain(){const{attribList:p}=this,b=this.tag.attributes;for(const{name:g,value:y}of p)b[g]!==void 0&&this.fail(`duplicate attribute: ${g}.`),b[g]=y;this.attribList=[]}openTag(){var p;this.processAttribs();const{tags:b}=this,g=this.tag;g.isSelfClosing=!1,(p=this.openTagHandler)===null||p===void 0||p.call(this,g),b.push(g),this.state=13,this.name=""}openSelfClosingTag(){var p,b,g;this.processAttribs();const{tags:y}=this,x=this.tag;x.isSelfClosing=!0,(p=this.openTagHandler)===null||p===void 0||p.call(this,x),(b=this.closeTagHandler)===null||b===void 0||b.call(this,x),(this.tag=(g=y[y.length-1])!==null&&g!==void 0?g:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:p,name:b}=this;if(this.state=13,this.name="",b==="")return this.fail("weird empty close tag."),void(this.text+="</>");const g=this.closeTagHandler;let y=p.length;for(;y-- >0;){const x=this.tag=p.pop();if(this.topNS=x.ns,g==null||g(x),x.name===b)break;this.fail("unexpected close tag.")}y===0?this.closedRoot=!0:y<0&&(this.fail(`unmatched closing tag: ${b}.`),this.text+=`</${b}>`)}parseEntity(p){if(p[0]!=="#"){const g=this.ENTITIES[p];return g!==void 0?g:(this.fail(this.isName(p)?"undefined entity.":"disallowed character in entity name."),`&${p};`)}let b=NaN;return p[1]==="x"&&/^#x[0-9a-f]+$/i.test(p)?b=parseInt(p.slice(2),16):/^#[0-9]+$/.test(p)&&(b=parseInt(p.slice(1),10)),this.isChar(b)?String.fromCodePoint(b):(this.fail("malformed character entity."),`&${p};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(i,T,S){var m=i("safe-buffer").Buffer;function o(l,n){this._block=m.alloc(l),this._finalSize=n,this._blockSize=l,this._len=0}o.prototype.update=function(l,n){typeof l=="string"&&(n=n||"utf8",l=m.from(l,n));for(var e=this._block,t=this._blockSize,a=l.length,r=this._len,s=0;s<a;){for(var d=r%t,u=Math.min(a-s,t-d),c=0;c<u;c++)e[d+c]=l[s+c];s+=u,(r+=u)%t==0&&this._update(e)}return this._len+=a,this},o.prototype.digest=function(l){var n=this._len%this._blockSize;this._block[n]=128,this._block.fill(0,n+1),n>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var t=(4294967295&e)>>>0,a=(e-t)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(t,this._blockSize-4)}this._update(this._block);var r=this._hash();return l?r.toString(l):r},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},T.exports=o},{"safe-buffer":494}],498:[function(i,T,S){var m=T.exports=function(o){o=o.toLowerCase();var l=m[o];if(!l)throw new Error(o+" is not supported (we accept pull requests)");return new l};m.sha=i("./sha"),m.sha1=i("./sha1"),m.sha224=i("./sha224"),m.sha256=i("./sha256"),m.sha384=i("./sha384"),m.sha512=i("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(i,T,S){var m=i("inherits"),o=i("./hash"),l=i("safe-buffer").Buffer,n=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function t(){this.init(),this._w=e,o.call(this,64,56)}function a(s){return s<<30|s>>>2}function r(s,d,u,c){return s===0?d&u|~d&c:s===2?d&u|d&c|u&c:d^u^c}m(t,o),t.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},t.prototype._update=function(s){for(var d,u=this._w,c=0|this._a,f=0|this._b,h=0|this._c,w=0|this._d,k=0|this._e,E=0;E<16;++E)u[E]=s.readInt32BE(4*E);for(;E<80;++E)u[E]=u[E-3]^u[E-8]^u[E-14]^u[E-16];for(var j=0;j<80;++j){var $=~~(j/20),D=0|((d=c)<<5|d>>>27)+r($,f,h,w)+k+u[j]+n[$];k=w,w=h,h=a(f),f=c,c=D}this._a=c+this._a|0,this._b=f+this._b|0,this._c=h+this._c|0,this._d=w+this._d|0,this._e=k+this._e|0},t.prototype._hash=function(){var s=l.allocUnsafe(20);return s.writeInt32BE(0|this._a,0),s.writeInt32BE(0|this._b,4),s.writeInt32BE(0|this._c,8),s.writeInt32BE(0|this._d,12),s.writeInt32BE(0|this._e,16),s},T.exports=t},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(i,T,S){var m=i("inherits"),o=i("./hash"),l=i("safe-buffer").Buffer,n=[1518500249,1859775393,-1894007588,-899497514],e=new Array(80);function t(){this.init(),this._w=e,o.call(this,64,56)}function a(d){return d<<5|d>>>27}function r(d){return d<<30|d>>>2}function s(d,u,c,f){return d===0?u&c|~u&f:d===2?u&c|u&f|c&f:u^c^f}m(t,o),t.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},t.prototype._update=function(d){for(var u,c=this._w,f=0|this._a,h=0|this._b,w=0|this._c,k=0|this._d,E=0|this._e,j=0;j<16;++j)c[j]=d.readInt32BE(4*j);for(;j<80;++j)c[j]=(u=c[j-3]^c[j-8]^c[j-14]^c[j-16])<<1|u>>>31;for(var $=0;$<80;++$){var D=~~($/20),P=a(f)+s(D,h,w,k)+E+c[$]+n[D]|0;E=k,k=w,w=r(h),h=f,f=P}this._a=f+this._a|0,this._b=h+this._b|0,this._c=w+this._c|0,this._d=k+this._d|0,this._e=E+this._e|0},t.prototype._hash=function(){var d=l.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},T.exports=t},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(i,T,S){var m=i("inherits"),o=i("./sha256"),l=i("./hash"),n=i("safe-buffer").Buffer,e=new Array(64);function t(){this.init(),this._w=e,l.call(this,64,56)}m(t,o),t.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},t.prototype._hash=function(){var a=n.allocUnsafe(28);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a},T.exports=t},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(i,T,S){var m=i("inherits"),o=i("./hash"),l=i("safe-buffer").Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],e=new Array(64);function t(){this.init(),this._w=e,o.call(this,64,56)}function a(c,f,h){return h^c&(f^h)}function r(c,f,h){return c&f|h&(c|f)}function s(c){return(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10)}function d(c){return(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7)}function u(c){return(c>>>7|c<<25)^(c>>>18|c<<14)^c>>>3}m(t,o),t.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},t.prototype._update=function(c){for(var f,h=this._w,w=0|this._a,k=0|this._b,E=0|this._c,j=0|this._d,$=0|this._e,D=0|this._f,P=0|this._g,R=0|this._h,H=0;H<16;++H)h[H]=c.readInt32BE(4*H);for(;H<64;++H)h[H]=0|(((f=h[H-2])>>>17|f<<15)^(f>>>19|f<<13)^f>>>10)+h[H-7]+u(h[H-15])+h[H-16];for(var N=0;N<64;++N){var _=R+d($)+a($,D,P)+n[N]+h[N]|0,C=s(w)+r(w,k,E)|0;R=P,P=D,D=$,$=j+_|0,j=E,E=k,k=w,w=_+C|0}this._a=w+this._a|0,this._b=k+this._b|0,this._c=E+this._c|0,this._d=j+this._d|0,this._e=$+this._e|0,this._f=D+this._f|0,this._g=P+this._g|0,this._h=R+this._h|0},t.prototype._hash=function(){var c=l.allocUnsafe(32);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c.writeInt32BE(this._h,28),c},T.exports=t},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(i,T,S){var m=i("inherits"),o=i("./sha512"),l=i("./hash"),n=i("safe-buffer").Buffer,e=new Array(160);function t(){this.init(),this._w=e,l.call(this,128,112)}m(t,o),t.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},t.prototype._hash=function(){var a=n.allocUnsafe(48);function r(s,d,u){a.writeInt32BE(s,u),a.writeInt32BE(d,u+4)}return r(this._ah,this._al,0),r(this._bh,this._bl,8),r(this._ch,this._cl,16),r(this._dh,this._dl,24),r(this._eh,this._el,32),r(this._fh,this._fl,40),a},T.exports=t},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(i,T,S){var m=i("inherits"),o=i("./hash"),l=i("safe-buffer").Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],e=new Array(160);function t(){this.init(),this._w=e,o.call(this,128,112)}function a(k,E,j){return j^k&(E^j)}function r(k,E,j){return k&E|j&(k|E)}function s(k,E){return(k>>>28|E<<4)^(E>>>2|k<<30)^(E>>>7|k<<25)}function d(k,E){return(k>>>14|E<<18)^(k>>>18|E<<14)^(E>>>9|k<<23)}function u(k,E){return(k>>>1|E<<31)^(k>>>8|E<<24)^k>>>7}function c(k,E){return(k>>>1|E<<31)^(k>>>8|E<<24)^(k>>>7|E<<25)}function f(k,E){return(k>>>19|E<<13)^(E>>>29|k<<3)^k>>>6}function h(k,E){return(k>>>19|E<<13)^(E>>>29|k<<3)^(k>>>6|E<<26)}function w(k,E){return k>>>0<E>>>0?1:0}m(t,o),t.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},t.prototype._update=function(k){for(var E=this._w,j=0|this._ah,$=0|this._bh,D=0|this._ch,P=0|this._dh,R=0|this._eh,H=0|this._fh,N=0|this._gh,_=0|this._hh,C=0|this._al,v=0|this._bl,p=0|this._cl,b=0|this._dl,g=0|this._el,y=0|this._fl,x=0|this._gl,M=0|this._hl,F=0;F<32;F+=2)E[F]=k.readInt32BE(4*F),E[F+1]=k.readInt32BE(4*F+4);for(;F<160;F+=2){var q=E[F-30],U=E[F-30+1],Y=u(q,U),B=c(U,q),W=f(q=E[F-4],U=E[F-4+1]),I=h(U,q),A=E[F-14],z=E[F-14+1],V=E[F-32],Z=E[F-32+1],X=B+z|0,K=Y+A+w(X,B)|0;K=(K=K+W+w(X=X+I|0,I)|0)+V+w(X=X+Z|0,Z)|0,E[F]=K,E[F+1]=X}for(var ie=0;ie<160;ie+=2){K=E[ie],X=E[ie+1];var ne=r(j,$,D),G=r(C,v,p),ee=s(j,C),J=s(C,j),te=d(R,g),se=d(g,R),ae=n[ie],de=n[ie+1],he=a(R,H,N),ve=a(g,y,x),Se=M+se|0,Te=_+te+w(Se,M)|0;Te=(Te=(Te=Te+he+w(Se=Se+ve|0,ve)|0)+ae+w(Se=Se+de|0,de)|0)+K+w(Se=Se+X|0,X)|0;var ke=J+G|0,Be=ee+ne+w(ke,J)|0;_=N,M=x,N=H,x=y,H=R,y=g,R=P+Te+w(g=b+Se|0,b)|0,P=D,b=p,D=$,p=v,$=j,v=C,j=Te+Be+w(C=Se+ke|0,Se)|0}this._al=this._al+C|0,this._bl=this._bl+v|0,this._cl=this._cl+p|0,this._dl=this._dl+b|0,this._el=this._el+g|0,this._fl=this._fl+y|0,this._gl=this._gl+x|0,this._hl=this._hl+M|0,this._ah=this._ah+j+w(this._al,C)|0,this._bh=this._bh+$+w(this._bl,v)|0,this._ch=this._ch+D+w(this._cl,p)|0,this._dh=this._dh+P+w(this._dl,b)|0,this._eh=this._eh+R+w(this._el,g)|0,this._fh=this._fh+H+w(this._fl,y)|0,this._gh=this._gh+N+w(this._gl,x)|0,this._hh=this._hh+_+w(this._hl,M)|0},t.prototype._hash=function(){var k=l.allocUnsafe(64);function E(j,$,D){k.writeInt32BE(j,D),k.writeInt32BE($,D+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),k},T.exports=t},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(i,T,S){T.exports=o;var m=i("events").EventEmitter;function o(){m.call(this)}i("inherits")(o,m),o.Readable=i("readable-stream/readable.js"),o.Writable=i("readable-stream/writable.js"),o.Duplex=i("readable-stream/duplex.js"),o.Transform=i("readable-stream/transform.js"),o.PassThrough=i("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(l,n){var e=this;function t(f){l.writable&&l.write(f)===!1&&e.pause&&e.pause()}function a(){e.readable&&e.resume&&e.resume()}e.on("data",t),l.on("drain",a),l._isStdio||n&&n.end===!1||(e.on("end",s),e.on("close",d));var r=!1;function s(){r||(r=!0,l.end())}function d(){r||(r=!0,typeof l.destroy=="function"&&l.destroy())}function u(f){if(c(),m.listenerCount(this,"error")===0)throw f}function c(){e.removeListener("data",t),l.removeListener("drain",a),e.removeListener("end",s),e.removeListener("close",d),e.removeListener("error",u),l.removeListener("error",u),e.removeListener("end",c),e.removeListener("close",c),l.removeListener("close",c)}return e.on("error",u),l.on("error",u),e.on("end",c),e.on("close",c),l.on("close",c),l.emit("pipe",e),l}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(i,T,S){var m={}.toString;T.exports=Array.isArray||function(o){return m.call(o)=="[object Array]"}},{}],507:[function(i,T,S){T.exports=i("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(i,T,S){var m=i("process-nextick-args"),o=Object.keys||function(c){var f=[];for(var h in c)f.push(h);return f};T.exports=s;var l=Object.create(i("core-util-is"));l.inherits=i("inherits");var n=i("./_stream_readable"),e=i("./_stream_writable");l.inherits(s,n);for(var t=o(e.prototype),a=0;a<t.length;a++){var r=t[a];s.prototype[r]||(s.prototype[r]=e.prototype[r])}function s(c){if(!(this instanceof s))return new s(c);n.call(this,c),e.call(this,c),c&&c.readable===!1&&(this.readable=!1),c&&c.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,c&&c.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||m.nextTick(u,this)}function u(c){c.end()}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),s.prototype._destroy=function(c,f){this.push(null),this.end(),m.nextTick(f,c)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(i,T,S){T.exports=l;var m=i("./_stream_transform"),o=Object.create(i("core-util-is"));function l(n){if(!(this instanceof l))return new l(n);m.call(this,n)}o.inherits=i("inherits"),o.inherits(l,m),l.prototype._transform=function(n,e,t){t(null,n)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(i,T,S){(function(m,o){(function(){var l=i("process-nextick-args");T.exports=j;var n,e=i("isarray");j.ReadableState=E,i("events").EventEmitter;var t=function(M,F){return M.listeners(F).length},a=i("./internal/streams/stream"),r=i("safe-buffer").Buffer,s=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d=Object.create(i("core-util-is"));d.inherits=i("inherits");var u=i("util"),c=void 0;c=u&&u.debuglog?u.debuglog("stream"):function(){};var f,h=i("./internal/streams/BufferList"),w=i("./internal/streams/destroy");d.inherits(j,a);var k=["error","close","destroy","pause","resume"];function E(M,F){M=M||{};var q=F instanceof(n=n||i("./_stream_duplex"));this.objectMode=!!M.objectMode,q&&(this.objectMode=this.objectMode||!!M.readableObjectMode);var U=M.highWaterMark,Y=M.readableHighWaterMark,B=this.objectMode?16:16384;this.highWaterMark=U||U===0?U:q&&(Y||Y===0)?Y:B,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(f||(f=i("string_decoder/").StringDecoder),this.decoder=new f(M.encoding),this.encoding=M.encoding)}function j(M){if(n=n||i("./_stream_duplex"),!(this instanceof j))return new j(M);this._readableState=new E(M,this),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),a.call(this)}function $(M,F,q,U,Y){var B,W=M._readableState;return F===null?(W.reading=!1,function(I,A){if(!A.ended){if(A.decoder){var z=A.decoder.end();z&&z.length&&(A.buffer.push(z),A.length+=A.objectMode?1:z.length)}A.ended=!0,R(I)}}(M,W)):(Y||(B=function(I,A){var z;V=A,r.isBuffer(V)||V instanceof s||typeof A=="string"||A===void 0||I.objectMode||(z=new TypeError("Invalid non-string/buffer chunk"));var V;return z}(W,F)),B?M.emit("error",B):W.objectMode||F&&F.length>0?(typeof F=="string"||W.objectMode||Object.getPrototypeOf(F)===r.prototype||(F=function(I){return r.from(I)}(F)),U?W.endEmitted?M.emit("error",new Error("stream.unshift() after end event")):D(M,W,F,!0):W.ended?M.emit("error",new Error("stream.push() after EOF")):(W.reading=!1,W.decoder&&!q?(F=W.decoder.write(F),W.objectMode||F.length!==0?D(M,W,F,!1):N(M,W)):D(M,W,F,!1))):U||(W.reading=!1)),function(I){return!I.ended&&(I.needReadable||I.length<I.highWaterMark||I.length===0)}(W)}function D(M,F,q,U){F.flowing&&F.length===0&&!F.sync?(M.emit("data",q),M.read(0)):(F.length+=F.objectMode?1:q.length,U?F.buffer.unshift(q):F.buffer.push(q),F.needReadable&&R(M)),N(M,F)}Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),j.prototype.destroy=w.destroy,j.prototype._undestroy=w.undestroy,j.prototype._destroy=function(M,F){this.push(null),F(M)},j.prototype.push=function(M,F){var q,U=this._readableState;return U.objectMode?q=!0:typeof M=="string"&&((F=F||U.defaultEncoding)!==U.encoding&&(M=r.from(M,F),F=""),q=!0),$(this,M,F,!1,q)},j.prototype.unshift=function(M){return $(this,M,null,!0,!1)},j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(M){return f||(f=i("string_decoder/").StringDecoder),this._readableState.decoder=new f(M),this._readableState.encoding=M,this};function P(M,F){return M<=0||F.length===0&&F.ended?0:F.objectMode?1:M!=M?F.flowing&&F.length?F.buffer.head.data.length:F.length:(M>F.highWaterMark&&(F.highWaterMark=function(q){return q>=8388608?q=8388608:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}(M)),M<=F.length?M:F.ended?F.length:(F.needReadable=!0,0))}function R(M){var F=M._readableState;F.needReadable=!1,F.emittedReadable||(c("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?l.nextTick(H,M):H(M))}function H(M){c("emit readable"),M.emit("readable"),p(M)}function N(M,F){F.readingMore||(F.readingMore=!0,l.nextTick(_,M,F))}function _(M,F){for(var q=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(c("maybeReadMore read 0"),M.read(0),q!==F.length);)q=F.length;F.readingMore=!1}function C(M){c("readable nexttick read 0"),M.read(0)}function v(M,F){F.reading||(c("resume read 0"),M.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,M.emit("resume"),p(M),F.flowing&&!F.reading&&M.read(0)}function p(M){var F=M._readableState;for(c("flow",F.flowing);F.flowing&&M.read()!==null;);}function b(M,F){return F.length===0?null:(F.objectMode?q=F.buffer.shift():!M||M>=F.length?(q=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):q=function(U,Y,B){var W;return U<Y.head.data.length?(W=Y.head.data.slice(0,U),Y.head.data=Y.head.data.slice(U)):W=U===Y.head.data.length?Y.shift():B?function(I,A){var z=A.head,V=1,Z=z.data;for(I-=Z.length;z=z.next;){var X=z.data,K=I>X.length?X.length:I;if(K===X.length?Z+=X:Z+=X.slice(0,I),(I-=K)===0){K===X.length?(++V,z.next?A.head=z.next:A.head=A.tail=null):(A.head=z,z.data=X.slice(K));break}++V}return A.length-=V,Z}(U,Y):function(I,A){var z=r.allocUnsafe(I),V=A.head,Z=1;for(V.data.copy(z),I-=V.data.length;V=V.next;){var X=V.data,K=I>X.length?X.length:I;if(X.copy(z,z.length-I,0,K),(I-=K)===0){K===X.length?(++Z,V.next?A.head=V.next:A.head=A.tail=null):(A.head=V,V.data=X.slice(K));break}++Z}return A.length-=Z,z}(U,Y),W}(M,F.buffer,F.decoder),q);var q}function g(M){var F=M._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,l.nextTick(y,F,M))}function y(M,F){M.endEmitted||M.length!==0||(M.endEmitted=!0,F.readable=!1,F.emit("end"))}function x(M,F){for(var q=0,U=M.length;q<U;q++)if(M[q]===F)return q;return-1}j.prototype.read=function(M){c("read",M),M=parseInt(M,10);var F=this._readableState,q=M;if(M!==0&&(F.emittedReadable=!1),M===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return c("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?g(this):R(this),null;if((M=P(M,F))===0&&F.ended)return F.length===0&&g(this),null;var U,Y=F.needReadable;return c("need readable",Y),(F.length===0||F.length-M<F.highWaterMark)&&c("length less than watermark",Y=!0),F.ended||F.reading?c("reading or ended",Y=!1):Y&&(c("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(M=P(q,F))),(U=M>0?b(M,F):null)===null?(F.needReadable=!0,M=0):F.length-=M,F.length===0&&(F.ended||(F.needReadable=!0),q!==M&&F.ended&&g(this)),U!==null&&this.emit("data",U),U},j.prototype._read=function(M){this.emit("error",new Error("_read() is not implemented"))},j.prototype.pipe=function(M,F){var q=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=M;break;case 1:U.pipes=[U.pipes,M];break;default:U.pipes.push(M)}U.pipesCount+=1,c("pipe count=%d opts=%j",U.pipesCount,F);var Y=(!F||F.end!==!1)&&M!==m.stdout&&M!==m.stderr?W:ie;function B(ne,G){c("onunpipe"),ne===q&&G&&G.hasUnpiped===!1&&(G.hasUnpiped=!0,c("cleanup"),M.removeListener("close",X),M.removeListener("finish",K),M.removeListener("drain",I),M.removeListener("error",Z),M.removeListener("unpipe",B),q.removeListener("end",W),q.removeListener("end",ie),q.removeListener("data",V),A=!0,!U.awaitDrain||M._writableState&&!M._writableState.needDrain||I())}function W(){c("onend"),M.end()}U.endEmitted?l.nextTick(Y):q.once("end",Y),M.on("unpipe",B);var I=function(ne){return function(){var G=ne._readableState;c("pipeOnDrain",G.awaitDrain),G.awaitDrain&&G.awaitDrain--,G.awaitDrain===0&&t(ne,"data")&&(G.flowing=!0,p(ne))}}(q);M.on("drain",I);var A=!1,z=!1;function V(ne){c("ondata"),z=!1,M.write(ne)!==!1||z||((U.pipesCount===1&&U.pipes===M||U.pipesCount>1&&x(U.pipes,M)!==-1)&&!A&&(c("false write response, pause",U.awaitDrain),U.awaitDrain++,z=!0),q.pause())}function Z(ne){c("onerror",ne),ie(),M.removeListener("error",Z),t(M,"error")===0&&M.emit("error",ne)}function X(){M.removeListener("finish",K),ie()}function K(){c("onfinish"),M.removeListener("close",X),ie()}function ie(){c("unpipe"),q.unpipe(M)}return q.on("data",V),function(ne,G,ee){if(typeof ne.prependListener=="function")return ne.prependListener(G,ee);ne._events&&ne._events[G]?e(ne._events[G])?ne._events[G].unshift(ee):ne._events[G]=[ee,ne._events[G]]:ne.on(G,ee)}(M,"error",Z),M.once("close",X),M.once("finish",K),M.emit("pipe",q),U.flowing||(c("pipe resume"),q.resume()),M},j.prototype.unpipe=function(M){var F=this._readableState,q={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return M&&M!==F.pipes||(M||(M=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,M&&M.emit("unpipe",this,q)),this;if(!M){var U=F.pipes,Y=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var B=0;B<Y;B++)U[B].emit("unpipe",this,{hasUnpiped:!1});return this}var W=x(F.pipes,M);return W===-1||(F.pipes.splice(W,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),M.emit("unpipe",this,q)),this},j.prototype.on=function(M,F){var q=a.prototype.on.call(this,M,F);if(M==="data")this._readableState.flowing!==!1&&this.resume();else if(M==="readable"){var U=this._readableState;U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.emittedReadable=!1,U.reading?U.length&&R(this):l.nextTick(C,this))}return q},j.prototype.addListener=j.prototype.on,j.prototype.resume=function(){var M=this._readableState;return M.flowing||(c("resume"),M.flowing=!0,function(F,q){q.resumeScheduled||(q.resumeScheduled=!0,l.nextTick(v,F,q))}(this,M)),this},j.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},j.prototype.wrap=function(M){var F=this,q=this._readableState,U=!1;for(var Y in M.on("end",function(){if(c("wrapped end"),q.decoder&&!q.ended){var W=q.decoder.end();W&&W.length&&F.push(W)}F.push(null)}),M.on("data",function(W){c("wrapped data"),q.decoder&&(W=q.decoder.write(W)),q.objectMode&&W==null||(q.objectMode||W&&W.length)&&(F.push(W)||(U=!0,M.pause()))}),M)this[Y]===void 0&&typeof M[Y]=="function"&&(this[Y]=function(W){return function(){return M[W].apply(M,arguments)}}(Y));for(var B=0;B<k.length;B++)M.on(k[B],this.emit.bind(this,k[B]));return this._read=function(W){c("wrapped _read",W),U&&(U=!1,M.resume())},this},Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),j._fromList=b}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(i,T,S){T.exports=n;var m=i("./_stream_duplex"),o=Object.create(i("core-util-is"));function l(a,r){var s=this._transformState;s.transforming=!1;var d=s.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));s.writechunk=null,s.writecb=null,r!=null&&this.push(r),d(a);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function n(a){if(!(this instanceof n))return new n(a);m.call(this,a),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",e)}function e(){var a=this;typeof this._flush=="function"?this._flush(function(r,s){t(a,r,s)}):t(this,null,null)}function t(a,r,s){if(r)return a.emit("error",r);if(s!=null&&a.push(s),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}o.inherits=i("inherits"),o.inherits(n,m),n.prototype.push=function(a,r){return this._transformState.needTransform=!1,m.prototype.push.call(this,a,r)},n.prototype._transform=function(a,r,s){throw new Error("_transform() is not implemented")},n.prototype._write=function(a,r,s){var d=this._transformState;if(d.writecb=s,d.writechunk=a,d.writeencoding=r,!d.transforming){var u=this._readableState;(d.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}},n.prototype._read=function(a){var r=this._transformState;r.writechunk!==null&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},n.prototype._destroy=function(a,r){var s=this;m.prototype._destroy.call(this,a,function(d){r(d),s.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(i,T,S){(function(m,o,l){(function(){var n=i("process-nextick-args");function e(N){var _=this;this.next=null,this.entry=null,this.finish=function(){(function(C,v,p){var b=C.entry;for(C.entry=null;b;){var g=b.callback;v.pendingcb--,g(p),b=b.next}v.corkedRequestsFree.next=C})(_,N)}}T.exports=E;var t,a=!m.browser&&["v0.10","v0.9."].indexOf(m.version.slice(0,5))>-1?l:n.nextTick;E.WritableState=k;var r=Object.create(i("core-util-is"));r.inherits=i("inherits");var s={deprecate:i("util-deprecate")},d=i("./internal/streams/stream"),u=i("safe-buffer").Buffer,c=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,h=i("./internal/streams/destroy");function w(){}function k(N,_){t=t||i("./_stream_duplex"),N=N||{};var C=_ instanceof t;this.objectMode=!!N.objectMode,C&&(this.objectMode=this.objectMode||!!N.writableObjectMode);var v=N.highWaterMark,p=N.writableHighWaterMark,b=this.objectMode?16:16384;this.highWaterMark=v||v===0?v:C&&(p||p===0)?p:b,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var g=N.decodeStrings===!1;this.decodeStrings=!g,this.defaultEncoding=N.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(y){(function(x,M){var F=x._writableState,q=F.sync,U=F.writecb;if(function(B){B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0}(F),M)(function(B,W,I,A,z){--W.pendingcb,I?(n.nextTick(z,A),n.nextTick(H,B,W),B._writableState.errorEmitted=!0,B.emit("error",A)):(z(A),B._writableState.errorEmitted=!0,B.emit("error",A),H(B,W))})(x,F,q,M,U);else{var Y=P(F);Y||F.corked||F.bufferProcessing||!F.bufferedRequest||D(x,F),q?a($,x,F,Y,U):$(x,F,Y,U)}})(_,y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function E(N){if(t=t||i("./_stream_duplex"),!(f.call(E,this)||this instanceof t))return new E(N);this._writableState=new k(N,this),this.writable=!0,N&&(typeof N.write=="function"&&(this._write=N.write),typeof N.writev=="function"&&(this._writev=N.writev),typeof N.destroy=="function"&&(this._destroy=N.destroy),typeof N.final=="function"&&(this._final=N.final)),d.call(this)}function j(N,_,C,v,p,b,g){_.writelen=v,_.writecb=g,_.writing=!0,_.sync=!0,C?N._writev(p,_.onwrite):N._write(p,b,_.onwrite),_.sync=!1}function $(N,_,C,v){C||function(p,b){b.length===0&&b.needDrain&&(b.needDrain=!1,p.emit("drain"))}(N,_),_.pendingcb--,v(),H(N,_)}function D(N,_){_.bufferProcessing=!0;var C=_.bufferedRequest;if(N._writev&&C&&C.next){var v=_.bufferedRequestCount,p=new Array(v),b=_.corkedRequestsFree;b.entry=C;for(var g=0,y=!0;C;)p[g]=C,C.isBuf||(y=!1),C=C.next,g+=1;p.allBuffers=y,j(N,_,!0,_.length,p,"",b.finish),_.pendingcb++,_.lastBufferedRequest=null,b.next?(_.corkedRequestsFree=b.next,b.next=null):_.corkedRequestsFree=new e(_),_.bufferedRequestCount=0}else{for(;C;){var x=C.chunk,M=C.encoding,F=C.callback;if(j(N,_,!1,_.objectMode?1:x.length,x,M,F),C=C.next,_.bufferedRequestCount--,_.writing)break}C===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=C,_.bufferProcessing=!1}function P(N){return N.ending&&N.length===0&&N.bufferedRequest===null&&!N.finished&&!N.writing}function R(N,_){N._final(function(C){_.pendingcb--,C&&N.emit("error",C),_.prefinished=!0,N.emit("prefinish"),H(N,_)})}function H(N,_){var C=P(_);return C&&(function(v,p){p.prefinished||p.finalCalled||(typeof v._final=="function"?(p.pendingcb++,p.finalCalled=!0,n.nextTick(R,v,p)):(p.prefinished=!0,v.emit("prefinish")))}(N,_),_.pendingcb===0&&(_.finished=!0,N.emit("finish"))),C}r.inherits(E,d),k.prototype.getBuffer=function(){for(var N=this.bufferedRequest,_=[];N;)_.push(N),N=N.next;return _},function(){try{Object.defineProperty(k.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(N){return!!f.call(this,N)||this===E&&N&&N._writableState instanceof k}})):f=function(N){return N instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(N,_,C){var v,p=this._writableState,b=!1,g=!p.objectMode&&(v=N,u.isBuffer(v)||v instanceof c);return g&&!u.isBuffer(N)&&(N=function(y){return u.from(y)}(N)),typeof _=="function"&&(C=_,_=null),g?_="buffer":_||(_=p.defaultEncoding),typeof C!="function"&&(C=w),p.ended?function(y,x){var M=new Error("write after end");y.emit("error",M),n.nextTick(x,M)}(this,C):(g||function(y,x,M,F){var q=!0,U=!1;return M===null?U=new TypeError("May not write null values to stream"):typeof M=="string"||M===void 0||x.objectMode||(U=new TypeError("Invalid non-string/buffer chunk")),U&&(y.emit("error",U),n.nextTick(F,U),q=!1),q}(this,p,N,C))&&(p.pendingcb++,b=function(y,x,M,F,q,U){if(!M){var Y=function(A,z,V){return A.objectMode||A.decodeStrings===!1||typeof z!="string"||(z=u.from(z,V)),z}(x,F,q);F!==Y&&(M=!0,q="buffer",F=Y)}var B=x.objectMode?1:F.length;x.length+=B;var W=x.length<x.highWaterMark;if(W||(x.needDrain=!0),x.writing||x.corked){var I=x.lastBufferedRequest;x.lastBufferedRequest={chunk:F,encoding:q,isBuf:M,callback:U,next:null},I?I.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else j(y,x,!1,B,F,q,U);return W}(this,p,g,N,_,C)),b},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var N=this._writableState;N.corked&&(N.corked--,N.writing||N.corked||N.bufferProcessing||!N.bufferedRequest||D(this,N))},E.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(N,_,C){C(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(N,_,C){var v=this._writableState;typeof N=="function"?(C=N,N=null,_=null):typeof _=="function"&&(C=_,_=null),N!=null&&this.write(N,_),v.corked&&(v.corked=1,this.uncork()),v.ending||function(p,b,g){b.ending=!0,H(p,b),g&&(b.finished?n.nextTick(g):p.once("finish",g)),b.ended=!0,p.writable=!1}(this,v,C)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),E.prototype.destroy=h.destroy,E.prototype._undestroy=h.undestroy,E.prototype._destroy=function(N,_){this.end(),_(N)}}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{},i("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(i,T,S){var m=i("safe-buffer").Buffer,o=i("util");T.exports=function(){function l(){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l),this.head=null,this.tail=null,this.length=0}return l.prototype.push=function(n){var e={data:n,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},l.prototype.unshift=function(n){var e={data:n,next:this.head};this.length===0&&(this.tail=e),this.head=e,++this.length},l.prototype.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},l.prototype.clear=function(){this.head=this.tail=null,this.length=0},l.prototype.join=function(n){if(this.length===0)return"";for(var e=this.head,t=""+e.data;e=e.next;)t+=n+e.data;return t},l.prototype.concat=function(n){if(this.length===0)return m.alloc(0);for(var e,t,a,r=m.allocUnsafe(n>>>0),s=this.head,d=0;s;)e=s.data,t=r,a=d,e.copy(t,a),d+=s.data.length,s=s.next;return r},l}(),o&&o.inspect&&o.inspect.custom&&(T.exports.prototype[o.inspect.custom]=function(){var l=o.inspect({length:this.length});return this.constructor.name+" "+l})},{"safe-buffer":520,util:188}],514:[function(i,T,S){var m=i("process-nextick-args");function o(l,n){l.emit("error",n)}T.exports={destroy:function(l,n){var e=this,t=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return t||a?(n?n(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(o,this,l)):m.nextTick(o,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(r){!n&&r?e._writableState?e._writableState.errorEmitted||(e._writableState.errorEmitted=!0,m.nextTick(o,e,r)):m.nextTick(o,e,r):n&&n(r)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(i,T,S){arguments[4][490][0].apply(S,arguments)},{dup:490,events:422}],516:[function(i,T,S){T.exports=i("./readable").PassThrough},{"./readable":517}],517:[function(i,T,S){(S=T.exports=i("./lib/_stream_readable.js")).Stream=S,S.Readable=S,S.Writable=i("./lib/_stream_writable.js"),S.Duplex=i("./lib/_stream_duplex.js"),S.Transform=i("./lib/_stream_transform.js"),S.PassThrough=i("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(i,T,S){T.exports=i("./readable").Transform},{"./readable":517}],519:[function(i,T,S){T.exports=i("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(i,T,S){arguments[4][217][0].apply(S,arguments)},{buffer:220,dup:217}],521:[function(i,T,S){arguments[4][218][0].apply(S,arguments)},{dup:218,"safe-buffer":520}],522:[function(i,T,S){arguments[4][218][0].apply(S,arguments)},{dup:218,"safe-buffer":494}],523:[function(i,T,S){(function(m,o){(function(){var l=i("process/browser.js").nextTick,n=Function.prototype.apply,e=Array.prototype.slice,t={},a=0;function r(s,d){this._id=s,this._clearFn=d}S.setTimeout=function(){return new r(n.call(setTimeout,window,arguments),clearTimeout)},S.setInterval=function(){return new r(n.call(setInterval,window,arguments),clearInterval)},S.clearTimeout=S.clearInterval=function(s){s.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},S.enroll=function(s,d){clearTimeout(s._idleTimeoutId),s._idleTimeout=d},S.unenroll=function(s){clearTimeout(s._idleTimeoutId),s._idleTimeout=-1},S._unrefActive=S.active=function(s){clearTimeout(s._idleTimeoutId);var d=s._idleTimeout;d>=0&&(s._idleTimeoutId=setTimeout(function(){s._onTimeout&&s._onTimeout()},d))},S.setImmediate=typeof m=="function"?m:function(s){var d=a++,u=!(arguments.length<2)&&e.call(arguments,1);return t[d]=!0,l(function(){t[d]&&(u?s.apply(null,u):s.call(null),S.clearImmediate(d))}),d},S.clearImmediate=typeof o=="function"?o:function(s){delete t[s]}}).call(this)}).call(this,i("timers").setImmediate,i("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(i,T,S){(function(m){(function(){function o(l){try{if(!m.localStorage)return!1}catch{return!1}var n=m.localStorage[l];return n!=null&&String(n).toLowerCase()==="true"}T.exports=function(l,n){if(o("noDeprecation"))return l;var e=!1;return function(){if(!e){if(o("throwDeprecation"))throw new Error(n);o("traceDeprecation")?console.trace(n):console.warn(n),e=!0}return l.apply(this,arguments)}}}).call(this)}).call(this,typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(i,T,S){typeof Object.create=="function"?T.exports=function(m,o){m.super_=o,m.prototype=Object.create(o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}})}:T.exports=function(m,o){m.super_=o;var l=function(){};l.prototype=o.prototype,m.prototype=new l,m.prototype.constructor=m}},{}],526:[function(i,T,S){T.exports=function(m){return m&&typeof m=="object"&&typeof m.copy=="function"&&typeof m.fill=="function"&&typeof m.readUInt8=="function"}},{}],527:[function(i,T,S){(function(m,o){(function(){var l=/%[sdj%]/g;S.format=function(p){if(!k(p)){for(var b=[],g=0;g<arguments.length;g++)b.push(t(arguments[g]));return b.join(" ")}g=1;for(var y=arguments,x=y.length,M=String(p).replace(l,function(q){if(q==="%%")return"%";if(g>=x)return q;switch(q){case"%s":return String(y[g++]);case"%d":return Number(y[g++]);case"%j":try{return JSON.stringify(y[g++])}catch{return"[Circular]"}default:return q}}),F=y[g];g<x;F=y[++g])h(F)||!$(F)?M+=" "+F:M+=" "+t(F);return M},S.deprecate=function(p,b){if(E(o.process))return function(){return S.deprecate(p,b).apply(this,arguments)};if(m.noDeprecation===!0)return p;var g=!1;return function(){if(!g){if(m.throwDeprecation)throw new Error(b);m.traceDeprecation?console.trace(b):console.error(b),g=!0}return p.apply(this,arguments)}};var n,e={};function t(p,b){var g={seen:[],stylize:r};return arguments.length>=3&&(g.depth=arguments[2]),arguments.length>=4&&(g.colors=arguments[3]),f(b)?g.showHidden=b:b&&S._extend(g,b),E(g.showHidden)&&(g.showHidden=!1),E(g.depth)&&(g.depth=2),E(g.colors)&&(g.colors=!1),E(g.customInspect)&&(g.customInspect=!0),g.colors&&(g.stylize=a),s(g,p,g.depth)}function a(p,b){var g=t.styles[b];return g?"\x1B["+t.colors[g][0]+"m"+p+"\x1B["+t.colors[g][1]+"m":p}function r(p,b){return p}function s(p,b,g){if(p.customInspect&&b&&R(b.inspect)&&b.inspect!==S.inspect&&(!b.constructor||b.constructor.prototype!==b)){var y=b.inspect(g,p);return k(y)||(y=s(p,y,g)),y}var x=function(I,A){if(E(A))return I.stylize("undefined","undefined");if(k(A)){var z="'"+JSON.stringify(A).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(z,"string")}if(w(A))return I.stylize(""+A,"number");if(f(A))return I.stylize(""+A,"boolean");if(h(A))return I.stylize("null","null")}(p,b);if(x)return x;var M=Object.keys(b),F=function(I){var A={};return I.forEach(function(z,V){A[z]=!0}),A}(M);if(p.showHidden&&(M=Object.getOwnPropertyNames(b)),P(b)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return d(b);if(M.length===0){if(R(b)){var q=b.name?": "+b.name:"";return p.stylize("[Function"+q+"]","special")}if(j(b))return p.stylize(RegExp.prototype.toString.call(b),"regexp");if(D(b))return p.stylize(Date.prototype.toString.call(b),"date");if(P(b))return d(b)}var U,Y="",B=!1,W=["{","}"];return c(b)&&(B=!0,W=["[","]"]),R(b)&&(Y=" [Function"+(b.name?": "+b.name:"")+"]"),j(b)&&(Y=" "+RegExp.prototype.toString.call(b)),D(b)&&(Y=" "+Date.prototype.toUTCString.call(b)),P(b)&&(Y=" "+d(b)),M.length!==0||B&&b.length!=0?g<0?j(b)?p.stylize(RegExp.prototype.toString.call(b),"regexp"):p.stylize("[Object]","special"):(p.seen.push(b),U=B?function(I,A,z,V,Z){for(var X=[],K=0,ie=A.length;K<ie;++K)v(A,String(K))?X.push(u(I,A,z,V,String(K),!0)):X.push("");return Z.forEach(function(ne){ne.match(/^\d+$/)||X.push(u(I,A,z,V,ne,!0))}),X}(p,b,g,F,M):M.map(function(I){return u(p,b,g,F,I,B)}),p.seen.pop(),function(I,A,z){return I.reduce(function(V,Z){return Z.indexOf(`
`)>=0,V+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?z[0]+(A===""?"":A+`
 `)+" "+I.join(`,
  `)+" "+z[1]:z[0]+A+" "+I.join(", ")+" "+z[1]}(U,Y,W)):W[0]+Y+W[1]}function d(p){return"["+Error.prototype.toString.call(p)+"]"}function u(p,b,g,y,x,M){var F,q,U;if((U=Object.getOwnPropertyDescriptor(b,x)||{value:b[x]}).get?q=U.set?p.stylize("[Getter/Setter]","special"):p.stylize("[Getter]","special"):U.set&&(q=p.stylize("[Setter]","special")),v(y,x)||(F="["+x+"]"),q||(p.seen.indexOf(U.value)<0?(q=h(g)?s(p,U.value,null):s(p,U.value,g-1)).indexOf(`
`)>-1&&(q=M?q.split(`
`).map(function(Y){return"  "+Y}).join(`
`).substr(2):`
`+q.split(`
`).map(function(Y){return"   "+Y}).join(`
`)):q=p.stylize("[Circular]","special")),E(F)){if(M&&x.match(/^\d+$/))return q;(F=JSON.stringify(""+x)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.substr(1,F.length-2),F=p.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=p.stylize(F,"string"))}return F+": "+q}function c(p){return Array.isArray(p)}function f(p){return typeof p=="boolean"}function h(p){return p===null}function w(p){return typeof p=="number"}function k(p){return typeof p=="string"}function E(p){return p===void 0}function j(p){return $(p)&&H(p)==="[object RegExp]"}function $(p){return typeof p=="object"&&p!==null}function D(p){return $(p)&&H(p)==="[object Date]"}function P(p){return $(p)&&(H(p)==="[object Error]"||p instanceof Error)}function R(p){return typeof p=="function"}function H(p){return Object.prototype.toString.call(p)}function N(p){return p<10?"0"+p.toString(10):p.toString(10)}S.debuglog=function(p){if(E(n)&&(n=m.env.NODE_DEBUG||""),p=p.toUpperCase(),!e[p])if(new RegExp("\\b"+p+"\\b","i").test(n)){var b=m.pid;e[p]=function(){var g=S.format.apply(S,arguments);console.error("%s %d: %s",p,b,g)}}else e[p]=function(){};return e[p]},S.inspect=t,t.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},t.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},S.isArray=c,S.isBoolean=f,S.isNull=h,S.isNullOrUndefined=function(p){return p==null},S.isNumber=w,S.isString=k,S.isSymbol=function(p){return typeof p=="symbol"},S.isUndefined=E,S.isRegExp=j,S.isObject=$,S.isDate=D,S.isError=P,S.isFunction=R,S.isPrimitive=function(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||p===void 0},S.isBuffer=i("./support/isBuffer");var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(){var p=new Date,b=[N(p.getHours()),N(p.getMinutes()),N(p.getSeconds())].join(":");return[p.getDate(),_[p.getMonth()],b].join(" ")}function v(p,b){return Object.prototype.hasOwnProperty.call(p,b)}S.log=function(){console.log("%s - %s",C(),S.format.apply(S,arguments))},S.inherits=i("inherits"),S._extend=function(p,b){if(!b||!$(b))return p;for(var g=Object.keys(b),y=g.length;y--;)p[g[y]]=b[g[y]];return p}}).call(this)}).call(this,i("_process"),typeof et<"u"?et:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),Object.defineProperty(S,"v1",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(S,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(S,"v4",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(S,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(S,"NIL",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(S,"version",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(S,"validate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(S,"stringify",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(S,"parse",{enumerable:!0,get:function(){return s.default}});var m=d(i("./v1.js")),o=d(i("./v3.js")),l=d(i("./v4.js")),n=d(i("./v5.js")),e=d(i("./nil.js")),t=d(i("./version.js")),a=d(i("./validate.js")),r=d(i("./stringify.js")),s=d(i("./parse.js"));function d(u){return u&&u.__esModule?u:{default:u}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(i,T,S){function m(s){return 14+(s+64>>>9<<4)+1}function o(s,d){const u=(65535&s)+(65535&d);return(s>>16)+(d>>16)+(u>>16)<<16|65535&u}function l(s,d,u,c,f,h){return o((w=o(o(d,s),o(c,h)))<<(k=f)|w>>>32-k,u);var w,k}function n(s,d,u,c,f,h,w){return l(d&u|~d&c,s,d,f,h,w)}function e(s,d,u,c,f,h,w){return l(d&c|u&~c,s,d,f,h,w)}function t(s,d,u,c,f,h,w){return l(d^u^c,s,d,f,h,w)}function a(s,d,u,c,f,h,w){return l(u^(d|~c),s,d,f,h,w)}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var r=function(s){if(typeof s=="string"){const d=unescape(encodeURIComponent(s));s=new Uint8Array(d.length);for(let u=0;u<d.length;++u)s[u]=d.charCodeAt(u)}return function(d){const u=[],c=32*d.length;for(let f=0;f<c;f+=8){const h=d[f>>5]>>>f%32&255,w=parseInt("0123456789abcdef".charAt(h>>>4&15)+"0123456789abcdef".charAt(15&h),16);u.push(w)}return u}(function(d,u){d[u>>5]|=128<<u%32,d[m(u)-1]=u;let c=1732584193,f=-271733879,h=-1732584194,w=271733878;for(let k=0;k<d.length;k+=16){const E=c,j=f,$=h,D=w;c=n(c,f,h,w,d[k],7,-680876936),w=n(w,c,f,h,d[k+1],12,-389564586),h=n(h,w,c,f,d[k+2],17,606105819),f=n(f,h,w,c,d[k+3],22,-1044525330),c=n(c,f,h,w,d[k+4],7,-176418897),w=n(w,c,f,h,d[k+5],12,1200080426),h=n(h,w,c,f,d[k+6],17,-1473231341),f=n(f,h,w,c,d[k+7],22,-45705983),c=n(c,f,h,w,d[k+8],7,1770035416),w=n(w,c,f,h,d[k+9],12,-1958414417),h=n(h,w,c,f,d[k+10],17,-42063),f=n(f,h,w,c,d[k+11],22,-1990404162),c=n(c,f,h,w,d[k+12],7,1804603682),w=n(w,c,f,h,d[k+13],12,-40341101),h=n(h,w,c,f,d[k+14],17,-1502002290),f=n(f,h,w,c,d[k+15],22,1236535329),c=e(c,f,h,w,d[k+1],5,-165796510),w=e(w,c,f,h,d[k+6],9,-1069501632),h=e(h,w,c,f,d[k+11],14,643717713),f=e(f,h,w,c,d[k],20,-373897302),c=e(c,f,h,w,d[k+5],5,-701558691),w=e(w,c,f,h,d[k+10],9,38016083),h=e(h,w,c,f,d[k+15],14,-660478335),f=e(f,h,w,c,d[k+4],20,-405537848),c=e(c,f,h,w,d[k+9],5,568446438),w=e(w,c,f,h,d[k+14],9,-1019803690),h=e(h,w,c,f,d[k+3],14,-187363961),f=e(f,h,w,c,d[k+8],20,1163531501),c=e(c,f,h,w,d[k+13],5,-1444681467),w=e(w,c,f,h,d[k+2],9,-51403784),h=e(h,w,c,f,d[k+7],14,1735328473),f=e(f,h,w,c,d[k+12],20,-1926607734),c=t(c,f,h,w,d[k+5],4,-378558),w=t(w,c,f,h,d[k+8],11,-2022574463),h=t(h,w,c,f,d[k+11],16,1839030562),f=t(f,h,w,c,d[k+14],23,-35309556),c=t(c,f,h,w,d[k+1],4,-1530992060),w=t(w,c,f,h,d[k+4],11,1272893353),h=t(h,w,c,f,d[k+7],16,-155497632),f=t(f,h,w,c,d[k+10],23,-1094730640),c=t(c,f,h,w,d[k+13],4,681279174),w=t(w,c,f,h,d[k],11,-358537222),h=t(h,w,c,f,d[k+3],16,-722521979),f=t(f,h,w,c,d[k+6],23,76029189),c=t(c,f,h,w,d[k+9],4,-640364487),w=t(w,c,f,h,d[k+12],11,-421815835),h=t(h,w,c,f,d[k+15],16,530742520),f=t(f,h,w,c,d[k+2],23,-995338651),c=a(c,f,h,w,d[k],6,-198630844),w=a(w,c,f,h,d[k+7],10,1126891415),h=a(h,w,c,f,d[k+14],15,-1416354905),f=a(f,h,w,c,d[k+5],21,-57434055),c=a(c,f,h,w,d[k+12],6,1700485571),w=a(w,c,f,h,d[k+3],10,-1894986606),h=a(h,w,c,f,d[k+10],15,-1051523),f=a(f,h,w,c,d[k+1],21,-2054922799),c=a(c,f,h,w,d[k+8],6,1873313359),w=a(w,c,f,h,d[k+15],10,-30611744),h=a(h,w,c,f,d[k+6],15,-1560198380),f=a(f,h,w,c,d[k+13],21,1309151649),c=a(c,f,h,w,d[k+4],6,-145523070),w=a(w,c,f,h,d[k+11],10,-1120210379),h=a(h,w,c,f,d[k+2],15,718787259),f=a(f,h,w,c,d[k+9],21,-343485551),c=o(c,E),f=o(f,j),h=o(h,$),w=o(w,D)}return[c,f,h,w]}(function(d){if(d.length===0)return[];const u=8*d.length,c=new Uint32Array(m(u));for(let f=0;f<u;f+=8)c[f>>5]|=(255&d[f/8])<<f%32;return c}(s),8*s.length))};S.default=r},{}],530:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,S.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m,o=(m=i("./validate.js"))&&m.__esModule?m:{default:m},l=function(n){if(!(0,o.default)(n))throw TypeError("Invalid UUID");let e;const t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=255&e,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=255&e,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=255&e,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=255&e,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=255&e,t};S.default=l},{"./validate.js":541}],532:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0,S.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(i,T,S){let m;Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){if(!m&&(m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(o)};const o=new Uint8Array(16)},{}],534:[function(i,T,S){function m(n,e,t,a){switch(n){case 0:return e&t^~e&a;case 1:return e^t^a;case 2:return e&t^e&a^t&a;case 3:return e^t^a}}function o(n,e){return n<<e|n>>>32-e}Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var l=function(n){const e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){const d=unescape(encodeURIComponent(n));n=[];for(let u=0;u<d.length;++u)n.push(d.charCodeAt(u))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);const a=n.length/4+2,r=Math.ceil(a/16),s=new Array(r);for(let d=0;d<r;++d){const u=new Uint32Array(16);for(let c=0;c<16;++c)u[c]=n[64*d+4*c]<<24|n[64*d+4*c+1]<<16|n[64*d+4*c+2]<<8|n[64*d+4*c+3];s[d]=u}s[r-1][14]=8*(n.length-1)/Math.pow(2,32),s[r-1][14]=Math.floor(s[r-1][14]),s[r-1][15]=8*(n.length-1)&4294967295;for(let d=0;d<r;++d){const u=new Uint32Array(80);for(let E=0;E<16;++E)u[E]=s[d][E];for(let E=16;E<80;++E)u[E]=o(u[E-3]^u[E-8]^u[E-14]^u[E-16],1);let c=t[0],f=t[1],h=t[2],w=t[3],k=t[4];for(let E=0;E<80;++E){const j=Math.floor(E/20),$=o(c,5)+m(j,f,h,w)+k+e[j]+u[E]>>>0;k=w,w=h,h=o(f,30)>>>0,f=c,c=$}t[0]=t[0]+c>>>0,t[1]=t[1]+f>>>0,t[2]=t[2]+h>>>0,t[3]=t[3]+w>>>0,t[4]=t[4]+k>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,255&t[0],t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,255&t[1],t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,255&t[2],t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,255&t[3],t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,255&t[4]]};S.default=l},{}],535:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m,o=(m=i("./validate.js"))&&m.__esModule?m:{default:m};const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).substr(1));var n=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const a=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!(0,o.default)(a))throw TypeError("Stringified UUID is invalid");return a};S.default=n},{"./validate.js":541}],536:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=l(i("./rng.js")),o=l(i("./stringify.js"));function l(s){return s&&s.__esModule?s:{default:s}}let n,e,t=0,a=0;var r=function(s,d,u){let c=d&&u||0;const f=d||new Array(16);let h=(s=s||{}).node||n,w=s.clockseq!==void 0?s.clockseq:e;if(h==null||w==null){const P=s.random||(s.rng||m.default)();h==null&&(h=n=[1|P[0],P[1],P[2],P[3],P[4],P[5]]),w==null&&(w=e=16383&(P[6]<<8|P[7]))}let k=s.msecs!==void 0?s.msecs:Date.now(),E=s.nsecs!==void 0?s.nsecs:a+1;const j=k-t+(E-a)/1e4;if(j<0&&s.clockseq===void 0&&(w=w+1&16383),(j<0||k>t)&&s.nsecs===void 0&&(E=0),E>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");t=k,a=E,e=w,k+=122192928e5;const $=(1e4*(268435455&k)+E)%4294967296;f[c++]=$>>>24&255,f[c++]=$>>>16&255,f[c++]=$>>>8&255,f[c++]=255&$;const D=k/4294967296*1e4&268435455;f[c++]=D>>>8&255,f[c++]=255&D,f[c++]=D>>>24&15|16,f[c++]=D>>>16&255,f[c++]=w>>>8|128,f[c++]=255&w;for(let P=0;P<6;++P)f[c+P]=h[P];return d||(0,o.default)(f)};S.default=r},{"./rng.js":533,"./stringify.js":535}],537:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=l(i("./v35.js")),o=l(i("./md5.js"));function l(e){return e&&e.__esModule?e:{default:e}}var n=(0,m.default)("v3",48,o.default);S.default=n},{"./md5.js":529,"./v35.js":538}],538:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(t,a,r){function s(d,u,c,f){if(typeof d=="string"&&(d=function(w){w=unescape(encodeURIComponent(w));const k=[];for(let E=0;E<w.length;++E)k.push(w.charCodeAt(E));return k}(d)),typeof u=="string"&&(u=(0,o.default)(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+d.length);if(h.set(u),h.set(d,u.length),h=r(h),h[6]=15&h[6]|a,h[8]=63&h[8]|128,c){f=f||0;for(let w=0;w<16;++w)c[f+w]=h[w];return c}return(0,m.default)(h)}try{s.name=t}catch{}return s.DNS=n,s.URL=e,s},S.URL=S.DNS=void 0;var m=l(i("./stringify.js")),o=l(i("./parse.js"));function l(t){return t&&t.__esModule?t:{default:t}}const n="6ba7b810-9dad-11d1-80b4-00c04fd430c8";S.DNS=n;const e="6ba7b811-9dad-11d1-80b4-00c04fd430c8";S.URL=e},{"./parse.js":531,"./stringify.js":535}],539:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=l(i("./rng.js")),o=l(i("./stringify.js"));function l(e){return e&&e.__esModule?e:{default:e}}var n=function(e,t,a){const r=(e=e||{}).random||(e.rng||m.default)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(let s=0;s<16;++s)t[a+s]=r[s];return t}return(0,o.default)(r)};S.default=n},{"./rng.js":533,"./stringify.js":535}],540:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m=l(i("./v35.js")),o=l(i("./sha1.js"));function l(e){return e&&e.__esModule?e:{default:e}}var n=(0,m.default)("v5",80,o.default);S.default=n},{"./sha1.js":534,"./v35.js":538}],541:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m,o=(m=i("./regex.js"))&&m.__esModule?m:{default:m},l=function(n){return typeof n=="string"&&o.default.test(n)};S.default=l},{"./regex.js":532}],542:[function(i,T,S){Object.defineProperty(S,"__esModule",{value:!0}),S.default=void 0;var m,o=(m=i("./validate.js"))&&m.__esModule?m:{default:m},l=function(n){if(!(0,o.default)(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)};S.default=l},{"./validate.js":541}],543:[function(i,T,S){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(S,"__esModule",{value:!0}),S.CHAR=`	
\r ---`,S.S=` 	\r
`,S.NAME_START_CHAR=":A-Z_a-z-----------",S.NAME_CHAR="-"+S.NAME_START_CHAR+".0-9--",S.CHAR_RE=new RegExp("^["+S.CHAR+"]$","u"),S.S_RE=new RegExp("^["+S.S+"]+$","u"),S.NAME_START_CHAR_RE=new RegExp("^["+S.NAME_START_CHAR+"]$","u"),S.NAME_CHAR_RE=new RegExp("^["+S.NAME_CHAR+"]$","u"),S.NAME_RE=new RegExp("^["+S.NAME_START_CHAR+"]["+S.NAME_CHAR+"]*$","u"),S.NMTOKEN_RE=new RegExp("^["+S.NAME_CHAR+"]+$","u");function m(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}S.S_LIST=[32,10,13,9],S.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},S.isS=function(o){return o===32||o===10||o===13||o===9},S.isNameStartChar=m,S.isNameChar=function(o){return m(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(i,T,S){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(S,"__esModule",{value:!0}),S.CHAR="---",S.RESTRICTED_CHAR="-\b\v\f---",S.S=` 	\r
`,S.NAME_START_CHAR=":A-Z_a-z-----------",S.NAME_CHAR="-"+S.NAME_START_CHAR+".0-9--",S.CHAR_RE=new RegExp("^["+S.CHAR+"]$","u"),S.RESTRICTED_CHAR_RE=new RegExp("^["+S.RESTRICTED_CHAR+"]$","u"),S.S_RE=new RegExp("^["+S.S+"]+$","u"),S.NAME_START_CHAR_RE=new RegExp("^["+S.NAME_START_CHAR+"]$","u"),S.NAME_CHAR_RE=new RegExp("^["+S.NAME_CHAR+"]$","u"),S.NAME_RE=new RegExp("^["+S.NAME_START_CHAR+"]["+S.NAME_CHAR+"]*$","u"),S.NMTOKEN_RE=new RegExp("^["+S.NAME_CHAR+"]+$","u");function m(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}S.S_LIST=[32,10,13,9],S.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},S.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},S.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},S.isS=function(o){return o===32||o===10||o===13||o===9},S.isNameStartChar=m,S.isNameChar=function(o){return m(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(i,T,S){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function m(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(S,"__esModule",{value:!0}),S.NC_NAME_START_CHAR="A-Z_a-z------------",S.NC_NAME_CHAR="-"+S.NC_NAME_START_CHAR+".0-9--",S.NC_NAME_START_CHAR_RE=new RegExp("^["+S.NC_NAME_START_CHAR+"]$","u"),S.NC_NAME_CHAR_RE=new RegExp("^["+S.NC_NAME_CHAR+"]$","u"),S.NC_NAME_RE=new RegExp("^["+S.NC_NAME_START_CHAR+"]["+S.NC_NAME_CHAR+"]*$","u"),S.isNCNameStartChar=m,S.isNCNameChar=function(o){return m(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(Dr);var pn=Dr.exports;const mn=["Choose Method","Configure","Preview & Import"],gr=({open:ce,onClose:_e,onImportComplete:i,apiServices:T,pluginKey:S})=>{const[m,o]=fe.useState(0),[l,n]=fe.useState("template"),[e,t]=fe.useState(!1),[a,r]=fe.useState(null),[s,d]=fe.useState(null),[u,c]=fe.useState(""),[f,h]=fe.useState(null),[w,k]=fe.useState(null),[E,j]=fe.useState(null),$=fe.useRef(null),[D,P]=fe.useState(null),[R,H]=fe.useState(""),[N,_]=fe.useState("all"),[C,v]=fe.useState(!1),[p,b]=fe.useState(""),g=()=>{try{const J=localStorage.getItem("persist:root");if(J){const te=JSON.parse(J);if(te.auth)return JSON.parse(te.auth).authToken||null}}catch{}return null},y=T||{get:async(J,te)=>{const se=g(),ae={"Content-Type":"application/json"};se&&(ae.Authorization=`Bearer ${se}`);const de=await fetch(`/api${J}`,{...te,headers:ae});return(te==null?void 0:te.responseType)==="blob"?{data:await de.blob(),status:de.status}:{data:await de.json(),status:de.status}},post:async(J,te)=>{const se=g(),ae={"Content-Type":"application/json"};se&&(ae.Authorization=`Bearer ${se}`);const de=await fetch(`/api${J}`,{method:"POST",headers:ae,body:JSON.stringify(te)});return{data:await de.json(),status:de.status}}},x=fe.useCallback(()=>{o(0),n("template"),c(""),h(null),k(null),j(null),r(null),d(null),P(null),H(""),_("all"),v(!1),b(""),$.current&&($.current.value="")},[]),M=fe.useCallback(()=>{x(),_e()},[x,_e]),F=async()=>{try{t(!0),r(null);const J=await y.get(`/plugins/${S}/template`,{responseType:"blob"}),te=new Blob([J.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),se=window.URL.createObjectURL(te),ae=document.createElement("a");ae.href=se,ae.setAttribute("download","custom_framework_template.xlsx"),document.body.appendChild(ae),ae.click(),ae.remove(),window.URL.revokeObjectURL(se)}catch(J){r(`Failed to download template: ${J.message}`)}finally{t(!1)}},q=fe.useCallback(()=>{try{r(null);const J=JSON.parse(u);h(J),o(2)}catch(J){r(`Invalid JSON: ${J.message}`)}},[u]),U=async J=>{var se;const te=(se=J.target.files)==null?void 0:se[0];if(te){k(te),r(null);try{const ae=await te.arrayBuffer(),de=new pn.Workbook;await de.xlsx.load(ae);const he=de.getWorksheet("Framework Info");if(!he)throw new Error('Sheet "Framework Info" not found');const ve={};he.eachRow((re,pe)=>{var we,be;if(pe>1){const me=((we=re.getCell(1).value)==null?void 0:we.toString())||"",Ee=((be=re.getCell(2).value)==null?void 0:be.toString())||"";me&&(ve[me]=Ee)}});const Se=de.getWorksheet("Structure");if(!Se)throw new Error('Sheet "Structure" not found');const Te=[],ke=[];Se.eachRow((re,pe)=>{if(pe===1)re.eachCell((we,be)=>{var me;ke[be]=((me=we.value)==null?void 0:me.toString().toLowerCase().replace(/\s+/g,"_").replace(/[*()]/g,"").replace(/_+$/,""))||""});else{const we={};re.eachCell((be,me)=>{var Oe;const Ee=ke[me];Ee&&(we[Ee]=((Oe=be.value)==null?void 0:Oe.toString())||"")}),we.level&&we.title&&Te.push(we)}}),j({info:ve,structure:Te});const Be=Y(ve,Te);h(Be),o(2)}catch(ae){r(`Failed to parse Excel file: ${ae.message}`)}}},Y=(J,te)=>{const se={name:J.name||"Unnamed Framework",description:J.description||"",version:J.version||"1.0.0",is_organizational:J.is_organizational==="true",hierarchy:{type:J.hierarchy_type||"two_level",level1_name:J.level1_name||"Category",level2_name:J.level2_name||"Control",level3_name:J.level3_name||void 0},structure:[]};let ae=null,de=null;for(const he of te){const ve=parseInt(he.level);ve===1?(ae&&se.structure.push(ae),ae={title:he.title,description:he.description||void 0,order_no:parseInt(he.order)||1,items:[]},de=null):ve===2&&ae?(de={title:he.title,description:he.description||void 0,order_no:parseInt(he.order)||1,summary:he.summary||void 0,questions:he.questions_comma_separated?he.questions_comma_separated.split(",").map(Se=>Se.trim()):void 0,evidence_examples:he.evidence_examples_comma_separated?he.evidence_examples_comma_separated.split(",").map(Se=>Se.trim()):void 0,items:[]},ae.items.push(de)):ve===3&&de&&de.items.push({title:he.title,description:he.description||void 0,order_no:parseInt(he.order)||1,summary:he.summary||void 0})}return ae&&se.structure.push(ae),se},B=J=>{P(J),b(JSON.stringify(J.framework,null,2))},W=J=>{D&&(J?(v(!0),o(1)):(h(D.framework),o(2)))},I=()=>{try{r(null);const J=JSON.parse(p);h(J),o(2)}catch(J){r(`Invalid JSON: ${J.message}`)}},A=async()=>{if(f)try{t(!0),r(null);let J;l==="excel"&&E?J=await y.post(`/plugins/${S}/import-excel`,E):J=await y.post(`/plugins/${S}/import`,f);const te=J.data.data||J.data;if(te.success===!1){r(te.message||"Import failed"),te.errors&&r(`${te.message}

Errors:
${te.errors.join(`
`)}`);return}d(te),i&&setTimeout(()=>{i(),M()},2e3)}catch(J){r(J.message||"Import failed")}finally{t(!1)}},z=J=>{let te=0,se=0,ae=0;for(const de of J||[]){te++;for(const he of de.items||[])se++,ae+=(he.items||[]).length}return{level1:te,level2:se,level3:ae}},V=()=>un.filter(J=>{const te=N==="all"||J.category===N,se=!R||J.name.toLowerCase().includes(R.toLowerCase())||J.description.toLowerCase().includes(R.toLowerCase())||J.tags.some(ae=>ae.toLowerCase().includes(R.toLowerCase()));return te&&se}),Z=()=>O.jsxs(L.Box,{children:[O.jsxs(L.Box,{onClick:()=>n("template"),sx:{cursor:"pointer",border:l==="template"?"2px solid #13715B":"1px solid #E0E4E9",borderRadius:"8px",backgroundColor:l==="template"?"#F0FAF8":"#FFFFFF",padding:"16px",marginBottom:"12px",transition:"all 0.15s","&:hover":{borderColor:"#13715B",backgroundColor:"#F9FAFB"}},children:[O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(L.Typography,{sx:{fontSize:14,fontWeight:600,color:"#101828"},children:"Template Library"}),O.jsx(L.Chip,{label:"Recommended",size:"small",sx:{backgroundColor:"#ECFDF3",color:"#027A48",fontWeight:500,fontSize:11,height:22}})]}),l==="template"&&O.jsx($t,{size:18,color:"#13715B"})]}),O.jsx(L.Typography,{sx:{fontSize:13,color:"#667085",mb:1.5,lineHeight:1.5},children:"Choose from pre-built compliance frameworks like ISO 27001, SOC 2, NIST, and more"}),O.jsxs(L.Box,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[O.jsx(L.Chip,{label:"Quick Setup",size:"small",sx:{backgroundColor:"#F2F4F7",color:"#344054",fontSize:11,height:22}}),O.jsx(L.Chip,{label:"Best Practices",size:"small",sx:{backgroundColor:"#F2F4F7",color:"#344054",fontSize:11,height:22}})]})]}),O.jsxs(L.Box,{onClick:()=>n("json"),sx:{cursor:"pointer",border:l==="json"?"2px solid #13715B":"1px solid #E0E4E9",borderRadius:"8px",backgroundColor:l==="json"?"#F0FAF8":"#FFFFFF",padding:"16px",marginBottom:"12px",transition:"all 0.15s","&:hover":{borderColor:"#13715B",backgroundColor:"#F9FAFB"}},children:[O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[O.jsx(L.Typography,{sx:{fontSize:14,fontWeight:600,color:"#101828"},children:"JSON Import"}),l==="json"&&O.jsx($t,{size:18,color:"#13715B"})]}),O.jsx(L.Typography,{sx:{fontSize:13,color:"#667085",mb:1.5,lineHeight:1.5},children:"Paste or upload a JSON file with your custom framework structure"}),O.jsxs(L.Box,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[O.jsx(L.Chip,{label:"Full Control",size:"small",sx:{backgroundColor:"#F2F4F7",color:"#344054",fontSize:11,height:22}}),O.jsx(L.Chip,{label:"Custom Structure",size:"small",sx:{backgroundColor:"#F2F4F7",color:"#344054",fontSize:11,height:22}})]})]}),O.jsxs(L.Box,{onClick:()=>n("excel"),sx:{cursor:"pointer",border:l==="excel"?"2px solid #13715B":"1px solid #E0E4E9",borderRadius:"8px",backgroundColor:l==="excel"?"#F0FAF8":"#FFFFFF",padding:"16px",marginBottom:"12px",transition:"all 0.15s","&:hover":{borderColor:"#13715B",backgroundColor:"#F9FAFB"}},children:[O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1},children:[O.jsx(L.Typography,{sx:{fontSize:14,fontWeight:600,color:"#101828"},children:"Excel Template"}),l==="excel"&&O.jsx($t,{size:18,color:"#13715B"})]}),O.jsx(L.Typography,{sx:{fontSize:13,color:"#667085",mb:1.5,lineHeight:1.5},children:"Download our Excel template, fill it out with your framework data, and upload"}),O.jsxs(L.Box,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[O.jsx(L.Chip,{label:"Spreadsheet Format",size:"small",sx:{backgroundColor:"#F2F4F7",color:"#344054",fontSize:11,height:22}}),O.jsx(L.Chip,{label:"Easy Editing",size:"small",sx:{backgroundColor:"#F2F4F7",color:"#344054",fontSize:11,height:22}})]})]})]}),X=()=>O.jsxs(L.Box,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[O.jsx(L.TextField,{size:"small",placeholder:"Search templates...",value:R,onChange:J=>H(J.target.value),fullWidth:!0,sx:{mb:2,"& .MuiOutlinedInput-root":{fontSize:13,backgroundColor:"#FFFFFF"}},InputProps:{startAdornment:O.jsx(L.InputAdornment,{position:"start",children:O.jsx(hr,{size:16,color:"#667085"})})}}),O.jsx(L.Tabs,{value:N,onChange:(J,te)=>_(te),sx:{mb:2,minHeight:36,"& .MuiTab-root":{fontSize:12,minHeight:36,textTransform:"none",color:"#667085","&.Mui-selected":{color:"#13715B"}},"& .MuiTabs-indicator":{backgroundColor:"#13715B"}},children:hn.map(J=>O.jsx(L.Tab,{label:J.name,value:J.id},J.id))}),O.jsx(L.Box,{sx:{flex:1,overflow:"auto",pr:1},children:V().map(J=>O.jsxs(L.Box,{onClick:()=>B(J),sx:{cursor:"pointer",border:(D==null?void 0:D.id)===J.id?"2px solid #13715B":"1px solid #E0E4E9",borderRadius:"8px",backgroundColor:(D==null?void 0:D.id)===J.id?"#F0FAF8":"#FFFFFF",padding:"16px",marginBottom:"12px",transition:"all 0.15s","&:hover":{borderColor:"#13715B",backgroundColor:"#F9FAFB"}},children:[O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[O.jsx(L.Typography,{sx:{fontSize:"14px",fontWeight:600,color:"#101828"},children:J.name}),(D==null?void 0:D.id)===J.id&&O.jsx($t,{size:18,color:"#13715B"})]}),O.jsx(L.Typography,{sx:{fontSize:"13px",color:"#667085",marginBottom:"12px",lineHeight:1.5},children:J.description}),O.jsxs(L.Box,{sx:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[O.jsx(L.Chip,{label:J.framework.hierarchy.type==="three_level"?"3 Levels":"2 Levels",size:"small",sx:{backgroundColor:"#F2F4F7",color:"#344054",fontSize:"11px",height:"22px"}}),O.jsx(L.Chip,{label:J.framework.is_organizational?"Organizational":"Project",size:"small",sx:{backgroundColor:"#F2F4F7",color:"#344054",fontSize:"11px",height:"22px"}})]})]},J.id))})]}),K=()=>l==="template"&&C?O.jsxs(L.Box,{children:[O.jsx(L.Alert,{severity:"info",sx:{mb:2,fontSize:12,"& .MuiAlert-message":{fontSize:12}},children:"Customize the framework JSON below. You can modify the name, description, structure, and any other fields."}),O.jsx(L.TextField,{multiline:!0,rows:12,fullWidth:!0,value:p,onChange:J=>b(J.target.value),sx:{"& .MuiInputBase-root":{fontFamily:"monospace",fontSize:11,backgroundColor:"#FAFAFA"}}})]}):l==="template"?X():l==="json"?O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#344054",mb:1},children:"Paste your framework JSON:"}),O.jsx(L.TextField,{multiline:!0,rows:12,fullWidth:!0,placeholder:`{
  "name": "My Framework",
  "description": "Framework description",
  "version": "1.0.0",
  "is_organizational": false,
  "hierarchy": {
    "type": "two_level",
    "level1_name": "Category",
    "level2_name": "Control"
  },
  "structure": [...]
}`,value:u,onChange:J=>c(J.target.value),sx:{"& .MuiInputBase-root":{fontFamily:"monospace",fontSize:11,backgroundColor:"#FAFAFA"}}})]}):O.jsxs(L.Box,{children:[O.jsx(L.Alert,{severity:"info",sx:{mb:2,fontSize:12,"& .MuiAlert-message":{fontSize:12}},children:"Download the Excel template, fill it out with your framework data, then upload it below."}),O.jsx(L.Button,{variant:"outlined",size:"small",startIcon:O.jsx(lr,{size:16}),onClick:F,disabled:e,sx:{mb:3,fontSize:12,height:34,borderColor:"#D0D5DD",color:"#344054",textTransform:"none","&:hover":{borderColor:"#98A2B3",backgroundColor:"#F9FAFB"}},children:"Download Template"}),O.jsxs(L.Box,{sx:{border:`2px dashed ${w?"#13715B":"#E0E4E9"}`,borderRadius:"8px",p:4,textAlign:"center",cursor:"pointer",backgroundColor:w?"#F0FAF8":"#FAFAFA",transition:"all 0.2s","&:hover":{borderColor:"#13715B",backgroundColor:"#F9FAFB"}},onClick:()=>{var J;return(J=$.current)==null?void 0:J.click()},children:[O.jsx("input",{type:"file",ref:$,accept:".xlsx,.xls",style:{display:"none"},onChange:U}),O.jsx(Ir,{size:32,color:w?"#13715B":"#98A2B3"}),O.jsx(L.Typography,{sx:{fontSize:13,color:w?"#13715B":"#667085",mt:1.5,fontWeight:w?500:400},children:w?w.name:"Click to upload or drag and drop"}),O.jsx(L.Typography,{sx:{fontSize:11,color:"#98A2B3"},children:".xlsx or .xls files only"})]})]}),ie=()=>{if(!f)return null;const J=z(f.structure);return O.jsx(L.Box,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:s?O.jsxs(L.Alert,{severity:"success",icon:O.jsx($t,{size:20}),sx:{fontSize:13},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:600,mb:.5},children:"Framework imported successfully!"}),O.jsxs(L.Typography,{sx:{fontSize:12},children:["Created ",s.itemsCreated," items. Framework ID:"," ",s.frameworkId]})]}):O.jsxs(L.Box,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[O.jsxs(L.Box,{sx:{p:2,mb:2,border:"1px solid #E0E4E9",borderRadius:"8px",backgroundColor:"#FFFFFF",flexShrink:0},children:[O.jsx(L.Typography,{sx:{fontSize:15,fontWeight:600,color:"#101828",mb:.5},children:f.name}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#667085",mb:2},children:f.description}),O.jsxs(L.Stack,{direction:"row",spacing:1,sx:{mb:2},children:[O.jsx(L.Chip,{label:`v${f.version}`,size:"small",sx:{fontSize:11,height:22,backgroundColor:"#F2F4F7"}}),O.jsx(L.Chip,{label:f.is_organizational?"Organizational":"Project-level",size:"small",sx:{fontSize:11,height:22,backgroundColor:f.is_organizational?"#ECFDF3":"#F2F4F7",color:f.is_organizational?"#027A48":"#344054"}}),O.jsx(L.Chip,{label:f.hierarchy.type==="three_level"?"3 Levels":"2 Levels",size:"small",sx:{fontSize:11,height:22,backgroundColor:"#F2F4F7"}})]}),O.jsxs(L.Stack,{direction:"row",spacing:4,children:[O.jsxs(L.Box,{children:[O.jsxs(L.Typography,{sx:{fontSize:11,color:"#667085"},children:[f.hierarchy.level1_name,"s"]}),O.jsx(L.Typography,{sx:{fontSize:20,fontWeight:600,color:"#101828"},children:J.level1})]}),O.jsxs(L.Box,{children:[O.jsxs(L.Typography,{sx:{fontSize:11,color:"#667085"},children:[f.hierarchy.level2_name,"s"]}),O.jsx(L.Typography,{sx:{fontSize:20,fontWeight:600,color:"#101828"},children:J.level2})]}),f.hierarchy.type==="three_level"&&O.jsxs(L.Box,{children:[O.jsxs(L.Typography,{sx:{fontSize:11,color:"#667085"},children:[f.hierarchy.level3_name,"s"]}),O.jsx(L.Typography,{sx:{fontSize:20,fontWeight:600,color:"#101828"},children:J.level3})]})]})]}),O.jsxs(L.Box,{sx:{flex:1,display:"flex",flexDirection:"column",minHeight:0},children:[O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:500,color:"#344054",mb:1,flexShrink:0},children:"Structure Preview"}),O.jsx(L.TableContainer,{component:L.Paper,sx:{flex:1,border:"1px solid #E0E4E9",borderRadius:"8px",boxShadow:"none"},children:O.jsxs(L.Table,{size:"small",stickyHeader:!0,children:[O.jsx(L.TableHead,{children:O.jsxs(L.TableRow,{children:[O.jsx(L.TableCell,{sx:{fontSize:11,fontWeight:600,backgroundColor:"#F9FAFB",width:60},children:"Level"}),O.jsx(L.TableCell,{sx:{fontSize:11,fontWeight:600,backgroundColor:"#F9FAFB"},children:"Title"})]})}),O.jsx(L.TableBody,{children:f.structure.slice(0,5).map((te,se)=>O.jsxs(fe.Fragment,{children:[O.jsxs(L.TableRow,{sx:{backgroundColor:"#F9FAFB"},children:[O.jsx(L.TableCell,{sx:{fontSize:11},children:O.jsx(L.Chip,{label:"L1",size:"small",sx:{backgroundColor:"#ECFDF3",color:"#027A48",fontSize:10,height:18}})}),O.jsx(L.TableCell,{sx:{fontSize:12,fontWeight:500},children:te.title})]}),(te.items||[]).slice(0,2).map((ae,de)=>O.jsxs(L.TableRow,{children:[O.jsx(L.TableCell,{sx:{fontSize:11,pl:3},children:O.jsx(L.Chip,{label:"L2",size:"small",variant:"outlined",sx:{fontSize:10,height:18}})}),O.jsx(L.TableCell,{sx:{fontSize:12},children:ae.title})]},`${se}-${de}`))]},se))})]})})]})]})})},ne=()=>{switch(m){case 0:return!0;case 1:return l==="template"?C?p.trim().length>0:D!==null:l==="json"?u.trim().length>0:E!==null;case 2:return f!==null&&!s;default:return!1}},G=()=>{if(m===1){if(l==="json"){q();return}if(l==="template"&&C){I();return}}o(J=>J+1)},ee=()=>{if(m===1&&l==="template"&&C){v(!1);return}o(J=>J-1)};return O.jsx(L.Modal,{open:ce,onClose:(J,te)=>{te!=="backdropClick"&&M()},sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"24px"},children:O.jsxs(L.Stack,{sx:{width:"800px",height:"650px",maxWidth:"calc(100vw - 48px)",maxHeight:"calc(100vh - 48px)",backgroundColor:"#FFFFFF",borderRadius:"8px",overflow:"hidden","&:focus":{outline:"none"}},children:[O.jsx(L.Stack,{sx:{background:"linear-gradient(180deg, #F8FAFB 0%, #F3F5F8 100%)",borderBottom:"1px solid #E0E4E9",padding:"16px 24px",paddingBottom:"36px",marginBottom:"-20px",zIndex:0},children:O.jsxs(L.Stack,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[O.jsxs(L.Stack,{spacing:.5,children:[O.jsx(L.Typography,{sx:{fontSize:15,fontWeight:600,color:"#101828",lineHeight:"28px"},children:"Import Custom Framework"}),O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:400,color:"#475467",lineHeight:"20px"},children:"Create a new compliance framework from templates, JSON, or Excel"})]}),O.jsx(L.Box,{component:"span",role:"button",tabIndex:0,onClick:M,sx:{cursor:"pointer",color:"#98A2B3",display:"flex",alignItems:"center",padding:"4px",borderRadius:"4px","&:hover":{backgroundColor:"#F2F4F7"}},children:O.jsx(qt,{size:20})})]})}),O.jsxs(L.Box,{sx:{padding:"20px",flex:1,overflow:"hidden",border:"1px solid #E0E4E9",borderRadius:"16px",backgroundColor:"#FFFFFF",zIndex:1,position:"relative",display:"flex",flexDirection:"column"},children:[O.jsx(L.Box,{sx:{pb:5,flexShrink:0},children:O.jsx(L.Stepper,{activeStep:m,sx:{"& .MuiStepConnector-line":{borderTopWidth:2},"& .MuiStepConnector-root.Mui-active .MuiStepConnector-line":{borderColor:"#13715B"},"& .MuiStepConnector-root.Mui-completed .MuiStepConnector-line":{borderColor:"#13715B"}},children:mn.map((J,te)=>O.jsx(L.Step,{children:O.jsx(L.StepLabel,{sx:{"& .MuiStepLabel-label":{fontSize:"13px",fontWeight:m===te?600:400,color:m>=te?"#101828":"#667085"},"& .MuiStepIcon-root":{color:m>=te?"#13715B":"#E0E4E9",fontSize:24},"& .MuiStepIcon-text":{fill:"#FFFFFF",fontSize:"12px",fontWeight:500},"& .MuiStepConnector-line":{borderColor:m>te?"#13715B":"#E0E4E9"}},children:J})},J))})}),O.jsxs(L.Box,{sx:{flex:1,overflow:"auto",display:"flex",flexDirection:"column"},children:[a&&O.jsx(L.Alert,{severity:"error",sx:{mb:2,fontSize:12,flexShrink:0},onClose:()=>r(null),children:O.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:12},children:a})}),O.jsxs(L.Box,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[m===0&&Z(),m===1&&K(),m===2&&ie()]})]})]}),O.jsxs(L.Stack,{direction:"row",justifyContent:"space-between",sx:{background:"linear-gradient(180deg, #F3F5F8 0%, #F8FAFB 100%)",borderTop:"1px solid #E0E4E9",padding:"12px 24px",paddingTop:"32px",marginTop:"-20px",zIndex:0},children:[O.jsx(L.Box,{children:m>0&&!s&&O.jsx(L.Button,{onClick:ee,startIcon:O.jsx(Jr,{size:16}),disabled:e,sx:{fontSize:13,height:34,color:"#344054",textTransform:"none","&:hover":{backgroundColor:"#F2F4F7"}},children:"Back"})}),O.jsxs(L.Stack,{direction:"row",spacing:1.5,children:[m===0&&O.jsx(L.Button,{variant:"contained",onClick:G,endIcon:O.jsx(Xt,{size:16}),disabled:e,sx:{fontSize:13,height:34,backgroundColor:"#13715B",textTransform:"none","&:hover":{backgroundColor:"#0F5A47"}},children:"Next"}),m===1&&l==="template"&&D&&!C&&O.jsxs(O.Fragment,{children:[O.jsx(L.Button,{variant:"outlined",startIcon:O.jsx(nn,{size:14}),onClick:()=>W(!0),disabled:e,sx:{fontSize:13,height:34,borderColor:"#D0D5DD",color:"#344054",textTransform:"none","&:hover":{borderColor:"#98A2B3",backgroundColor:"#F9FAFB"}},children:"Customize"}),O.jsx(L.Button,{variant:"contained",onClick:()=>W(!1),disabled:e,sx:{fontSize:13,height:34,backgroundColor:"#13715B",textTransform:"none","&:hover":{backgroundColor:"#0F5A47"}},children:"Use Template"})]}),m===1&&(l!=="template"||C||!D)&&O.jsx(L.Button,{variant:"contained",onClick:G,endIcon:O.jsx(Xt,{size:16}),disabled:!ne()||e,sx:{fontSize:13,height:34,backgroundColor:"#13715B",textTransform:"none","&:hover":{backgroundColor:"#0F5A47"},"&.Mui-disabled":{backgroundColor:"#E5E7EB",color:"#9CA3AF"}},children:"Next"}),m===2&&!s&&O.jsx(L.Button,{variant:"contained",onClick:A,startIcon:e?O.jsx(L.CircularProgress,{size:16,color:"inherit"}):O.jsx(Ir,{size:16}),disabled:e||!f,sx:{fontSize:13,height:34,backgroundColor:"#13715B",textTransform:"none","&:hover":{backgroundColor:"#0F5A47"},"&.Mui-disabled":{backgroundColor:"#E5E7EB",color:"#9CA3AF"}},children:e?"Importing...":"Import Framework"}),s&&O.jsx(L.Button,{variant:"contained",onClick:M,sx:{fontSize:13,height:34,backgroundColor:"#13715B",textTransform:"none","&:hover":{backgroundColor:"#0F5A47"}},children:"Done"})]})]})]})})},gn=({onImportComplete:ce,apiServices:_e,variant:i="button",pluginKey:T})=>{const[S,m]=fe.useState(!1),o=()=>{m(!0)},l=()=>{m(!1)},n=()=>{ce==null||ce(),m(!1)};return i==="card"?O.jsxs(O.Fragment,{children:[O.jsxs(L.Card,{sx:{height:"100%",display:"flex",flexDirection:"column",border:`2px dashed ${vt.default}`,bgcolor:Ct.subtle,transition:"all 0.2s",cursor:"pointer",borderRadius:"8px","&:hover":{borderColor:Ue.primary,bgcolor:"#f0fdf4"}},onClick:o,children:[O.jsxs(L.CardContent,{sx:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:4},children:[O.jsx(L.Box,{sx:{width:64,height:64,borderRadius:"50%",bgcolor:`${Ue.primary}15`,display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:O.jsx(Tr,{size:32,color:Ue.primary})}),O.jsx(L.Typography,{sx:{fontSize:At.large,fontWeight:600,color:Qe.primary,mb:1},children:"Import Custom Framework"}),O.jsx(L.Typography,{sx:{fontSize:At.medium,color:Qe.muted,textAlign:"center"},children:"Add your own compliance framework from JSON or Excel"})]}),O.jsx(L.CardActions,{sx:{justifyContent:"center",pb:3},children:O.jsxs(L.Box,{sx:{display:"flex",gap:1},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:.5,color:Qe.muted},children:[O.jsx(cr,{size:14}),O.jsx(L.Typography,{sx:{fontSize:At.small},children:"JSON"})]}),O.jsx(L.Typography,{sx:{fontSize:At.small,color:Qe.muted},children:"or"}),O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:.5,color:Qe.muted},children:[O.jsx(en,{size:14}),O.jsx(L.Typography,{sx:{fontSize:At.small},children:"Excel"})]})]})})]}),O.jsx(gr,{open:S,onClose:l,onImportComplete:n,apiServices:_e,pluginKey:T})]}):O.jsxs(O.Fragment,{children:[O.jsx(L.Button,{variant:"contained",startIcon:O.jsx(Tr,{size:18}),onClick:o,sx:Kt.primary.contained,children:"Import Custom Framework"}),O.jsx(gr,{open:S,onClose:l,onImportComplete:n,apiServices:_e,pluginKey:T})]})},bn=ce=>{var i;const _e=((i=ce==null?void 0:ce.split(".").pop())==null?void 0:i.toLowerCase())||"";return["pdf"].includes(_e)?O.jsx(It,{size:20,color:"#E53935"}):["jpg","jpeg","png","gif","bmp","webp"].includes(_e)?O.jsx(rn,{size:20,color:"#1E88E5"}):["doc","docx","txt","rtf"].includes(_e)?O.jsx(It,{size:20,color:"#00ACC1"}):["xls","xlsx","csv"].includes(_e)?O.jsx(It,{size:20,color:"#43A047"}):O.jsx(tn,{size:20,color:"#757575"})},yn=ce=>ce?ce<1024?`${ce} B`:ce<1024*1024?`${(ce/1024).toFixed(1)} KB`:`${(ce/(1024*1024)).toFixed(1)} MB`:"",vn=ce=>ce?new Date(ce).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"",wn=()=>{try{const ce=localStorage.getItem("persist:root");if(ce){const _e=JSON.parse(ce);if(_e.auth)return JSON.parse(_e.auth).authToken||null}}catch{}return null},xn=({open:ce,onClose:_e,onSelect:i,excludeFileIds:T=[],multiSelect:S=!0,title:m="Attach Existing Files as Evidence"})=>{const[o,l]=fe.useState([]),[n,e]=fe.useState(!1),[t,a]=fe.useState(null),[r,s]=fe.useState(new Set),[d,u]=fe.useState(""),c=fe.useCallback(async()=>{var E;e(!0),a(null);try{const j=wn(),$={};j&&($.Authorization=`Bearer ${j}`);const[D,P]=await Promise.all([fetch("/api/file-manager",{headers:$}),fetch("/api/files",{headers:$})]);let R=[];if(D.ok){const _=await D.json(),C=((E=_.data)==null?void 0:E.files)||_.files||[];R=[...R,...C]}if(P.ok){const _=await P.json(),C=Array.isArray(_)?_:_.data||[];R=[...R,...C]}const N=R.filter(_=>!(_.approval_workflow_id&&_.review_status!=="approved")).map(_=>({id:_.id,fileName:_.filename||_.fileName,size:_.size,type:_.type||_.mimetype,uploadDate:_.upload_date||_.uploaded_time||_.uploadDate,uploader:_.uploader_name?`${_.uploader_name}${_.uploader_surname?` ${_.uploader_surname}`:""}`.trim():_.uploader||void 0})).filter((_,C,v)=>C===v.findIndex(p=>p.id===_.id));l(N)}catch(j){console.error("Failed to fetch files:",j),a("Failed to load files. Please try again.")}finally{e(!1)}},[]);fe.useEffect(()=>{ce&&(c(),s(new Set),u(""))},[ce,c]);const f=o.filter(E=>{var $,D;if(T.includes(E.id))return!1;if(!d)return!0;const j=d.toLowerCase();return(($=E.fileName)==null?void 0:$.toLowerCase().includes(j))||((D=E.uploader)==null?void 0:D.toLowerCase().includes(j))}),h=E=>{s(j=>{const $=new Set(j);return S?$.has(E)?$.delete(E):$.add(E):($.clear(),$.add(E)),$})},w=()=>{const E=o.filter(j=>r.has(j.id));i(E),_e()},k=()=>{r.size===f.length?s(new Set):s(new Set(f.map(E=>E.id)))};return O.jsxs(L.Dialog,{open:ce,onClose:_e,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:"12px",maxWidth:"720px"}},children:[O.jsx(L.DialogTitle,{sx:{pb:1},children:O.jsxs(L.Stack,{direction:"row",justifyContent:"space-between",alignItems:"flex-start",children:[O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:18,fontWeight:600,color:"#101828"},children:m}),O.jsx(L.Typography,{sx:{fontSize:14,color:"#475467",mt:.5},children:"Select files from your organization to attach as evidence"})]}),O.jsx(L.Box,{component:"span",role:"button",tabIndex:0,onClick:_e,sx:{cursor:"pointer",color:"#98A2B3",display:"flex",alignItems:"center",padding:"4px",borderRadius:"4px","&:hover":{backgroundColor:"#F2F4F7"}},children:O.jsx(qt,{size:20})})]})}),O.jsx(L.DialogContent,{children:O.jsxs(L.Stack,{spacing:2.5,children:[O.jsx(L.TextField,{fullWidth:!0,size:"small",placeholder:"Search files...",value:d,onChange:E=>u(E.target.value),InputProps:{startAdornment:O.jsx(L.InputAdornment,{position:"start",children:O.jsx(hr,{size:16,color:"#98A2B3"})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#F9FAFB",borderRadius:"8px",fontSize:13,"& fieldset":{borderColor:"#E5E7EB"},"&:hover fieldset":{borderColor:"#D1D5DB"},"&.Mui-focused fieldset":{borderColor:"#4C7BF4",borderWidth:1}},"& .MuiInputBase-input::placeholder":{color:"#9CA3AF",opacity:1}}}),O.jsxs(L.Stack,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[S&&f.length>0?O.jsx(L.Typography,{onClick:k,sx:{fontSize:12,fontWeight:500,color:"#4C7BF4",cursor:"pointer","&:hover":{color:"#3D62C3"}},children:r.size===f.length?"Deselect all":"Select all"}):O.jsx(L.Box,{}),O.jsxs(L.Stack,{direction:"row",alignItems:"center",spacing:1,children:[r.size>0&&O.jsx(L.Chip,{label:`${r.size} selected`,size:"small",sx:{backgroundColor:"#EEF4FF",color:"#3B5BDB",fontSize:11,fontWeight:500,height:24,"& .MuiChip-label":{px:1.5}}}),O.jsxs(L.Typography,{sx:{fontSize:12,color:"#6B7280"},children:[f.length," file",f.length!==1?"s":""]})]})]}),O.jsx(L.Box,{sx:{maxHeight:"320px",overflowY:"auto",border:"1px solid #E5E7EB",borderRadius:"8px",backgroundColor:"#FFFFFF"},children:n?O.jsx(L.Box,{display:"flex",justifyContent:"center",alignItems:"center",py:5,children:O.jsx(L.CircularProgress,{size:24,sx:{color:"#4C7BF4"}})}):t?O.jsx(L.Box,{display:"flex",justifyContent:"center",alignItems:"center",py:4,children:O.jsx(L.Typography,{sx:{fontSize:13,color:"#DC2626"},children:t})}):f.length===0?O.jsxs(L.Box,{sx:{textAlign:"center",py:4,px:3},children:[O.jsx(L.Typography,{sx:{fontSize:13,color:"#374151",mb:.5},children:d?"No files match your search":"No files available"}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#9CA3AF"},children:!d&&"Upload files to your organization first"})]}):O.jsx(L.Stack,{divider:O.jsx(L.Box,{sx:{borderBottom:"1px solid #F3F4F6"}}),children:f.map(E=>O.jsxs(L.Box,{onClick:()=>h(E.id),sx:{display:"flex",alignItems:"center",gap:1.5,px:2,py:1.5,cursor:"pointer",backgroundColor:r.has(E.id)?"#F0F7FF":"transparent","&:hover":{backgroundColor:r.has(E.id)?"#E3EFFD":"#F9FAFB"},transition:"background-color 0.12s ease"},children:[O.jsx(L.Checkbox,{checked:r.has(E.id),size:"small",sx:{p:.5,color:"#D1D5DB","&.Mui-checked":{color:"#4C7BF4"}}}),O.jsx(L.Box,{sx:{width:36,height:36,borderRadius:"6px",backgroundColor:"#F3F4F6",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:bn(E.fileName)}),O.jsxs(L.Box,{sx:{flex:1,minWidth:0},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#111827",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:1.4},title:E.fileName,children:E.fileName}),O.jsxs(L.Stack,{direction:"row",spacing:.5,alignItems:"center",sx:{mt:.25},children:[E.size&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#6B7280"},children:yn(E.size)}),E.size&&E.uploader&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#D1D5DB"},children:""}),E.uploader&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#6B7280"},children:E.uploader}),(E.size||E.uploader)&&E.uploadDate&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#D1D5DB"},children:""}),E.uploadDate&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#6B7280"},children:vn(E.uploadDate)})]})]})]},E.id))})})]})}),O.jsxs(L.DialogActions,{sx:{px:3,py:2,borderTop:"1px solid #E5E7EB"},children:[O.jsx(L.Button,{variant:"outlined",onClick:_e,sx:{minWidth:"80px",height:"34px",border:"1px solid #D0D5DD",color:"#344054",textTransform:"none","&:hover":{backgroundColor:"#F9FAFB",border:"1px solid #D0D5DD"}},children:"Cancel"}),r.size>0&&O.jsxs(L.Button,{variant:"contained",onClick:w,sx:{minWidth:"80px",height:"34px",backgroundColor:"#13715B",textTransform:"none","&:hover":{backgroundColor:"#0F5A47"}},children:["Attach (",r.size,")"]})]})]})},jr=({open:ce,onClose:_e,item:i,frameworkData:T,projectId:S,onSave:m,apiServices:o,isOrganizational:l=!1,pluginKey:n})=>{const[e,t]=fe.useState("details"),[a,r]=fe.useState(0),[s,d]=fe.useState({status:"Not started",owner:"",reviewer:"",approver:"",due_date:"",implementation_details:"",auditor_feedback:""}),[u,c]=fe.useState([]),[f,h]=fe.useState(!1),[w]=fe.useState(!1),[k,E]=fe.useState(null),[j,$]=fe.useState([]),[D,P]=fe.useState([]),[R,H]=fe.useState([]),[N,_]=fe.useState([]),[C,v]=fe.useState(!1),[p,b]=fe.useState([]),[g,y]=fe.useState(!1),[x,M]=fe.useState([]),[F,q]=fe.useState([]),[U,Y]=fe.useState([]),[B,W]=fe.useState(""),I=()=>{try{const re=localStorage.getItem("persist:root");if(re){const pe=JSON.parse(re);if(pe.auth)return JSON.parse(pe.auth).authToken||null}}catch{}return null},A=o||{get:async re=>{const pe=I(),we={};pe&&(we.Authorization=`Bearer ${pe}`);const be=await fetch(`/api${re}`,{headers:we});return{data:await be.json(),status:be.status}},post:async(re,pe)=>{const we=I(),be={"Content-Type":"application/json"};we&&(be.Authorization=`Bearer ${we}`);const me=await fetch(`/api${re}`,{method:"POST",headers:be,body:JSON.stringify(pe)});return{data:await me.json(),status:me.status}},patch:async(re,pe)=>{const we=I(),be={"Content-Type":"application/json"};we&&(be.Authorization=`Bearer ${we}`);const me=await fetch(`/api${re}`,{method:"PATCH",headers:be,body:JSON.stringify(pe)});return{data:await me.json(),status:me.status}}},z=fe.useCallback(async()=>{try{const re=await A.get("/users"),pe=re.data.data||re.data;Array.isArray(pe)&&c(pe)}catch(re){console.log("[ControlItemDrawer] Error loading users:",re)}},[]),V=fe.useCallback(async()=>{var re;try{const pe=l?"/projectRisks?filter=active":S?`/projectRisks/by-projId/${S}`:"/projectRisks?filter=active",we=await A.get(pe);let be=((re=we.data)==null?void 0:re.data)||we.data;Array.isArray(be)&&M(be)}catch(pe){console.log("[ControlItemDrawer] Error loading project risks:",pe),M([])}},[l,S]);fe.useEffect(()=>{ce&&(z(),V(),t("details"))},[ce,z,V]),fe.useEffect(()=>{var re,pe,we;if(i){d({status:i.status||"Not started",owner:((re=i.owner)==null?void 0:re.toString())||"",reviewer:((pe=i.reviewer)==null?void 0:pe.toString())||"",approver:((we=i.approver)==null?void 0:we.toString())||"",due_date:i.due_date||"",implementation_details:i.implementation_details||"",auditor_feedback:i.auditor_feedback||""});const be=i.linked_files?i.linked_files.map(me=>({id:me.id,fileName:me.filename,size:me.size,type:me.mimetype,uploadDate:me.upload_date,uploader:me.uploader_name?`${me.uploader_name}${me.uploader_surname?` ${me.uploader_surname}`:""}`.trim():void 0})):i.evidence_links||i.evidence_files||[];$(be),b(i.linked_risks||[]),P([]),H([]),_([]),q([]),Y([]),W(""),r(0)}},[i]);const Z=(re,pe)=>{t(pe)},X=(re,pe)=>{d(we=>({...we,[re]:pe}))},K=re=>pe=>{X(re,pe.target.value)},ie=async()=>{var re;if(!(i!=null&&i.impl_id)){E("Cannot save: Implementation ID not found");return}h(!0),E(null);try{const pe=[],we=(T==null?void 0:T.file_source)||"File Manager";for(const Oe of D)try{const Ae=new FormData;Ae.append("file",Oe),Ae.append("source",we),S&&Ae.append("project_id",S.toString());const Ye=I(),st={};Ye&&(st.Authorization=`Bearer ${Ye}`);const je=await fetch("/api/file-manager",{method:"POST",headers:st,body:Ae});if(je.ok){const tt=await je.json(),Ze=((re=tt.data)==null?void 0:re.id)||tt.id;Ze&&pe.push(Ze)}else console.error("[ControlItemDrawer] File upload failed:",Oe.name)}catch(Ae){console.error("[ControlItemDrawer] Error uploading file:",Ae)}const be=[...pe,...N.map(Oe=>Oe.id)];if(be.length>0)try{await A.post(`/plugins/${n}/level2/${i.impl_id}/files`,{file_ids:be,link_type:"evidence"})}catch(Oe){console.error("[ControlItemDrawer] Error attaching files:",Oe)}for(const Oe of R)try{const Ae=I(),Ye={};Ae&&(Ye.Authorization=`Bearer ${Ae}`),await fetch(`/api/plugins/${n}/level2/${i.impl_id}/files/${Oe}`,{method:"DELETE",headers:Ye})}catch(Ae){console.error("[ControlItemDrawer] Error detaching file:",Ae)}const me={status:s.status,implementation_details:s.implementation_details,auditor_feedback:s.auditor_feedback};s.owner?me.owner=parseInt(s.owner):me.owner=null,s.reviewer?me.reviewer=parseInt(s.reviewer):me.reviewer=null,s.approver?me.approver=parseInt(s.approver):me.approver=null,s.due_date?me.due_date=s.due_date:me.due_date=null,F.length>0&&(me.risks_to_add=F),U.length>0&&(me.risks_to_remove=U),(await A.patch(`/plugins/${n}/level2/${i.impl_id}`,me)).status===200?(m(),_e()):E("Failed to save changes")}catch(pe){E(pe.message||"Failed to save changes")}finally{h(!1)}},ne=re=>{if(re){const pe=Array.from(re);P(we=>[...we,...pe])}},G=re=>{H(pe=>[...pe,re]),$(pe=>pe.filter(we=>we.id!==re))},ee=re=>{P(pe=>pe.filter((we,be)=>be!==re))},J=re=>{_(pe=>pe.filter(we=>we.id!==re))},te=()=>{v(!0)},se=re=>{_(pe=>[...pe,...re])},ae=re=>{var pe;return((pe=Fr[re])==null?void 0:pe.color)||"#94a3b8"},de=async(re,pe)=>{try{const we=I(),be={};we&&(be.Authorization=`Bearer ${we}`);const me=await fetch(`/api/file-manager/${re}`,{headers:be});if(me.ok){const Ee=await me.blob(),Oe=window.URL.createObjectURL(Ee),Ae=document.createElement("a");Ae.href=Oe,Ae.download=pe,document.body.appendChild(Ae),Ae.click(),Ae.remove(),URL.revokeObjectURL(Oe)}else E("Failed to download file")}catch(we){console.error("[ControlItemDrawer] Error downloading file:",we),E("Failed to download file")}},he=()=>{const re=new Set;return p.forEach(pe=>re.add(pe.id)),F.forEach(pe=>re.add(pe)),U.forEach(pe=>re.delete(pe)),re},ve=re=>he().has(re),Se=re=>{const pe=p.some(be=>be.id===re);ve(re)?pe?Y(be=>[...be,re]):q(be=>be.filter(me=>me!==re)):pe?Y(be=>be.filter(me=>me!==re)):q(be=>[...be,re])},Te=re=>{p.some(we=>we.id===re)?Y(we=>[...we,re]):q(we=>we.filter(be=>be!==re))},ke=x.filter(re=>re.risk_name.toLowerCase().includes(B.toLowerCase())),Be=[...p.filter(re=>!U.includes(re.id)),...x.filter(re=>F.includes(re.id)).map(re=>({id:re.id,risk_name:re.risk_name,risk_level:re.risk_level,severity:re.severity}))];return i?w?O.jsx(L.Drawer,{open:ce,onClose:_e,anchor:"right",PaperProps:{sx:{width:600,margin:0,borderRadius:0}},children:O.jsxs(L.Stack,{sx:{width:600,height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[O.jsx(L.CircularProgress,{sx:{color:Ue.primary}}),O.jsx(L.Typography,{sx:{mt:2,color:Qe.secondary},children:"Loading..."})]})}):O.jsxs(L.Drawer,{open:ce,onClose:_e,anchor:"right",sx:{width:600,margin:0,"& .MuiDrawer-paper":{width:600,margin:0,borderRadius:0,overflowX:"hidden",backgroundColor:"#FCFCFD",height:"100vh",display:"flex",flexDirection:"column"}},children:[O.jsxs(L.Box,{sx:{padding:"16px 20px",borderBottom:"1px solid #eaecf0",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[O.jsxs(L.Box,{sx:{flex:1},children:[O.jsxs(L.Typography,{variant:"h6",sx:{fontSize:"16px",fontWeight:600,color:"#1c2130",mb:i.description?1.5:0},children:[i.order_no?`${i.order_no} `:"",i.title]}),i.description&&O.jsxs(L.Stack,{sx:{border:"1px solid #eee",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"8px"},children:O.jsx("strong",{children:"Description:"})}),O.jsx(L.Typography,{fontSize:13,color:"#666",children:i.description})]})]}),O.jsx(L.Button,{onClick:_e,sx:{minWidth:"auto",padding:0,color:"#475467"},children:O.jsx(qt,{size:20})})]}),i.items&&i.items.length>0&&O.jsx(L.Box,{sx:{overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth",borderBottom:"1px solid #eaecf0","&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-track":{backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:"#D0D5DD",borderRadius:"3px","&:hover":{backgroundColor:"#98A2B3"}}},children:O.jsx(L.Box,{sx:{padding:"0 20px",minWidth:"max-content"},children:O.jsx(L.Tabs,{value:a,onChange:(re,pe)=>r(pe),sx:{minHeight:40,"& .MuiTab-root":{minHeight:40,fontSize:13,textTransform:"none",color:Qe.secondary,"&.Mui-selected":{color:Ue.primary}},"& .MuiTabs-indicator":{backgroundColor:Ue.primary}},children:i.items.map((re,pe)=>O.jsx(L.Tab,{value:pe,label:`${(T==null?void 0:T.level_3_name)||"Subcontrol"} ${pe+1}`},re.id))})})}),O.jsx(L.Box,{sx:{flex:1,overflowY:"auto",minHeight:0},children:O.jsxs(L.Stack,{spacing:3,sx:{padding:"20px"},children:[i.items&&i.items.length>0&&i.items[a]&&O.jsxs(L.Box,{children:[O.jsxs(L.Typography,{sx:{fontSize:"16px",fontWeight:600,color:"#1c2130",mb:i.items[a].description?1.5:0},children:[i.order_no,".",i.items[a].order_no," ",i.items[a].title]}),i.items[a].description&&O.jsxs(L.Stack,{sx:{border:"1px solid #eee",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"8px"},children:O.jsx("strong",{children:"Description:"})}),O.jsx(L.Typography,{fontSize:13,color:"#666",children:i.items[a].description})]})]}),O.jsx(L.Box,{sx:{borderBottom:"1px solid #eaecf0",mx:"-20px",px:"20px"},children:O.jsxs(L.Tabs,{value:e,onChange:Z,sx:{minHeight:40,"& .MuiTab-root":{minHeight:40,minWidth:"auto",padding:"8px 16px",fontSize:13,fontWeight:500,textTransform:"none",color:"#475467","&.Mui-selected":{color:"#13715B"}},"& .MuiTabs-indicator":{backgroundColor:"#13715B",height:2},"& .MuiTabs-flexContainer":{gap:"8px"}},children:[O.jsx(L.Tab,{value:"details",label:O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(It,{size:14}),"Details"]})}),O.jsx(L.Tab,{value:"evidence",label:O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(dr,{size:14}),"Evidence"]})}),O.jsx(L.Tab,{value:"cross-mappings",label:O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(Cr,{size:14}),"Cross mappings"]})}),O.jsx(L.Tab,{value:"notes",label:O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(ur,{size:14}),"Notes"]})})]})}),e==="details"&&O.jsxs(L.Stack,{sx:{mx:"-20px",padding:"15px 20px"},gap:"15px",children:[(!i.items||i.items.length===0)&&i.questions&&i.questions.length>0&&O.jsxs(L.Stack,{sx:{border:"1px solid #e8d5d5",padding:"12px",backgroundColor:"#fef5f5",borderRadius:"4px"},children:[O.jsxs(L.Typography,{fontSize:13,sx:{marginBottom:"8px",fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[O.jsx(Qr,{size:14}),"Key Questions:"]}),O.jsx(L.Stack,{spacing:1,children:i.questions.map((re,pe)=>O.jsxs(L.Typography,{fontSize:12,color:"#666",sx:{pl:1,position:"relative"},children:[" ",re]},pe))})]}),i.evidence_examples&&i.evidence_examples.length>0&&O.jsxs(L.Stack,{sx:{border:"1px solid #d5e8d5",padding:"12px",backgroundColor:"#f5fef5",borderRadius:"4px"},children:[O.jsxs(L.Typography,{fontSize:13,sx:{marginBottom:"8px",fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[O.jsx(It,{size:14}),"Evidence Examples:"]}),O.jsx(L.Stack,{spacing:1,children:i.evidence_examples.map((re,pe)=>O.jsxs(L.Typography,{fontSize:12,color:"#666",sx:{pl:1,position:"relative"},children:[" ",re]},pe))})]}),O.jsxs(L.Stack,{children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Implementation Description:"}),O.jsx(L.TextField,{multiline:!0,rows:3,value:s.implementation_details,onChange:re=>X("implementation_details",re.target.value),placeholder:"Describe how this requirement is implemented",size:"small",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{fontSize:13}}})]}),O.jsx(L.Divider,{sx:{my:1}}),O.jsxs(L.FormControl,{fullWidth:!0,size:"small",children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Status:"}),O.jsx(L.Select,{value:s.status,onChange:K("status"),sx:{height:34,fontSize:13},children:mr.map(re=>O.jsx(L.MenuItem,{value:re,children:O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(L.Box,{sx:{width:10,height:10,borderRadius:"50%",bgcolor:ae(re)}}),re]})},re))})]}),O.jsxs(L.FormControl,{fullWidth:!0,size:"small",children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Owner:"}),O.jsxs(L.Select,{value:s.owner,onChange:K("owner"),displayEmpty:!0,sx:{height:34,fontSize:13},children:[O.jsx(L.MenuItem,{value:"",children:O.jsx("em",{style:{color:"#9ca3af"},children:"Select owner"})}),u.map(re=>O.jsxs(L.MenuItem,{value:re.id.toString(),children:[re.name," ",re.surname]},re.id))]})]}),O.jsxs(L.FormControl,{fullWidth:!0,size:"small",children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Reviewer:"}),O.jsxs(L.Select,{value:s.reviewer,onChange:K("reviewer"),displayEmpty:!0,sx:{height:34,fontSize:13},children:[O.jsx(L.MenuItem,{value:"",children:O.jsx("em",{style:{color:"#9ca3af"},children:"Select reviewer"})}),u.map(re=>O.jsxs(L.MenuItem,{value:re.id.toString(),children:[re.name," ",re.surname]},re.id))]})]}),O.jsxs(L.FormControl,{fullWidth:!0,size:"small",children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Approver:"}),O.jsxs(L.Select,{value:s.approver,onChange:K("approver"),displayEmpty:!0,sx:{height:34,fontSize:13},children:[O.jsx(L.MenuItem,{value:"",children:O.jsx("em",{style:{color:"#9ca3af"},children:"Select approver"})}),u.map(re=>O.jsxs(L.MenuItem,{value:re.id.toString(),children:[re.name," ",re.surname]},re.id))]})]}),O.jsxs(L.Stack,{children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Due date:"}),O.jsx(L.TextField,{type:"date",size:"small",fullWidth:!0,value:s.due_date,onChange:re=>X("due_date",re.target.value),InputLabelProps:{shrink:!0},sx:{"& .MuiOutlinedInput-root":{height:34,fontSize:13}}})]}),O.jsxs(L.Stack,{children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Auditor Feedback:"}),O.jsx(L.TextField,{multiline:!0,rows:3,value:s.auditor_feedback,onChange:re=>X("auditor_feedback",re.target.value),placeholder:"Enter any feedback from internal or external audits...",size:"small",fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{fontSize:13}}})]})]}),e==="evidence"&&O.jsx(L.Box,{sx:{padding:"15px 20px"},children:O.jsxs(L.Stack,{spacing:3,children:[O.jsx(L.Typography,{variant:"subtitle2",sx:{fontWeight:600},children:"Evidence files"}),O.jsx(L.Typography,{variant:"body2",color:"#6B7280",children:"Upload evidence files to document compliance with this requirement."}),O.jsxs(L.Box,{children:[O.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx,.txt",style:{display:"none"},id:"evidence-file-input",onChange:re=>{ne(re.target.files),re.target.value=""}}),O.jsxs(L.Stack,{spacing:2,children:[O.jsxs(L.Stack,{direction:"row",spacing:1,children:[O.jsx(L.Button,{variant:"contained",onClick:()=>{var re;return(re=document.getElementById("evidence-file-input"))==null?void 0:re.click()},sx:{borderRadius:2,minWidth:155,height:25,fontSize:11,border:"1px solid #D0D5DD",backgroundColor:"white",color:"#344054","&:hover":{backgroundColor:"#F9FAFB",border:"1px solid #D0D5DD"}},children:"Add evidence files"}),O.jsx(L.Button,{variant:"contained",onClick:te,sx:{borderRadius:2,minWidth:155,height:25,fontSize:11,border:"1px solid #13715B",backgroundColor:"#13715B",color:"white",textTransform:"none","&:hover":{backgroundColor:"#0F5C49",border:"1px solid #0F5C49"}},children:"Attach existing files"})]}),O.jsxs(L.Stack,{direction:"row",spacing:2,children:[O.jsx(L.Typography,{sx:{fontSize:11,color:"#344054"},children:`${j.length||0} files attached`}),D.length>0&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#13715B"},children:`+${D.length} pending upload`}),N.length>0&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#0369A1"},children:`+${N.length} pending attach`}),R.length>0&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#D32F2F"},children:`-${R.length} pending delete`})]})]})]}),j.length>0&&O.jsx(L.Stack,{spacing:1,children:j.map(re=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:"1px solid #EAECF0",borderRadius:"4px",backgroundColor:"#FFFFFF","&:hover":{backgroundColor:"#F9FAFB"}},children:[O.jsxs(L.Box,{sx:{display:"flex",gap:1.5,flex:1,minWidth:0},children:[O.jsx(It,{size:18,color:"#475467"}),O.jsxs(L.Box,{sx:{minWidth:0,flex:1},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#1F2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re.fileName}),re.size&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#6B7280"},children:[((re.size||0)/1024).toFixed(1)," KB"]})]})]}),O.jsxs(L.Box,{sx:{display:"flex",gap:.5},children:[O.jsx(L.Tooltip,{title:"Download file",children:O.jsx(L.IconButton,{size:"small",onClick:()=>de(re.id,re.fileName),sx:{color:"#475467","&:hover":{color:"#13715B",backgroundColor:"rgba(19, 113, 91, 0.08)"}},children:O.jsx(lr,{size:16})})}),O.jsx(L.Tooltip,{title:"Delete file",children:O.jsx(L.IconButton,{size:"small",onClick:()=>G(re.id),sx:{color:"#475467","&:hover":{color:"#D32F2F",backgroundColor:"rgba(211, 47, 47, 0.08)"}},children:O.jsx(Nt,{size:16})})})]})]},re.id))}),D.length>0&&O.jsxs(L.Stack,{spacing:1,children:[O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:600,color:"#92400E"},children:"Pending upload"}),D.map((re,pe)=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:"1px solid #FEF3C7",borderRadius:"4px",backgroundColor:"#FFFBEB"},children:[O.jsxs(L.Box,{sx:{display:"flex",gap:1.5,flex:1,minWidth:0},children:[O.jsx(It,{size:18,color:"#D97706"}),O.jsxs(L.Box,{sx:{minWidth:0,flex:1},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#92400E",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re.name}),O.jsxs(L.Typography,{sx:{fontSize:11,color:"#B45309"},children:[((re.size||0)/1024).toFixed(1)," KB"]})]})]}),O.jsx(L.Tooltip,{title:"Remove from queue",children:O.jsx(L.IconButton,{size:"small",onClick:()=>ee(pe),sx:{color:"#92400E","&:hover":{color:"#D32F2F",backgroundColor:"rgba(211, 47, 47, 0.08)"}},children:O.jsx(Nt,{size:16})})})]},pe))]}),N.length>0&&O.jsxs(L.Stack,{spacing:1,children:[O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:600,color:"#0369A1"},children:"Pending attach from File Manager"}),N.map(re=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:"1px solid #BAE6FD",borderRadius:"4px",backgroundColor:"#F0F9FF"},children:[O.jsxs(L.Box,{sx:{display:"flex",gap:1.5,flex:1,minWidth:0},children:[O.jsx(It,{size:18,color:"#0369A1"}),O.jsxs(L.Box,{sx:{minWidth:0,flex:1},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#0C4A6E",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re.fileName}),re.size&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#0369A1"},children:[((re.size||0)/1024).toFixed(1)," KB"]})]})]}),O.jsx(L.Tooltip,{title:"Remove from queue",children:O.jsx(L.IconButton,{size:"small",onClick:()=>J(re.id),sx:{color:"#0369A1","&:hover":{color:"#D32F2F",backgroundColor:"rgba(211, 47, 47, 0.08)"}},children:O.jsx(Nt,{size:16})})})]},re.id))]}),j.length===0&&D.length===0&&N.length===0&&O.jsxs(L.Box,{sx:{textAlign:"center",py:4,color:"#6B7280",border:"2px dashed #D1D5DB",borderRadius:1,backgroundColor:"#F9FAFB"},children:[O.jsx(L.Typography,{variant:"body2",sx:{mb:1},children:"No evidence files uploaded yet"}),O.jsx(L.Typography,{variant:"caption",color:"#9CA3AF",children:'Click "Add evidence files" to upload or "Attach existing files" to link from File Manager'})]})]})}),e==="cross-mappings"&&O.jsx(L.Box,{sx:{padding:"15px 20px"},children:O.jsxs(L.Stack,{spacing:3,children:[O.jsx(L.Typography,{variant:"subtitle2",sx:{fontWeight:600},children:"Linked risks"}),O.jsx(L.Typography,{variant:"body2",color:"#6B7280",children:"Link risks from your risk database to track which risks are addressed by this requirement."}),O.jsxs(L.Stack,{direction:"row",spacing:2,alignItems:"center",children:[O.jsx(L.Button,{variant:"contained",onClick:()=>y(!0),sx:{borderRadius:2,minWidth:155,height:25,fontSize:11,border:"1px solid #D0D5DD",backgroundColor:"white",color:"#344054","&:hover":{backgroundColor:"#F9FAFB",border:"1px solid #D0D5DD"}},children:"Add/remove risks"}),O.jsxs(L.Stack,{direction:"row",spacing:2,children:[O.jsx(L.Typography,{sx:{fontSize:11,color:"#344054"},children:`${Be.length||0} risks linked`}),F.length>0&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#13715B"},children:`+${F.length} pending save`}),U.length>0&&O.jsx(L.Typography,{sx:{fontSize:11,color:"#D32F2F"},children:`-${U.length} pending delete`})]})]}),Be.length>0&&O.jsx(L.Stack,{spacing:1,children:Be.map(re=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:F.includes(re.id)?"1px solid #FEF3C7":"1px solid #EAECF0",borderRadius:"4px",backgroundColor:F.includes(re.id)?"#FFFBEB":"#FFFFFF","&:hover":{backgroundColor:F.includes(re.id)?"#FEF3C7":"#F9FAFB"}},children:[O.jsxs(L.Box,{sx:{flex:1,minWidth:0},children:[O.jsxs(L.Typography,{sx:{fontSize:13,fontWeight:500,color:F.includes(re.id)?"#92400E":"#1F2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[re.risk_name,F.includes(re.id)&&O.jsx(L.Typography,{component:"span",sx:{fontSize:10,color:"#92400E",ml:1},children:"(pending)"})]}),re.risk_level&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#6B7280"},children:["Risk level: ",re.risk_level]})]}),O.jsx(L.Box,{sx:{display:"flex",gap:.5},children:O.jsx(L.Tooltip,{title:"Unlink risk",children:O.jsx(L.IconButton,{size:"small",onClick:()=>Te(re.id),sx:{color:"#475467","&:hover":{color:"#D32F2F",backgroundColor:"rgba(211, 47, 47, 0.08)"}},children:O.jsx(Nt,{size:16})})})})]},re.id))}),Be.length===0&&O.jsxs(L.Box,{sx:{border:"2px dashed #D0D5DD",borderRadius:"4px",padding:"20px",textAlign:"center",backgroundColor:"#FAFBFC"},children:[O.jsx(Mr,{size:24,color:"#9CA3AF",style:{marginBottom:8}}),O.jsx(L.Typography,{sx:{color:"#6B7280"},children:"No risks linked yet"}),O.jsx(L.Typography,{variant:"caption",color:"#9CA3AF",children:'Click "Add/remove risks" to link risks to this control'})]})]})}),e==="notes"&&O.jsx(L.Box,{sx:{padding:"15px 20px"},children:O.jsxs(L.Stack,{spacing:3,children:[O.jsx(L.Typography,{variant:"subtitle2",sx:{fontWeight:600},children:"Notes"}),O.jsx(L.Typography,{variant:"body2",color:"#6B7280",children:"Add notes and comments related to this control."}),O.jsxs(L.Box,{sx:{border:"2px dashed #D0D5DD",borderRadius:"4px",padding:"20px",textAlign:"center",backgroundColor:"#FAFBFC"},children:[O.jsx(ur,{size:24,color:"#9CA3AF",style:{marginBottom:8}}),O.jsx(L.Typography,{sx:{color:"#6B7280"},children:"No notes yet"}),O.jsx(L.Typography,{variant:"caption",color:"#9CA3AF",children:"Notes functionality will be available soon"})]})]})}),k&&O.jsx(L.Box,{sx:{padding:"0 20px",mb:2},children:O.jsxs(L.Box,{sx:{padding:"10px 12px",backgroundColor:"#FEE2E2",border:"1px solid #FECACA",borderRadius:"4px",display:"flex",alignItems:"center",gap:1},children:[O.jsx(Mr,{size:16,color:"#DC2626"}),O.jsx(L.Typography,{fontSize:13,color:"#DC2626",children:k}),O.jsx(L.IconButton,{size:"small",onClick:()=>E(null),sx:{ml:"auto",color:"#DC2626"},children:O.jsx(qt,{size:14})})]})}),O.jsx(L.Divider,{}),O.jsx(L.Stack,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",padding:"15px 20px"},children:O.jsx(L.Button,{variant:"contained",onClick:ie,disabled:f,startIcon:f?O.jsx(L.CircularProgress,{size:16,color:"inherit"}):O.jsx(Er,{size:16}),sx:{backgroundColor:Ue.primary,border:`1px solid ${Ue.primary}`,gap:1,fontSize:13,height:32,"&:hover":{backgroundColor:Ue.primaryHover}},children:f?"Saving...":"Save"})})]})}),O.jsxs(L.Dialog,{open:g,onClose:()=>y(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:"8px",maxHeight:"80vh"}},children:[O.jsx(L.DialogTitle,{sx:{fontSize:16,fontWeight:600,borderBottom:"1px solid #E5E7EB",pb:2},children:"Link risks from risk database"}),O.jsx(L.DialogContent,{sx:{p:0},children:O.jsxs(L.Box,{sx:{p:2},children:[O.jsx(L.TextField,{placeholder:"Search risks...",value:B,onChange:re=>W(re.target.value),size:"small",fullWidth:!0,sx:{mb:2},InputProps:{startAdornment:O.jsx(L.InputAdornment,{position:"start",children:O.jsx(hr,{size:16,color:"#9CA3AF"})})}}),x.length===0?O.jsxs(L.Box,{sx:{textAlign:"center",py:4,color:"#6B7280"},children:[O.jsx(L.Typography,{children:"No risks available to link"}),O.jsx(L.Typography,{variant:"caption",color:"#9CA3AF",children:"Create risks in the Risk Management section first"})]}):O.jsx(L.TableContainer,{component:L.Paper,elevation:0,sx:{border:"1px solid #E5E7EB",maxHeight:"400px",overflow:"auto"},children:O.jsxs(L.Table,{stickyHeader:!0,size:"small",children:[O.jsx(L.TableHead,{children:O.jsxs(L.TableRow,{children:[O.jsx(L.TableCell,{padding:"checkbox",sx:{backgroundColor:"#F9FAFB"},children:O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:600},children:"Select"})}),O.jsx(L.TableCell,{sx:{backgroundColor:"#F9FAFB"},children:O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:600},children:"Risk Name"})}),O.jsx(L.TableCell,{sx:{backgroundColor:"#F9FAFB"},children:O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:600},children:"Risk Level"})}),O.jsx(L.TableCell,{sx:{backgroundColor:"#F9FAFB"},children:O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:600},children:"Description"})})]})}),O.jsxs(L.TableBody,{children:[ke.map(re=>{const pe=ve(re.id),we=p.some(Ee=>Ee.id===re.id),be=F.includes(re.id),me=U.includes(re.id);return O.jsxs(L.TableRow,{hover:!0,onClick:()=>Se(re.id),sx:{cursor:"pointer",backgroundColor:be?"#ECFDF5":me?"#FEF2F2":"inherit"},children:[O.jsx(L.TableCell,{padding:"checkbox",children:O.jsx(L.Checkbox,{checked:pe,onChange:()=>Se(re.id),size:"small",sx:{color:"#D1D5DB","&.Mui-checked":{color:"#13715B"}}})}),O.jsx(L.TableCell,{children:O.jsxs(L.Typography,{sx:{fontSize:13,color:"#1F2937"},children:[re.risk_name,be&&O.jsx(L.Typography,{component:"span",sx:{fontSize:10,color:"#059669",ml:1},children:"(to be linked)"}),me&&O.jsx(L.Typography,{component:"span",sx:{fontSize:10,color:"#DC2626",ml:1},children:"(to be removed)"}),we&&!me&&O.jsx(L.Typography,{component:"span",sx:{fontSize:10,color:"#6B7280",ml:1},children:"(linked)"})]})}),O.jsx(L.TableCell,{children:O.jsx(L.Typography,{sx:{fontSize:12,color:"#6B7280"},children:re.risk_level||"-"})}),O.jsx(L.TableCell,{children:O.jsx(L.Typography,{sx:{fontSize:12,color:"#6B7280",maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:re.risk_description||"-"})})]},re.id)}),ke.length===0&&O.jsx(L.TableRow,{children:O.jsx(L.TableCell,{colSpan:4,align:"center",sx:{py:4},children:O.jsx(L.Typography,{color:"#9CA3AF",children:"No risks match your search"})})})]})]})})]})}),O.jsxs(L.DialogActions,{sx:{borderTop:"1px solid #E5E7EB",p:2},children:[O.jsx(L.Button,{onClick:()=>y(!1),sx:{color:"#344054",textTransform:"none"},children:"Close"}),O.jsx(L.Button,{variant:"contained",onClick:()=>y(!1),sx:{backgroundColor:"#13715B",textTransform:"none","&:hover":{backgroundColor:"#0e5c47"}},children:"Done"})]})]}),O.jsx(xn,{open:C,onClose:()=>v(!1),onSelect:se,excludeFileIds:[...j.map(re=>re.id),...N.map(re=>re.id)],multiSelect:!0,title:"Attach Existing Files as Evidence"})]}):null},Pr="verifywise_custom_framework_expanded_category",zt={tableHead:{"& th":{backgroundColor:"#FAFAFA",fontWeight:600,fontSize:"13px",color:"#1A1919",borderBottom:"1px solid #E5E7EB",padding:"12px 16px"}},headerCell:{backgroundColor:"#FAFAFA",fontWeight:600,fontSize:"13px",color:"#1A1919"},cell:{fontSize:"13px",color:"#1A1919",padding:"12px 16px",borderBottom:"1px solid #E5E7EB"},descriptionCell:{fontSize:"13px",color:"#1A1919",padding:"12px 16px",borderBottom:"1px solid #E5E7EB",maxWidth:"400px"}},Nr=({frameworkId:ce,projectId:_e,frameworkName:i,apiServices:T,onRefresh:S,pluginKey:m})=>{var y;const[o,l]=fe.useState(null),[n,e]=fe.useState(null),[t,a]=fe.useState(!0),[r,s]=fe.useState(null),[d,u]=fe.useState(0),[c,f]=fe.useState(null),[h,w]=fe.useState(!1),[k,E]=fe.useState(null),j=()=>{try{const x=localStorage.getItem("persist:root");if(x){const M=JSON.parse(x);if(M.auth)return JSON.parse(M.auth).authToken||null}}catch{}return null},$=T||{get:async x=>{const M=j(),F={};M&&(F.Authorization=`Bearer ${M}`);const q=await fetch(`/api${x}`,{headers:F});if(!q.ok){const U=await q.json().catch(()=>({message:q.statusText}));throw new Error(U.message||`Request failed with status ${q.status}`)}return{data:await q.json(),status:q.status}},post:async(x,M)=>{const F=j(),q={"Content-Type":"application/json"};F&&(q.Authorization=`Bearer ${F}`);const U=await fetch(`/api${x}`,{method:"POST",headers:q,body:JSON.stringify(M)});if(!U.ok){const Y=await U.json().catch(()=>({message:U.statusText}));throw new Error(Y.message||`Request failed with status ${U.status}`)}return{data:await U.json(),status:U.status}},patch:async(x,M)=>{const F=j(),q={"Content-Type":"application/json"};F&&(q.Authorization=`Bearer ${F}`);const U=await fetch(`/api${x}`,{method:"PATCH",headers:q,body:JSON.stringify(M)});if(!U.ok){const Y=await U.json().catch(()=>({message:U.statusText}));throw new Error(Y.message||`Request failed with status ${U.status}`)}return{data:await U.json(),status:U.status}}},D=fe.useCallback(async()=>{try{a(!0),s(null);const[x,M]=await Promise.all([$.get(`/plugins/${m}/projects/${_e}/frameworks/${ce}`),$.get(`/plugins/${m}/projects/${_e}/frameworks/${ce}/progress`)]),F=x.data.data||x.data,q=M.data.data||M.data;if(F.message&&!F.structure)throw new Error(F.message);l(F),q&&q.level2&&q.overall?e(q):e(null)}catch(x){s(x.message||"Failed to load framework data")}finally{a(!1)}},[ce,_e,m]);fe.useEffect(()=>{D()},[D]),fe.useEffect(()=>{if(o!=null&&o.structure)try{const x=localStorage.getItem(Pr);if(x){const M=parseInt(x,10),F=o.structure.findIndex(q=>q.id===M);F!==-1&&(u(F),setTimeout(()=>{const q=document.querySelector(`[data-accordion-index="${F}"]`);console.log("[CustomFrameworkViewer] Scrolling to accordion index:",F,"element:",q),q&&q.scrollIntoView({behavior:"smooth",block:"center"})},500)),localStorage.removeItem(Pr)}}catch(x){console.log("[CustomFrameworkViewer] Error reading stored category:",x)}},[o==null?void 0:o.structure]);const P=fe.useCallback(()=>{D(),S==null||S()},[D,S]),R=x=>{E(x),w(!0)},H=()=>{w(!1),E(null)},N=x=>{x&&(f(x),setTimeout(()=>f(null),1500)),D()},_=x=>x<=10||x<=20?"#FF4500":x<=30?"#FFA500":x<=40?"#FFD700":x<=50?"#E9F14F":x<=60?"#CDDD24":x<=70?"#64E730":x<=80?"#32CD32":x<=90?"#228B22":"#008000",C=x=>{if(!x||x.length===0)return{completed:0,total:0,percentage:0};const M=x.filter(q=>q.status==="Implemented").length,F=x.length;return{completed:M,total:F,percentage:Math.round(M/F*100)}},v=x=>x.owner_name||x.owner_surname?`${x.owner_name||""} ${x.owner_surname||""}`.trim():"Not assigned",p=x=>{var M;return((M=x.items)==null?void 0:M.length)||0},b=x=>{if(!x.items||x.items.length===0)return x.status==="Implemented"?100:0;const M=x.items.filter(F=>F.status==="Implemented").length;return Math.round(M/x.items.length*100)};if(t)return O.jsx(L.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:O.jsx(L.CircularProgress,{sx:{color:Ue.primary}})});if(r)return O.jsxs(L.Alert,{severity:"error",sx:{m:2},children:[r,O.jsx(L.Button,{size:"small",onClick:P,sx:{ml:2},children:"Retry"})]});if(!o)return O.jsx(L.Alert,{severity:"info",sx:{m:2},children:"No framework data available"});const g=[{name:`${o.level_2_name} Name`},{name:"Owner"},{name:o.hierarchy_type==="three_level"?`# of ${o.level_3_name}s`:"Status"},{name:"Completion"}];return O.jsxs(L.Box,{children:[O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:3},children:[O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:"16px",fontWeight:600,color:"#1A1919"},children:o.name||i}),o.description&&O.jsx(L.Typography,{sx:{fontSize:"13px",color:"#666666",mt:.5},children:o.description})]}),O.jsx(L.Tooltip,{title:"Refresh",children:O.jsx(L.IconButton,{onClick:P,size:"small",sx:{color:"#666666"},children:O.jsx(Ar,{size:18})})})]}),n&&n.overall&&O.jsxs(L.Box,{sx:{border:"1px solid #EAECF0",borderRadius:"4px",p:2,mb:3,backgroundColor:"#FAFAFA"},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1},children:[O.jsx(L.Typography,{sx:{fontSize:"14px",fontWeight:600,color:"#1A1919"},children:"Compliance Progress"}),O.jsxs(L.Typography,{sx:{fontSize:"24px",fontWeight:600,color:Ue.primary},children:[n.overall.percentage??0,"%"]})]}),O.jsx(L.LinearProgress,{variant:"determinate",value:n.overall.percentage??0,sx:{height:8,borderRadius:4,backgroundColor:"#E5E7EB",mb:1,"& .MuiLinearProgress-bar":{backgroundColor:_(n.overall.percentage??0),borderRadius:4}}}),O.jsxs(L.Typography,{sx:{fontSize:"13px",color:"#666666"},children:[n.overall.completed??0," of ",n.overall.total??0," ",o.level_2_name,"s completed"]})]}),(y=o.structure)==null?void 0:y.map((x,M)=>{var U,Y;const F=C(x.items),q=d===M;return O.jsxs(L.Accordion,{"data-accordion-index":M,expanded:q,onChange:()=>u(q?null:M),sx:{mb:"9px","&:before":{display:"none"},boxShadow:"none",border:"1px solid #EAECF0",borderRadius:"4px !important",overflow:"hidden"},disableGutters:!0,children:[O.jsx(L.AccordionSummary,{sx:{px:2,backgroundColor:"#FAFAFA",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper":{transform:"rotate(-90deg)",transition:"transform 0.3s"},"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(0deg)"},"& .MuiAccordionSummary-content":{ml:1}},expandIcon:O.jsx(Xt,{size:20,style:{color:"#666666"}}),children:O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[O.jsxs(L.Typography,{sx:{fontSize:"13px",fontWeight:500,color:"#1A1919"},children:[x.order_no,". ",x.title]}),O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:2},children:[O.jsx(L.Box,{sx:{width:80},children:O.jsx(L.LinearProgress,{variant:"determinate",value:F.percentage,sx:{height:6,borderRadius:3,backgroundColor:"#E5E7EB","& .MuiLinearProgress-bar":{backgroundColor:_(F.percentage),borderRadius:3}}})}),O.jsxs(L.Typography,{sx:{fontSize:"13px",color:"#666666",minWidth:55},children:[F.completed,"/",F.total]})]})]})}),O.jsx(L.AccordionDetails,{sx:{p:0},children:O.jsx(L.TableContainer,{children:O.jsxs(L.Table,{children:[O.jsx(L.TableHead,{sx:zt.tableHead,children:O.jsx(L.TableRow,{children:g.map((B,W)=>O.jsx(L.TableCell,{sx:zt.headerCell,children:B.name},W))})}),O.jsxs(L.TableBody,{children:[((U=x.items)==null?void 0:U.length)===0&&O.jsx(L.TableRow,{children:O.jsx(L.TableCell,{colSpan:g.length,sx:{...zt.cell,textAlign:"center"},children:O.jsxs(L.Typography,{sx:{color:"#666",fontSize:"13px"},children:["No ",o.level_2_name,"s found"]})})}),(Y=x.items)==null?void 0:Y.sort((B,W)=>(B.order_no??0)-(W.order_no??0)).map(B=>{const W=b(B),I=c===B.id;return O.jsxs(L.TableRow,{onClick:()=>R(B),sx:{cursor:"pointer",backgroundColor:I?"#e3f5e6":"transparent",transition:"background-color 0.3s","&:hover":{backgroundColor:I?"#e3f5e6":"#FBFBFB"}},children:[O.jsx(L.TableCell,{sx:zt.descriptionCell,children:O.jsxs(L.Typography,{component:"span",sx:{fontSize:"13px"},children:[x.order_no,".",B.order_no," ",B.title," ",B.description&&O.jsxs(L.Typography,{component:"span",sx:{color:"grey",fontSize:"13px"},children:["(",B.description.length>60?`${B.description.substring(0,60)}...`:B.description,")"]})]})}),O.jsx(L.TableCell,{sx:zt.cell,children:O.jsx(L.Typography,{sx:{fontSize:"13px"},children:v(B)})}),O.jsx(L.TableCell,{sx:zt.cell,children:O.jsx(L.Typography,{sx:{fontSize:"13px"},children:o.hierarchy_type==="three_level"?`${p(B)} ${o.level_3_name}s`:B.status||"Not started"})}),O.jsx(L.TableCell,{sx:zt.cell,children:O.jsxs(L.Stack,{direction:"row",alignItems:"center",spacing:1,children:[O.jsx(L.Box,{sx:{width:"100%",minWidth:60},children:O.jsx(L.LinearProgress,{variant:"determinate",value:W,sx:{height:8,borderRadius:4,backgroundColor:"#E5E7EB","& .MuiLinearProgress-bar":{backgroundColor:_(W)}}})}),O.jsxs(L.Typography,{sx:{fontSize:"13px",minWidth:35},children:[W,"%"]})]})})]},B.id)})]})]})})})]},x.id)}),O.jsx(jr,{open:h,onClose:H,item:k,frameworkData:o?{level_1_name:o.level_1_name,level_2_name:o.level_2_name,level_3_name:o.level_3_name,file_source:o.file_source}:null,projectId:_e,onSave:()=>N(k==null?void 0:k.id),apiServices:$,isOrganizational:(o==null?void 0:o.is_organizational)||!1,pluginKey:m})]})};var zr={exports:{}};(function(ce,_e){(function(i,T){ce.exports=T()})(et,function(){var i=1e3,T=6e4,S=36e5,m="millisecond",o="second",l="minute",n="hour",e="day",t="week",a="month",r="quarter",s="year",d="date",u="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var v=["th","st","nd","rd"],p=C%100;return"["+C+(v[(p-20)%10]||v[p]||v[0])+"]"}},w=function(C,v,p){var b=String(C);return!b||b.length>=v?C:""+Array(v+1-b.length).join(p)+C},k={s:w,z:function(C){var v=-C.utcOffset(),p=Math.abs(v),b=Math.floor(p/60),g=p%60;return(v<=0?"+":"-")+w(b,2,"0")+":"+w(g,2,"0")},m:function C(v,p){if(v.date()<p.date())return-C(p,v);var b=12*(p.year()-v.year())+(p.month()-v.month()),g=v.clone().add(b,a),y=p-g<0,x=v.clone().add(b+(y?-1:1),a);return+(-(b+(p-g)/(y?g-x:x-g))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:a,y:s,w:t,d:e,D:d,h:n,m:l,s:o,ms:m,Q:r}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},E="en",j={};j[E]=h;var $="$isDayjsObject",D=function(C){return C instanceof N||!(!C||!C[$])},P=function C(v,p,b){var g;if(!v)return E;if(typeof v=="string"){var y=v.toLowerCase();j[y]&&(g=y),p&&(j[y]=p,g=y);var x=v.split("-");if(!g&&x.length>1)return C(x[0])}else{var M=v.name;j[M]=v,g=M}return!b&&g&&(E=g),g||!b&&E},R=function(C,v){if(D(C))return C.clone();var p=typeof v=="object"?v:{};return p.date=C,p.args=arguments,new N(p)},H=k;H.l=P,H.i=D,H.w=function(C,v){return R(C,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var N=function(){function C(p){this.$L=P(p.locale,null,!0),this.parse(p),this.$x=this.$x||p.x||{},this[$]=!0}var v=C.prototype;return v.parse=function(p){this.$d=function(b){var g=b.date,y=b.utc;if(g===null)return new Date(NaN);if(H.u(g))return new Date;if(g instanceof Date)return new Date(g);if(typeof g=="string"&&!/Z$/i.test(g)){var x=g.match(c);if(x){var M=x[2]-1||0,F=(x[7]||"0").substring(0,3);return y?new Date(Date.UTC(x[1],M,x[3]||1,x[4]||0,x[5]||0,x[6]||0,F)):new Date(x[1],M,x[3]||1,x[4]||0,x[5]||0,x[6]||0,F)}}return new Date(g)}(p),this.init()},v.init=function(){var p=this.$d;this.$y=p.getFullYear(),this.$M=p.getMonth(),this.$D=p.getDate(),this.$W=p.getDay(),this.$H=p.getHours(),this.$m=p.getMinutes(),this.$s=p.getSeconds(),this.$ms=p.getMilliseconds()},v.$utils=function(){return H},v.isValid=function(){return this.$d.toString()!==u},v.isSame=function(p,b){var g=R(p);return this.startOf(b)<=g&&g<=this.endOf(b)},v.isAfter=function(p,b){return R(p)<this.startOf(b)},v.isBefore=function(p,b){return this.endOf(b)<R(p)},v.$g=function(p,b,g){return H.u(p)?this[b]:this.set(g,p)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(p,b){var g=this,y=!!H.u(b)||b,x=H.p(p),M=function(A,z){var V=H.w(g.$u?Date.UTC(g.$y,z,A):new Date(g.$y,z,A),g);return y?V:V.endOf(e)},F=function(A,z){return H.w(g.toDate()[A].apply(g.toDate("s"),(y?[0,0,0,0]:[23,59,59,999]).slice(z)),g)},q=this.$W,U=this.$M,Y=this.$D,B="set"+(this.$u?"UTC":"");switch(x){case s:return y?M(1,0):M(31,11);case a:return y?M(1,U):M(0,U+1);case t:var W=this.$locale().weekStart||0,I=(q<W?q+7:q)-W;return M(y?Y-I:Y+(6-I),U);case e:case d:return F(B+"Hours",0);case n:return F(B+"Minutes",1);case l:return F(B+"Seconds",2);case o:return F(B+"Milliseconds",3);default:return this.clone()}},v.endOf=function(p){return this.startOf(p,!1)},v.$set=function(p,b){var g,y=H.p(p),x="set"+(this.$u?"UTC":""),M=(g={},g[e]=x+"Date",g[d]=x+"Date",g[a]=x+"Month",g[s]=x+"FullYear",g[n]=x+"Hours",g[l]=x+"Minutes",g[o]=x+"Seconds",g[m]=x+"Milliseconds",g)[y],F=y===e?this.$D+(b-this.$W):b;if(y===a||y===s){var q=this.clone().set(d,1);q.$d[M](F),q.init(),this.$d=q.set(d,Math.min(this.$D,q.daysInMonth())).$d}else M&&this.$d[M](F);return this.init(),this},v.set=function(p,b){return this.clone().$set(p,b)},v.get=function(p){return this[H.p(p)]()},v.add=function(p,b){var g,y=this;p=Number(p);var x=H.p(b),M=function(U){var Y=R(y);return H.w(Y.date(Y.date()+Math.round(U*p)),y)};if(x===a)return this.set(a,this.$M+p);if(x===s)return this.set(s,this.$y+p);if(x===e)return M(1);if(x===t)return M(7);var F=(g={},g[l]=T,g[n]=S,g[o]=i,g)[x]||1,q=this.$d.getTime()+p*F;return H.w(q,this)},v.subtract=function(p,b){return this.add(-1*p,b)},v.format=function(p){var b=this,g=this.$locale();if(!this.isValid())return g.invalidDate||u;var y=p||"YYYY-MM-DDTHH:mm:ssZ",x=H.z(this),M=this.$H,F=this.$m,q=this.$M,U=g.weekdays,Y=g.months,B=g.meridiem,W=function(z,V,Z,X){return z&&(z[V]||z(b,y))||Z[V].slice(0,X)},I=function(z){return H.s(M%12||12,z,"0")},A=B||function(z,V,Z){var X=z<12?"AM":"PM";return Z?X.toLowerCase():X};return y.replace(f,function(z,V){return V||function(Z){switch(Z){case"YY":return String(b.$y).slice(-2);case"YYYY":return H.s(b.$y,4,"0");case"M":return q+1;case"MM":return H.s(q+1,2,"0");case"MMM":return W(g.monthsShort,q,Y,3);case"MMMM":return W(Y,q);case"D":return b.$D;case"DD":return H.s(b.$D,2,"0");case"d":return String(b.$W);case"dd":return W(g.weekdaysMin,b.$W,U,2);case"ddd":return W(g.weekdaysShort,b.$W,U,3);case"dddd":return U[b.$W];case"H":return String(M);case"HH":return H.s(M,2,"0");case"h":return I(1);case"hh":return I(2);case"a":return A(M,F,!0);case"A":return A(M,F,!1);case"m":return String(F);case"mm":return H.s(F,2,"0");case"s":return String(b.$s);case"ss":return H.s(b.$s,2,"0");case"SSS":return H.s(b.$ms,3,"0");case"Z":return x}return null}(z)||x.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(p,b,g){var y,x=this,M=H.p(b),F=R(p),q=(F.utcOffset()-this.utcOffset())*T,U=this-F,Y=function(){return H.m(x,F)};switch(M){case s:y=Y()/12;break;case a:y=Y();break;case r:y=Y()/3;break;case t:y=(U-q)/6048e5;break;case e:y=(U-q)/864e5;break;case n:y=U/S;break;case l:y=U/T;break;case o:y=U/i;break;default:y=U}return g?y:H.a(y)},v.daysInMonth=function(){return this.endOf(a).$D},v.$locale=function(){return j[this.$L]},v.locale=function(p,b){if(!p)return this.$L;var g=this.clone(),y=P(p,b,!0);return y&&(g.$L=y),g},v.clone=function(){return H.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},C}(),_=N.prototype;return R.prototype=_,[["$ms",m],["$s",o],["$m",l],["$H",n],["$W",e],["$M",a],["$y",s],["$D",d]].forEach(function(C){_[C[1]]=function(v){return this.$g(v,C[0],C[1])}}),R.extend=function(C,v){return C.$i||(C(v,N,R),C.$i=!0),R},R.locale=P,R.isDayjs=D,R.unix=function(C){return R(1e3*C)},R.en=j[E],R.Ls=j,R.p={},R})})(zr);var _n=zr.exports;const Lr=fn(_n),Rr=({type:ce="text",value:_e,onChange:i,placeholder:T,disabled:S})=>O.jsx("textarea",{value:_e,onChange:i,placeholder:T,disabled:S,rows:ce==="description"?4:1,style:{width:"100%",padding:"10px 14px",fontSize:"13px",fontFamily:"inherit",border:`1px solid ${vt.default}`,borderRadius:"4px",resize:ce==="description"?"vertical":"none",minHeight:ce==="description"?"90px":"34px",backgroundColor:S?"#f9fafb":"white",color:S?Qe.muted:Qe.primary}}),er=({id:ce,label:_e,value:i,onChange:T,items:S,placeholder:m,disabled:o,sx:l})=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:2,...l},children:[O.jsx(L.Typography,{sx:{fontSize:"13px",color:Qe.secondary,minWidth:"80px"},children:_e}),O.jsxs("select",{id:ce,value:i||"",onChange:n=>T({target:{value:n.target.value}}),disabled:o,style:{flex:1,height:"34px",padding:"0 14px",fontSize:"13px",fontFamily:"inherit",border:`1px solid ${vt.default}`,borderRadius:"4px",backgroundColor:o?"#f9fafb":"white",color:i?Qe.primary:Qe.muted,cursor:o?"not-allowed":"pointer"},children:[O.jsx("option",{value:"",children:m||"Select..."}),S.map(n=>O.jsxs("option",{value:n._id,children:[n.name," ",n.surname||""]},n._id))]})]}),kn=({label:ce,date:_e,handleDateChange:i,disabled:T,sx:S})=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:2,...S},children:[O.jsx(L.Typography,{sx:{fontSize:"13px",color:Qe.secondary,minWidth:"80px"},children:ce}),O.jsx("input",{type:"date",value:_e?_e.format("YYYY-MM-DD"):"",onChange:m=>i(m.target.value?Lr(m.target.value):null),disabled:T,style:{flex:1,height:"34px",padding:"0 14px",fontSize:"13px",fontFamily:"inherit",border:`1px solid ${vt.default}`,borderRadius:"4px",backgroundColor:T?"#f9fafb":"white",color:Qe.primary,cursor:T?"not-allowed":"pointer"}})]}),Sn=({tabs:ce,activeTab:_e,onChange:i})=>O.jsx(L.Box,{sx:{display:"flex",gap:"4px",borderBottom:`1px solid ${vt.light}`,mb:2},children:ce.map(T=>{const S=_e===T.value;return O.jsxs(L.Box,{onClick:m=>i(m,T.value),sx:{display:"flex",alignItems:"center",gap:1,px:2,py:1.5,fontSize:"13px",fontWeight:S?600:400,color:S?Ue.primary:Qe.secondary,borderBottom:S?`2px solid ${Ue.primary}`:"2px solid transparent",cursor:"pointer",transition:"all 0.2s ease","&:hover":{color:Ue.primary,backgroundColor:Ct.hover}},children:[T.icon==="FileText"&&O.jsx(It,{size:16}),T.icon==="FolderOpen"&&O.jsx(dr,{size:16}),T.icon==="Link"&&O.jsx(Cr,{size:16}),T.icon==="MessageSquare"&&O.jsx(ur,{size:16}),T.label]},T.value)})}),Cn=({variant:ce,body:_e,isToast:i,onClick:T})=>{const m={success:{bg:"#ECFDF5",border:"#10B981",color:"#065F46"},error:{bg:"#FEF2F2",border:"#EF4444",color:"#991B1B"},info:{bg:"#EFF6FF",border:"#3B82F6",color:"#1E40AF"},warning:{bg:"#FFFBEB",border:"#F59E0B",color:"#92400E"}}[ce];return O.jsx(L.Box,{onClick:T,sx:{position:i?"fixed":"relative",top:i?20:"auto",right:i?20:"auto",zIndex:i?9999:"auto",backgroundColor:m.bg,border:`1px solid ${m.border}`,borderRadius:"4px",padding:"12px 16px",fontSize:"13px",color:m.color,cursor:T?"pointer":"default",boxShadow:i?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none"},children:_e})},Tn=({open:ce,onClose:_e,item:i,level:T,frameworkMeta:S,users:m=[],apiServices:o,onSave:l,pluginKey:n,projectId:e})=>{const[t,a]=fe.useState("details"),[r,s]=fe.useState({status:"Not started",owner:"",reviewer:"",approver:"",due_date:null,implementation_details:"",auditor_feedback:"",evidence_description:"",feedback_description:""}),[d,u]=fe.useState(!1),[c,f]=fe.useState(null),[h,w]=fe.useState([]),[k,E]=fe.useState([]),[j,$]=fe.useState([]),[D,P]=fe.useState([]),[R,H]=fe.useState([]),[N,_]=fe.useState([]),C=fe.useRef(null),v=fe.useRef(null),p=()=>{try{const z=localStorage.getItem("persist:root");if(z){const V=JSON.parse(z);if(V.auth)return JSON.parse(V.auth).authToken||null}}catch{}return null},b=fe.useMemo(()=>o||{get:async z=>{const V=p(),Z={};V&&(Z.Authorization=`Bearer ${V}`);const X=await fetch(`/api${z}`,{headers:Z});return{data:await X.json(),status:X.status}},patch:async(z,V)=>{const Z=p(),X={"Content-Type":"application/json"};Z&&(X.Authorization=`Bearer ${Z}`);const K=await fetch(`/api${z}`,{method:"PATCH",headers:X,body:JSON.stringify(V)});return{data:await K.json(),status:K.status}},post:async(z,V)=>{const Z=p(),X={"Content-Type":"application/json"};Z&&(X.Authorization=`Bearer ${Z}`);const K=await fetch(`/api${z}`,{method:"POST",headers:X,body:JSON.stringify(V)});return{data:await K.json(),status:K.status}},delete:async z=>{const V=p(),Z={};V&&(Z.Authorization=`Bearer ${V}`);const X=await fetch(`/api${z}`,{method:"DELETE",headers:Z});return{data:await X.json(),status:X.status}}},[o]);fe.useEffect(()=>{var z,V,Z;i&&(s({status:i.status||"Not started",owner:((z=i.owner)==null?void 0:z.toString())||"",reviewer:((V=i.reviewer)==null?void 0:V.toString())||"",approver:((Z=i.approver)==null?void 0:Z.toString())||"",due_date:i.due_date?Lr(i.due_date):null,implementation_details:i.implementation_details||"",auditor_feedback:i.auditor_feedback||"",evidence_description:i.evidence_description||"",feedback_description:i.feedback_description||""}),i.evidence_links&&Array.isArray(i.evidence_links)?w(i.evidence_links.map(X=>{var K,ie;return{id:((K=X.id)==null?void 0:K.toString())||((ie=X.file_id)==null?void 0:ie.toString())||"",fileName:X.fileName||X.filename||X.file_name||"",size:X.size||0,type:X.type||X.mimetype||"",uploadDate:X.uploadDate||X.upload_date||new Date().toISOString(),uploader:X.uploader||"Unknown",source:X.source||"File Manager"}})):w([]),E([]),$([]),H([]),_([]),P([]),f(null),a("details"))},[i]);const g=z=>{f(z),setTimeout(()=>f(null),3e3)},y=(z,V)=>{s(Z=>({...Z,[z]:V}))},x=(z,V)=>{a(V)},M=z=>{const V=Array.from(z.target.files||[]),Z=V.map(X=>({id:(Date.now()+Math.random()).toString(),fileName:X.name,size:X.size,type:X.type,data:X,uploadDate:new Date().toISOString(),uploader:"Current User"}));E(X=>[...X,...Z]),g({variant:"info",body:`${V.length} file(s) added. Save to apply changes.`}),z.target.value=""},F=z=>{const V=Array.from(z.target.files||[]),Z=V.map(X=>({id:(Date.now()+Math.random()).toString(),fileName:X.name,size:X.size,type:X.type,data:X,uploadDate:new Date().toISOString(),uploader:"Current User"}));H(X=>[...X,...Z]),g({variant:"info",body:`${V.length} file(s) added. Save to apply changes.`}),z.target.value=""},q=z=>{const V=parseInt(z);isNaN(V)?(E(Z=>Z.filter(X=>X.id!==z)),g({variant:"info",body:"File removed from upload queue."})):(w(Z=>Z.filter(X=>X.id!==z)),$(Z=>[...Z,V]),g({variant:"info",body:"File marked for deletion. Save to apply changes."}))},U=z=>{const V=parseInt(z);isNaN(V)?(H(Z=>Z.filter(X=>X.id!==z)),g({variant:"info",body:"File removed from upload queue."})):(P(Z=>Z.filter(X=>X.id!==z)),_(Z=>[...Z,V]),g({variant:"info",body:"File marked for deletion. Save to apply changes."}))},Y=async(z,V)=>{try{const Z=p(),X={};Z&&(X.Authorization=`Bearer ${Z}`);const K=await fetch(`/api/file/${z}`,{headers:X});if(!K.ok)throw new Error("Failed to download file");const ie=await K.blob(),ne=window.URL.createObjectURL(ie),G=document.createElement("a");G.href=ne,G.download=V,document.body.appendChild(G),G.click(),document.body.removeChild(G),window.URL.revokeObjectURL(ne),g({variant:"success",body:"File downloaded successfully"})}catch(Z){console.error("Error downloading file:",Z),g({variant:"error",body:"Failed to download file. Please try again."})}},B=async()=>{var z,V,Z;if(!(i!=null&&i.impl_id)){g({variant:"error",body:"Cannot save: No implementation record found"});return}try{u(!0);const X=T===2?`/plugins/${n}/level2/${i.impl_id}`:`/plugins/${n}/level3/${i.impl_id}`,K={status:r.status,owner:r.owner||null,reviewer:r.reviewer||null,approver:r.approver||null,due_date:r.due_date?r.due_date.format("YYYY-MM-DD"):null,implementation_details:r.implementation_details||"",auditor_feedback:r.auditor_feedback||"",evidence_description:r.evidence_description||"",feedback_description:r.feedback_description||""};if((await b.patch(X,K)).status===200){if(k.length>0){for(const ne of k)if(ne.data instanceof Blob){const G=new FormData;G.append("file",ne.data,ne.fileName),G.append("project_id",(e==null?void 0:e.toString())||"");try{const ee=p(),J={};ee&&(J.Authorization=`Bearer ${ee}`);const te=await fetch("/api/file/upload",{method:"POST",headers:J,body:G});if(te.ok){const se=await te.json(),ae=((z=se.data)==null?void 0:z.id)||se.id;ae&&await((V=b.post)==null?void 0:V.call(b,`/plugins/${n}/level2/${i.impl_id}/files`,{file_ids:[ae]}))}}catch(ee){console.error("Failed to upload file:",ee)}}}if(j.length>0)for(const ne of j)try{await((Z=b.delete)==null?void 0:Z.call(b,`/plugins/${n}/level2/${i.impl_id}/files/${ne}`))}catch(G){console.error("Failed to delete file:",G)}g({variant:"success",body:"Changes saved successfully"}),l==null||l()}else g({variant:"error",body:"Failed to save changes"})}catch(X){console.error("Save error:",X),g({variant:"error",body:X.message||"Failed to save changes"})}finally{u(!1)}},W={minWidth:200,maxWidth:"100%",flexGrow:1,height:34},I=[{label:"Details",value:"details",icon:"FileText"},{label:"Evidence",value:"evidence",icon:"FolderOpen"},{label:"Cross mappings",value:"cross-mappings",icon:"Link"},{label:"Notes",value:"notes",icon:"MessageSquare"}];if(!i)return null;const A=T===2?S.level_2_name:S.level_3_name;return O.jsxs(O.Fragment,{children:[c&&O.jsx(Cn,{variant:c.variant,body:c.body,isToast:!0,onClick:()=>f(null)}),O.jsxs(L.Drawer,{anchor:"right",open:ce,onClose:_e,sx:{width:600,margin:0,"& .MuiDrawer-paper":{width:600,margin:0,borderRadius:0,overflowX:"hidden",backgroundColor:"#FCFCFD",height:"100vh",display:"flex",flexDirection:"column"}},children:[O.jsxs(L.Box,{sx:{padding:"16px 20px",borderBottom:`1px solid ${vt.light}`,display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[O.jsxs(L.Box,{sx:{flex:1},children:[O.jsxs(L.Typography,{sx:{fontSize:"12px",color:Qe.muted,mb:.5},children:[A," Details"]}),O.jsx(L.Typography,{sx:{fontSize:"16px",fontWeight:600,color:"#1c2130",mb:i.description?1.5:0},children:i.title}),i.description&&O.jsxs(L.Stack,{sx:{border:"1px solid #eee",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"8px"},children:O.jsx("strong",{children:"Description:"})}),O.jsx(L.Typography,{fontSize:13,color:"#666",children:i.description})]})]}),O.jsx(L.Button,{onClick:_e,sx:{minWidth:"auto",padding:0,color:"#475467"},children:O.jsx(qt,{size:20})})]}),O.jsx(L.Box,{sx:{flex:1,overflowY:"auto",padding:"20px",minHeight:0},children:O.jsxs(L.Stack,{spacing:3,children:[O.jsx(Sn,{tabs:I,activeTab:t,onChange:x}),t==="details"&&O.jsxs(L.Stack,{gap:"15px",children:[i.summary&&O.jsxs(L.Stack,{sx:{border:"1px solid #d5e8d5",padding:"12px",backgroundColor:"#f5fef5",borderRadius:"4px"},children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"8px",fontWeight:600},children:"Implementation Guidance:"}),O.jsx(L.Typography,{fontSize:13,color:"#666",children:i.summary})]}),i.questions&&i.questions.length>0&&O.jsxs(L.Stack,{sx:{border:"1px solid #e8d5d5",padding:"12px",backgroundColor:"#fef5f5",borderRadius:"4px"},children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"8px",fontWeight:600},children:"Key Questions:"}),O.jsx(L.Stack,{spacing:.5,children:i.questions.map((z,V)=>O.jsxs(L.Typography,{fontSize:12,color:"#666",sx:{pl:1},children:[" ",z]},V))})]}),i.evidence_examples&&i.evidence_examples.length>0&&O.jsxs(L.Stack,{sx:{border:"1px solid #d5e0e8",padding:"12px",backgroundColor:"#f5f8fe",borderRadius:"4px"},children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"8px",fontWeight:600},children:"Evidence Examples:"}),O.jsx(L.Stack,{spacing:.5,children:i.evidence_examples.map((z,V)=>O.jsxs(L.Typography,{fontSize:12,color:"#666",sx:{pl:1},children:[" ",z]},V))})]}),O.jsxs(L.Stack,{children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Implementation description:"}),O.jsx(Rr,{type:"description",value:r.implementation_details,onChange:z=>y("implementation_details",z.target.value),placeholder:"Describe how this requirement is implemented..."})]}),O.jsx(L.Divider,{sx:{my:2}}),O.jsxs(L.Stack,{gap:"24px",children:[O.jsx(er,{id:"status",label:"Status:",value:r.status,onChange:z=>y("status",String(z.target.value)),items:mr.map(z=>({_id:z,name:z})),sx:W,placeholder:"Select status"}),O.jsx(er,{id:"owner",label:"Owner:",value:r.owner,onChange:z=>y("owner",String(z.target.value)),items:m.map(z=>({_id:z.id.toString(),name:z.name,surname:z.surname})),sx:W,placeholder:"Select owner"}),O.jsx(er,{id:"reviewer",label:"Reviewer:",value:r.reviewer,onChange:z=>y("reviewer",String(z.target.value)),items:m.map(z=>({_id:z.id.toString(),name:z.name,surname:z.surname})),sx:W,placeholder:"Select reviewer"}),O.jsx(er,{id:"approver",label:"Approver:",value:r.approver,onChange:z=>y("approver",String(z.target.value)),items:m.map(z=>({_id:z.id.toString(),name:z.name,surname:z.surname})),sx:W,placeholder:"Select approver"}),O.jsx(kn,{label:"Due date:",date:r.due_date,handleDateChange:z=>y("due_date",z),sx:W})]}),O.jsx(L.Divider,{sx:{my:2}}),O.jsxs(L.Stack,{children:[O.jsx(L.Typography,{fontSize:13,sx:{marginBottom:"5px"},children:"Auditor feedback:"}),O.jsx(Rr,{type:"description",value:r.auditor_feedback,onChange:z=>y("auditor_feedback",z.target.value),placeholder:"Notes from auditor review..."})]})]}),t==="evidence"&&O.jsxs(L.Stack,{spacing:3,children:[O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:"14px",fontWeight:600,color:"#1F2937",mb:1},children:"Evidence files"}),O.jsx(L.Typography,{sx:{fontSize:"13px",color:"#6B7280",mb:2},children:"Upload evidence files to document compliance with this requirement."}),O.jsx(L.Stack,{direction:"row",spacing:1,children:O.jsx(L.Button,{variant:"contained",onClick:()=>{var z;return(z=C.current)==null?void 0:z.click()},sx:{borderRadius:2,width:155,height:25,fontSize:11,border:"1px solid #D0D5DD",backgroundColor:"white",color:"#344054",textTransform:"none","&:hover":{backgroundColor:"#F9FAFB",border:"1px solid #D0D5DD"}},children:"Add evidence files"})}),O.jsx("input",{ref:C,type:"file",multiple:!0,hidden:!0,onChange:M}),(h.length>0||k.length>0||j.length>0)&&O.jsxs(L.Stack,{direction:"row",spacing:2,sx:{mt:1.5},children:[h.length>0&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#6B7280"},children:[h.length," files attached"]}),k.length>0&&O.jsxs(L.Typography,{sx:{fontSize:11,color:Ue.primary},children:["+",k.length," pending upload"]}),j.length>0&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#DC2626"},children:["-",j.length," pending delete"]})]}),h.length>0&&O.jsx(L.Stack,{spacing:1,sx:{mt:2},children:h.map(z=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:`1px solid ${vt.light}`,borderRadius:"4px",backgroundColor:"white","&:hover":{backgroundColor:Ct.hover}},children:[O.jsxs(L.Box,{sx:{display:"flex",gap:1.5,flex:1,minWidth:0},children:[O.jsx(It,{size:18,color:Qe.muted}),O.jsxs(L.Box,{sx:{minWidth:0,flex:1},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#1F2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:z.fileName}),O.jsxs(L.Typography,{sx:{fontSize:11,color:"#6B7280"},children:[z.size?`${(z.size/1024).toFixed(1)} KB`:"",z.source?`  ${z.source}`:""]})]})]}),O.jsxs(L.Box,{sx:{display:"flex",gap:.5},children:[O.jsx(L.Tooltip,{title:"Download file",children:O.jsx(L.IconButton,{size:"small",onClick:()=>Y(z.id,z.fileName),sx:{color:Qe.muted,"&:hover":{color:Ue.primary,backgroundColor:"rgba(19, 113, 91, 0.08)"}},children:O.jsx(lr,{size:16})})}),O.jsx(L.Tooltip,{title:"Delete file",children:O.jsx(L.IconButton,{size:"small",onClick:()=>q(z.id),sx:{color:Qe.muted,"&:hover":{color:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.08)"}},children:O.jsx(Nt,{size:16})})})]})]},z.id))}),k.length>0&&O.jsxs(L.Stack,{spacing:1,sx:{mt:2},children:[O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:600,color:"#92400E"},children:"Pending upload"}),k.map(z=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:"1px solid #FEF3C7",borderRadius:"4px",backgroundColor:"#FFFBEB"},children:[O.jsxs(L.Box,{sx:{display:"flex",gap:1.5,flex:1,minWidth:0},children:[O.jsx(It,{size:18,color:"#92400E"}),O.jsxs(L.Box,{sx:{minWidth:0,flex:1},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#92400E",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:z.fileName}),z.size&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#B45309"},children:[(z.size/1024).toFixed(1)," KB"]})]})]}),O.jsx(L.Tooltip,{title:"Remove from queue",children:O.jsx(L.IconButton,{size:"small",onClick:()=>q(z.id),sx:{color:"#92400E","&:hover":{color:"#DC2626",backgroundColor:"rgba(220, 38, 38, 0.08)"}},children:O.jsx(Nt,{size:16})})})]},z.id))]}),h.length===0&&k.length===0&&O.jsxs(L.Box,{sx:{textAlign:"center",py:4,color:Qe.muted,border:`2px dashed ${vt.default}`,borderRadius:1,backgroundColor:Ct.hover,mt:2},children:[O.jsx(L.Typography,{variant:"body2",sx:{mb:1},children:"No evidence files uploaded yet"}),O.jsx(L.Typography,{variant:"caption",color:"#9CA3AF",children:'Click "Add evidence files" to upload documentation'})]})]}),O.jsx(L.Divider,{}),O.jsxs(L.Box,{children:[O.jsx(L.Typography,{sx:{fontSize:"14px",fontWeight:600,color:"#1F2937",mb:1},children:"Auditor feedback files"}),O.jsx(L.Typography,{sx:{fontSize:"13px",color:"#6B7280",mb:2},children:"Upload auditor feedback and review documentation."}),O.jsx(L.Stack,{direction:"row",spacing:1,children:O.jsx(L.Button,{variant:"contained",onClick:()=>{var z;return(z=v.current)==null?void 0:z.click()},sx:{borderRadius:2,width:155,height:25,fontSize:11,border:"1px solid #D0D5DD",backgroundColor:"white",color:"#344054",textTransform:"none","&:hover":{backgroundColor:"#F9FAFB",border:"1px solid #D0D5DD"}},children:"Add feedback files"})}),O.jsx("input",{ref:v,type:"file",multiple:!0,hidden:!0,onChange:F}),(D.length>0||R.length>0||N.length>0)&&O.jsxs(L.Stack,{direction:"row",spacing:2,sx:{mt:1.5},children:[D.length>0&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#6B7280"},children:[D.length," files attached"]}),R.length>0&&O.jsxs(L.Typography,{sx:{fontSize:11,color:Ue.primary},children:["+",R.length," pending upload"]}),N.length>0&&O.jsxs(L.Typography,{sx:{fontSize:11,color:"#DC2626"},children:["-",N.length," pending delete"]})]}),R.length>0&&O.jsxs(L.Stack,{spacing:1,sx:{mt:2},children:[O.jsx(L.Typography,{sx:{fontSize:12,fontWeight:600,color:"#92400E"},children:"Pending upload"}),R.map(z=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:"1px solid #FEF3C7",borderRadius:"4px",backgroundColor:"#FFFBEB"},children:[O.jsxs(L.Box,{sx:{display:"flex",gap:1.5,flex:1,minWidth:0},children:[O.jsx(It,{size:18,color:"#92400E"}),O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#92400E",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:z.fileName})]}),O.jsx(L.IconButton,{size:"small",onClick:()=>U(z.id),sx:{color:"#92400E"},children:O.jsx(Nt,{size:16})})]},z.id))]})]})]}),t==="cross-mappings"&&O.jsxs(L.Stack,{spacing:3,children:[O.jsx(L.Typography,{sx:{fontSize:"14px",fontWeight:600,color:"#1F2937",mb:1},children:"Linked risks"}),O.jsx(L.Typography,{variant:"body2",color:"text.secondary",children:"Link risks from your risk database to track which risks are being addressed by this implementation."}),i.linked_risks&&i.linked_risks.length>0?O.jsx(L.Stack,{spacing:1,children:i.linked_risks.map(z=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",border:`1px solid ${vt.light}`,borderRadius:"4px",backgroundColor:"white","&:hover":{backgroundColor:Ct.hover}},children:[O.jsxs(L.Box,{sx:{flex:1,minWidth:0},children:[O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#1F2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:z.risk_name}),z.risk_level&&O.jsxs(L.Typography,{sx:{fontSize:11,color:Qe.muted},children:["Risk level: ",z.risk_level]})]}),O.jsx(L.Tooltip,{title:"View details",children:O.jsx(L.IconButton,{size:"small",sx:{color:Qe.muted,"&:hover":{color:Ue.primary,backgroundColor:"rgba(19, 113, 91, 0.08)"}},children:O.jsx(kr,{size:16})})})]},z.id))}):O.jsxs(L.Box,{sx:{textAlign:"center",py:4,color:Qe.muted,border:`2px dashed ${vt.default}`,borderRadius:1,backgroundColor:Ct.hover},children:[O.jsx(L.Typography,{variant:"body2",sx:{mb:1},children:"No risks linked yet"}),O.jsx(L.Typography,{variant:"caption",color:"#9CA3AF",children:"Risk linking coming soon"})]})]}),t==="notes"&&O.jsxs(L.Stack,{spacing:3,children:[O.jsx(L.Typography,{sx:{fontSize:"14px",fontWeight:600,color:"#1F2937",mb:1},children:"Collaboration notes"}),O.jsxs(L.Box,{sx:{textAlign:"center",py:4,color:Qe.muted,border:`2px dashed ${vt.default}`,borderRadius:1,backgroundColor:Ct.hover},children:[O.jsx(L.Typography,{variant:"body2",sx:{mb:1},children:"Notes feature coming soon"}),O.jsx(L.Typography,{variant:"caption",color:"#9CA3AF",children:"Add collaboration notes and comments"})]})]})]})}),O.jsxs(L.Box,{sx:{padding:"15px 20px",borderTop:`1px solid ${vt.light}`,display:"flex",justifyContent:"flex-end",gap:2,backgroundColor:Ct.modalFooter},children:[O.jsx(L.Button,{variant:"outlined",onClick:_e,sx:{...Kt.primary.outlined,color:Qe.secondary,borderColor:vt.default,"&:hover":{borderColor:Qe.secondary,backgroundColor:Ct.hover}},children:"Cancel"}),O.jsx(L.Button,{variant:"contained",onClick:B,disabled:d||!i.impl_id,startIcon:d?O.jsx(L.CircularProgress,{size:18,color:"inherit"}):O.jsx(Er,{size:18}),sx:Kt.primary.contained,children:d?"Saving...":"Save"})]})]})]})},An={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",border:"1px solid #d0d5dd",borderRadius:"4px",p:"24px",display:"flex",flexDirection:"column",minHeight:"150px"},En={fontSize:13,fontWeight:500,color:"#000000"},Mn={fontSize:13,color:"#666666",mb:"auto"},In=({project:ce,isLoading:_e,onFrameworkAdded:i,onFrameworkRemoved:T,setAlert:S,setIsLoading:m,apiServices:o,pluginKey:l})=>{var _;const[n,e]=fe.useState([]),[t,a]=fe.useState(new Set),[r,s]=fe.useState(!0),[d,u]=fe.useState(null),[c,f]=fe.useState(null),[h,w]=fe.useState(!1),k=()=>{try{const C=localStorage.getItem("persist:root");if(C){const v=JSON.parse(C);if(v.auth)return JSON.parse(v.auth).authToken||null}}catch{}return null},E=o||{get:async C=>{const v=k(),p={};v&&(p.Authorization=`Bearer ${v}`);const b=await fetch(`/api${C}`,{headers:p});return{data:await b.json(),status:b.status}},post:async(C,v)=>{const p=k(),b={"Content-Type":"application/json"};p&&(b.Authorization=`Bearer ${p}`);const g=await fetch(`/api${C}`,{method:"POST",headers:b,body:JSON.stringify(v)});return{data:await g.json(),status:g.status}}},j=fe.useCallback(async()=>{try{s(!0);let v=(await E.get(`/plugins/${l}/frameworks?all=true`)).data;v&&typeof v=="object"&&"data"in v&&(v=v.data),v&&typeof v=="object"&&!Array.isArray(v)&&"data"in v&&(v=v.data);const b=(Array.isArray(v)?v:[]).filter(g=>g.is_organizational===ce.is_organizational);e(b);try{let y=(await E.get(`/plugins/${l}/projects/${ce.id}/custom-frameworks?is_organizational=${ce.is_organizational}`)).data;y&&typeof y=="object"&&"data"in y&&(y=y.data),y&&typeof y=="object"&&!Array.isArray(y)&&"data"in y&&(y=y.data);const x=Array.isArray(y)?y:[],M=new Set(x.map(F=>F.framework_id));a(M)}catch{a(new Set)}}catch(C){console.error("Failed to load custom frameworks:",C)}finally{s(!1)}},[ce.is_organizational,ce.id,l]);fe.useEffect(()=>{j()},[j]),fe.useEffect(()=>{window.dispatchEvent(new CustomEvent("customFrameworkCountChanged",{detail:{projectId:ce.id,count:t.size}}))},[t.size,ce.id]);const $=C=>t.has(C.id),D=async C=>{if(console.log("[CustomFrameworkCards] Adding framework:",C),!C.id){console.error("[CustomFrameworkCards] Framework ID is missing!",C),S&&(S({variant:"error",body:"Framework ID is missing. Please refresh and try again.",isToast:!0,visible:!0}),setTimeout(()=>S(null),3e3));return}u(C.id),m&&m(!0);try{const v=await E.post(`/plugins/${l}/add-to-project`,{frameworkId:C.id,projectId:ce.id});v.status===200||v.status===201?(a(p=>new Set([...p,C.id])),S&&(S({variant:"success",body:`Framework "${C.name}" added successfully`,isToast:!0,visible:!0}),setTimeout(()=>S(null),3e3)),window.dispatchEvent(new CustomEvent("customFrameworkChanged",{detail:{projectId:ce.id}})),i&&i()):S&&(S({variant:"error",body:"Failed to add framework. Please try again.",isToast:!0,visible:!0}),setTimeout(()=>S(null),3e3))}catch(v){console.error("Error adding custom framework:",v),S&&(S({variant:"error",body:"An unexpected error occurred. Please try again.",isToast:!0,visible:!0}),setTimeout(()=>S(null),3e3))}finally{u(null),m&&m(!1)}},P=async()=>{if(c){u(c.id),m&&m(!0);try{(await E.post(`/plugins/${l}/remove-from-project`,{frameworkId:c.id,projectId:ce.id})).status===200?(a(v=>{const p=new Set(v);return p.delete(c.id),p}),S&&(S({variant:"success",body:`Framework "${c.name}" removed successfully`,isToast:!0,visible:!0}),setTimeout(()=>S(null),3e3)),window.dispatchEvent(new CustomEvent("customFrameworkChanged",{detail:{projectId:ce.id}})),T&&T(c.id)):S&&(S({variant:"error",body:"Failed to remove framework. Please try again.",isToast:!0,visible:!0}),setTimeout(()=>S(null),3e3))}catch(C){console.error("Error removing custom framework:",C),S&&(S({variant:"error",body:"An unexpected error occurred. Please try again.",isToast:!0,visible:!0}),setTimeout(()=>S(null),3e3))}finally{u(null),w(!1),f(null),m&&m(!1)}}};if(r)return O.jsx(L.Box,{sx:{display:"flex",justifyContent:"center",py:3},children:O.jsx(L.CircularProgress,{size:24,sx:{color:Ue.primary}})});if(n.length===0)return null;const R=((_=ce.framework)==null?void 0:_.length)||0,H=t.size,N=R+H;return O.jsxs(L.Stack,{spacing:3,children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1.5,pt:2,pb:1},children:[O.jsx(L.Box,{sx:{width:3,height:16,backgroundColor:Ue.primary,borderRadius:1}}),O.jsx(cr,{size:16,color:"#667085"}),O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:600,color:"#344054"},children:"Custom Frameworks"}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#667085"},children:"Imported compliance frameworks"})]}),O.jsx(L.Box,{sx:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",alignItems:"stretch"},children:n.map(C=>{const v=$(C),p=d===C.id,b=v&&N<=1;return O.jsxs(L.Box,{sx:An,children:[O.jsxs(L.Box,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2,children:[O.jsx(L.Typography,{sx:En,children:C.name}),v&&O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:.5,backgroundColor:"#E6F4EE",borderRadius:"4px",px:1.5,py:.5,fontSize:13,fontWeight:600,color:"#13715B"},children:[O.jsx(Zr,{size:16}),"Added"]})]}),O.jsx(L.Typography,{sx:Mn,children:C.description}),O.jsx(L.Box,{display:"flex",justifyContent:"flex-end",mt:2,children:v?O.jsx(L.Button,{variant:"outlined",size:"small",disabled:_e||p||b,onClick:()=>{f(C),w(!0)},sx:{minWidth:100,borderColor:"#F87171",color:"#DC2626",fontWeight:600,textTransform:"none","&:hover":{borderColor:"#EF4444",backgroundColor:"#FEF2F2"}},children:p?O.jsx(L.CircularProgress,{size:16,color:"inherit"}):"Remove"}):O.jsx(L.Button,{variant:"contained",size:"small",disabled:_e||p,onClick:()=>D(C),sx:{minWidth:100,fontWeight:600,textTransform:"none",backgroundColor:"#13715B",color:"#fff","&:hover":{backgroundColor:"#0e5c47"}},children:p?O.jsx(L.CircularProgress,{size:16,color:"inherit"}):"Add"})})]},C.id)})}),O.jsxs(L.Dialog,{open:h&&c!==null,onClose:()=>{w(!1),f(null)},slotProps:{backdrop:{sx:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}},PaperProps:{sx:{width:"485px",maxWidth:"calc(100vw - 32px)",borderRadius:"4px",padding:"16px",boxShadow:"0px 8px 8px -4px rgba(16, 24, 40, 0.03), 0px 20px 24px -4px rgba(16, 24, 40, 0.08)",gap:"16px",boxSizing:"border-box",margin:0}},children:[O.jsxs(L.Stack,{sx:{gap:"16px"},children:[O.jsx(L.Typography,{sx:{color:"#344054",fontWeight:"bolder"},children:"Confirm framework removal"}),O.jsxs(L.Typography,{sx:{fontSize:"13px",color:"#344054"},children:["Are you sure you want to remove ",c==null?void 0:c.name," from the project?"]})]}),O.jsxs(L.Stack,{direction:"row",justifyContent:"flex-end",children:[O.jsx(L.Button,{variant:"text",onClick:()=>{w(!1),f(null)},sx:{color:"#344054",textTransform:"none",px:"32px",width:120},children:"Cancel"}),O.jsx(L.Button,{variant:"contained",color:"error",onClick:P,disabled:d!==null,sx:{textTransform:"none"},children:d!==null?"Removing...":"Remove"})]})]})]})},$r="verifywise_custom_framework_selected",qr=ce=>({position:"relative",display:"flex",border:"1px solid rgba(0, 0, 0, 0.12)",borderRadius:"4px",overflow:"hidden",height:ce,bgcolor:"action.hover",width:"fit-content",padding:"2px",gap:"2px"}),br={cursor:"pointer",px:5,display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"text.primary",fontSize:"13px",fontWeight:400,userSelect:"none",width:"fit-content",minWidth:"120px",position:"relative",zIndex:1,transition:"color 0.3s ease"},Hr=ce=>({position:"absolute",top:"2px",height:"calc(100% - 4px)",bgcolor:"background.paper",border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:"4px",transition:"left 0.3s cubic-bezier(0.4, 0, 0.2, 1), width 0.3s cubic-bezier(0.4, 0, 0.2, 1)",left:`${ce.left}px`,width:`${ce.width}px`,zIndex:0}),Fn=({project:ce,builtInFrameworks:_e,selectedBuiltInFramework:i,onBuiltInFrameworkSelect:T,renderBuiltInContent:S,renderHeaderActions:m,onRefresh:o,children:l,apiServices:n,pluginKey:e})=>{const[t,a]=fe.useState([]),[r,s]=fe.useState(null),[d,u]=fe.useState(!1),[c,f]=fe.useState(!0),[h,w]=fe.useState({left:2,width:120}),k=fe.useRef(null),E=fe.useRef([]),j=fe.useRef(null),$=fe.useRef(!1);fe.useEffect(()=>{j.current=r},[r]);const D=_e.length+t.length;fe.useEffect(()=>{E.current=new Array(D).fill(null)},[D]);const P=()=>{try{const g=localStorage.getItem("persist:root");if(g){const y=JSON.parse(g);if(y.auth)return JSON.parse(y.auth).authToken||null}}catch{}return null},R=fe.useMemo(()=>n||{get:async g=>{const y=P(),x={};y&&(x.Authorization=`Bearer ${y}`);const M=await fetch(`/api${g}`,{headers:x});return{data:await M.json(),status:M.status}},post:async(g,y)=>{const x=P(),M={"Content-Type":"application/json"};x&&(M.Authorization=`Bearer ${x}`);const F=await fetch(`/api${g}`,{method:"POST",headers:M,body:JSON.stringify(y)});return{data:await F.json(),status:F.status}},patch:async(g,y)=>{const x=P(),M={"Content-Type":"application/json"};x&&(M.Authorization=`Bearer ${x}`);const F=await fetch(`/api${g}`,{method:"PATCH",headers:M,body:JSON.stringify(y)});return{data:await F.json(),status:F.status}}},[n]),H=fe.useCallback(async(g=!1)=>{if(!(ce!=null&&ce.id)){f(!1);return}if(!($.current&&!g))try{$.current||f(!0);let x=(await R.get(`/plugins/${e}/projects/${ce.id}/custom-frameworks?is_organizational=${ce.is_organizational}`)).data;x&&typeof x=="object"&&"data"in x&&(x=x.data),x&&typeof x=="object"&&!Array.isArray(x)&&"data"in x&&(x=x.data);const M=Array.isArray(x)?x:[];console.log("[CustomFrameworkControls] Loaded custom frameworks:",M);const F=j.current;F!==null&&(M.some(U=>U.framework_id===F)||(console.log("[CustomFrameworkControls] Selected framework was removed, switching to built-in"),u(!1),s(null))),a(M),$.current=!0}catch(y){console.log("[CustomFrameworkControls] Error loading frameworks:",y),a([])}finally{f(!1)}},[ce==null?void 0:ce.id,R,e]);fe.useEffect(()=>{H()},[H]),fe.useEffect(()=>{const g=y=>{var x;((x=y.detail)==null?void 0:x.projectId)===(ce==null?void 0:ce.id)&&(console.log("[CustomFrameworkControls] Received custom framework change event, reloading..."),H(!0))};return window.addEventListener("customFrameworkChanged",g),()=>{window.removeEventListener("customFrameworkChanged",g)}},[H,ce==null?void 0:ce.id]);const N=_e.length+t.length;let _;if(d&&r!==null){const g=t.findIndex(y=>y.framework_id===r);_=_e.length+g}else _=i;const C=fe.useCallback(()=>{const g=E.current[_],y=k.current;if(g&&y){const x=y.getBoundingClientRect(),M=g.getBoundingClientRect();w({left:M.left-x.left,width:M.width})}},[_]);fe.useLayoutEffect(()=>{C()},[C,t.length,_e.length]),fe.useEffect(()=>{const g=setTimeout(C,100);return()=>clearTimeout(g)},[C,t.length,_e.length]),fe.useEffect(()=>(window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)),[C]),fe.useEffect(()=>{_e.length===0&&t.length>0&&!d&&(console.log("[CustomFrameworkControls] No built-in frameworks, auto-selecting first custom framework"),u(!0),s(t[0].framework_id))},[_e.length,t,d]),fe.useEffect(()=>{if(t.length!==0)try{const g=localStorage.getItem($r);if(g){const{frameworkId:y}=JSON.parse(g);t.some(M=>M.framework_id===y)&&(console.log("[CustomFrameworkControls] Auto-selecting custom framework from dashboard navigation:",y),u(!0),s(y)),localStorage.removeItem($r)}}catch(g){console.log("[CustomFrameworkControls] Error reading stored framework selection:",g)}},[t]);const v=g=>{u(!1),s(null),T(g)},p=g=>{u(!0),s(g)};if(c)return O.jsx(L.Box,{sx:{display:"flex",justifyContent:"center",py:3},children:O.jsx(L.CircularProgress,{size:24,sx:{color:Ue.primary}})});if(t.length===0)return O.jsxs(L.Stack,{spacing:3,children:[ce&&_e.length>0&&O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[O.jsxs(L.Box,{ref:k,"data-joyride-id":"framework-toggle",sx:qr(34),children:[O.jsx(L.Box,{sx:Hr(h)}),_e.map((g,y)=>O.jsx(L.Box,{ref:x=>{E.current[y]=x},onClick:()=>T(y),sx:br,children:g.name},g.id))]}),m&&m()]}),S()]});const b=t.find(g=>g.framework_id===r);return O.jsxs(L.Stack,{spacing:3,children:[ce&&N>0&&O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[O.jsxs(L.Box,{ref:k,"data-joyride-id":"framework-toggle",sx:qr(34),children:[O.jsx(L.Box,{sx:Hr(h)}),_e.map((g,y)=>O.jsx(L.Box,{ref:x=>{E.current[y]=x},onClick:()=>v(y),sx:br,children:g.name},g.id)),t.map((g,y)=>O.jsx(L.Box,{ref:x=>{E.current[_e.length+y]=x},onClick:()=>p(g.framework_id),sx:br,children:g.name},`custom-${g.framework_id}`))]}),m&&m()]}),d&&r&&b?O.jsx(Nr,{frameworkId:r,projectId:ce.id,frameworkName:b.name,apiServices:R,onRefresh:()=>{H(),o==null||o()},pluginKey:e},`custom-framework-${r}`):S()]})},Ft={cardContainer:{border:"1px solid #d0d5dd",borderRadius:"4px",overflow:"hidden"},cardHeader:{backgroundColor:"#F1F3F4",p:"10px 16px",borderBottom:"1px solid #d0d5dd"},cardHeaderTitle:{fontSize:15,fontWeight:600,color:"#000000",lineHeight:"16px",m:0},cardContentWithGradient:{background:"linear-gradient(135deg, #FEFFFE 0%, #F8F9FA 100%)",p:"16px"}},On={textTransform:"none",fontWeight:400,alignItems:"center",justifyContent:"flex-end",padding:"16px 0 7px",minHeight:"20px",minWidth:"auto","&.Mui-selected":{color:"#13715B"}},Bn={minHeight:"20px","& .MuiTabs-flexContainer":{columnGap:"34px"}},Dn=ce=>{const _e=(ce==null?void 0:ce.toLowerCase())||"";return _e==="implemented"||_e==="done"||_e==="completed"?"#13715B":_e==="in progress"||_e==="in_progress"?"#F59E0B":_e==="awaiting review"||_e==="awaiting_review"?"#3B82F6":_e==="awaiting approval"||_e==="awaiting_approval"?"#8B5CF6":_e==="draft"?"#D1D5DB":_e==="needs rework"||_e==="needs_rework"?"#EA580C":"#9CA3AF"},jn="verifywise_custom_framework_selected",Ur="verifywise_custom_framework_expanded_category",Pn=({project:ce,apiServices:_e,showTabContent:i,frameworkId:T,frameworkName:S,pluginKey:m,onNavigate:o})=>{const[l,n]=fe.useState(!0),[e,t]=fe.useState([]),[a,r]=fe.useState([]),[s,d]=fe.useState(new Map),[u,c]=fe.useState(0),f=()=>{try{const N=localStorage.getItem("persist:root");if(N){const _=JSON.parse(N);if(_.auth)return JSON.parse(_.auth).authToken||null}}catch{}return null},h=fe.useRef(_e||{get:async N=>{const _=f(),C={};_&&(C.Authorization=`Bearer ${_}`);const v=await fetch(`/api${N}`,{headers:C});return{data:await v.json(),status:v.status}}});fe.useEffect(()=>{_e&&(h.current=_e)},[_e]);const w=fe.useCallback(async()=>{var _;const N=h.current;if(!(ce!=null&&ce.id)){n(!1);return}try{n(!0);let v=(await N.get(`/plugins/${m}/projects/${ce.id}/custom-frameworks?is_organizational=${ce.is_organizational}`)).data;v&&typeof v=="object"&&"data"in v&&(v=v.data),v&&typeof v=="object"&&!Array.isArray(v)&&"data"in v&&(v=v.data);const p=Array.isArray(v)?v:[];t(p);const b=p.map(async x=>{try{const M=await N.get(`/plugins/${m}/projects/${ce.id}/frameworks/${x.framework_id}/progress`);console.log(`[CustomFrameworkDashboard] Progress response for ${x.name}:`,M.data);let F=M.data;F!=null&&F.data&&(F=F.data);const q=(F==null?void 0:F.overall)||(F==null?void 0:F.level2)||F,U=(q==null?void 0:q.total)??(q==null?void 0:q.totalControls)??(q==null?void 0:q.total_controls)??0,Y=(q==null?void 0:q.completed)??(q==null?void 0:q.completedControls)??(q==null?void 0:q.completed_controls)??(q==null?void 0:q.done)??0,B=(q==null?void 0:q.percentage)??(q==null?void 0:q.progress)??(U>0?Math.round(Y/U*100):0);return console.log(`[CustomFrameworkDashboard] Parsed progress for ${x.name}: total=${U}, completed=${Y}, percentage=${B}`),{framework_id:x.framework_id,name:x.name,total:U,completed:Y,percentage:B}}catch(M){return console.error(`[CustomFrameworkDashboard] Error fetching progress for ${x.name}:`,M),{framework_id:x.framework_id,name:x.name,total:0,completed:0,percentage:0}}}),g=new Map;for(const x of p)try{const M=await N.get(`/plugins/${m}/projects/${ce.id}/frameworks/${x.framework_id}`);console.log(`[CustomFrameworkDashboard] Details response for ${x.name}:`,M.data);let F=((_=M.data)==null?void 0:_.data)||M.data||{};console.log("[CustomFrameworkDashboard] Unwrapped details data:",F),console.log("[CustomFrameworkDashboard] Available keys:",Object.keys(F));const q=F.structure||[];console.log(`[CustomFrameworkDashboard] Structure data (${q.length} level1 items):`,q);const U=q.map(Y=>{const W=(Y.items||[]).flatMap(I=>I.items&&I.items.length>0?I.items.map(A=>({id:A.id,name:A.name||A.title,description:A.description,status:A.status||"Not Started",owner_id:A.owner_id})):[{id:I.id,name:I.name||I.title,description:I.description,status:I.status||"Not Started",owner_id:I.owner_id}]);return{id:Y.id,name:Y.name||Y.title,description:Y.description,status:Y.status||"Not Started",owner_id:Y.owner_id,level3_items:W}});console.log("[CustomFrameworkDashboard] Processed level2 items:",U),g.set(x.framework_id,{framework_id:x.framework_id,name:x.name,level2_items:U})}catch{g.set(x.framework_id,{framework_id:x.framework_id,name:x.name,level2_items:[]})}d(g);const y=await Promise.all(b);r(y)}catch(C){console.error("[CustomFrameworkDashboard] Error loading data:",C),t([]),r([]),d(new Map)}finally{n(!1)}},[ce==null?void 0:ce.id,m]),k=fe.useRef(w);k.current=w,fe.useEffect(()=>{w()},[w]),fe.useEffect(()=>{const N=_=>{var C;console.log("[CustomFrameworkDashboard] Received event:",_.detail),((C=_.detail)==null?void 0:C.projectId)===(ce==null?void 0:ce.id)&&(console.log("[CustomFrameworkDashboard] Reloading data..."),k.current())};return window.addEventListener("customFrameworkChanged",N),()=>{window.removeEventListener("customFrameworkChanged",N)}},[ce==null?void 0:ce.id]);const E=(N,_)=>_===0?0:Math.round(N/_*100),j=N=>N<30?"#DC2626":N<60?"#EA580C":N<85?"#F59E0B":"#13715B",$=N=>N===0?O.jsx(Yt,{size:14,style:{color:"#9CA3AF"}}):N<30?O.jsx(Yt,{size:14,style:{color:"#DC2626"}}):N<60?O.jsx(_r,{size:14,style:{color:"#EA580C"}}):N<85?O.jsx(Zt,{size:14,style:{color:"#F59E0B"}}):N<100?O.jsx(Zt,{size:14,style:{color:"#13715B"}}):O.jsx(xr,{size:14,style:{color:"#13715B"}}),D=(N,_)=>{if(_===0)return O.jsx(Yt,{size:14,style:{color:"#9CA3AF"}});const C=N/_*100;return C===0?O.jsx(Yt,{size:14,style:{color:"#DC2626"}}):C<30?O.jsx(Yt,{size:14,style:{color:"#DC2626"}}):C<60?O.jsx(_r,{size:14,style:{color:"#EA580C"}}):C<85?O.jsx(Zt,{size:14,style:{color:"#F59E0B"}}):C<100?O.jsx(Zt,{size:14,style:{color:"#13715B"}}):O.jsx(xr,{size:14,style:{color:"#13715B"}})},P=N=>N.length===0?O.jsx(L.Box,{sx:{width:12,height:12,borderRadius:"2px",backgroundColor:"#E5E7EB",border:"1px solid #D1D5DB"}}):N.map((_,C)=>O.jsx(L.Box,{sx:{width:12,height:12,borderRadius:"2px",backgroundColor:Dn(_.status||"Not Started")}},C)),R=fe.useCallback((N,_,C)=>{localStorage.setItem(jn,JSON.stringify({frameworkId:N,frameworkName:_})),C!==void 0?localStorage.setItem(Ur,C.toString()):localStorage.removeItem(Ur),o&&o(N,_)},[o]),H=N=>{const _=s.get(N),C=e.find(b=>b.framework_id===N);if(!_||_.level2_items.length===0)return O.jsx(L.Box,{sx:{textAlign:"center",py:4,backgroundColor:"#F9FAFB",borderRadius:2,border:"1px solid #d0d5dd"},children:O.jsx(L.Typography,{variant:"body2",color:"text.secondary",children:"No categories available. View details in Controls and Requirements tab."})});const v=(C==null?void 0:C.level_1_name)||"Categories",p=b=>{C&&R(C.framework_id,C.name,b)};return O.jsxs(L.Stack,{spacing:2,children:[O.jsxs(L.Typography,{sx:{fontSize:15,fontWeight:600,color:"#000000"},children:[_.name," ",v.toLowerCase()," overview"]}),O.jsx(L.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(3, 1fr)"},gap:"16px"},children:_.level2_items.map(b=>{const g=b.level3_items||[],y=g.filter(M=>{var F,q,U;return((F=M.status)==null?void 0:F.toLowerCase())==="implemented"||((q=M.status)==null?void 0:q.toLowerCase())==="done"||((U=M.status)==null?void 0:U.toLowerCase())==="completed"}).length,x=g.filter(M=>M.owner_id!=null).length;return O.jsxs(L.Box,{sx:{border:"1px solid #d0d5dd",borderRadius:"4px",overflow:"hidden",backgroundColor:"#FFFFFF"},children:[O.jsxs(L.Box,{sx:{backgroundColor:"#F1F3F4",p:"10px 16px",borderBottom:"1px solid #d0d5dd",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsx(dr,{size:14,style:{color:"#666666"}}),O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:600,color:"#000000",lineHeight:"16px",m:0},children:b.name})]}),O.jsx(L.Box,{onClick:()=>p(b.id),sx:{cursor:"pointer",display:"flex",alignItems:"center",p:"4px",borderRadius:"4px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:O.jsx(Xt,{size:16,style:{color:"#666666"}})})]}),O.jsxs(L.Box,{sx:{background:"linear-gradient(135deg, #FEFFFE 0%, #F8F9FA 100%)",p:"16px"},children:[O.jsx(L.Box,{sx:{display:"flex",flexWrap:"wrap",gap:"3px",mb:3,maxWidth:"100%",minHeight:"36px"},children:P(g)}),O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsxs(L.Typography,{sx:{fontSize:12,color:"#000000",fontWeight:600},children:[y,"/",g.length]}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#666666"},children:"completed"})]}),O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[O.jsxs(L.Typography,{sx:{fontSize:12,color:"#000000",fontWeight:600},children:[x,"/",g.length]}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#666666"},children:"assigned"})]})]})]})]},b.id)})})]})};if(l)return O.jsx(L.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:O.jsx(L.CircularProgress,{})});if(i&&T){const N=s.has(T);return console.log(`[CustomFrameworkDashboard] Tab content mode for frameworkId=${T}`,{loading:l,hasDetails:N,frameworkDetailsKeys:Array.from(s.keys()),frameworksCount:e.length}),l||!N?O.jsx(L.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100px"},children:O.jsx(L.CircularProgress,{size:24})}):O.jsx(L.Box,{children:H(T)})}return e.length===0?null:O.jsxs(L.Stack,{spacing:0,children:[O.jsx(L.Box,{sx:{mt:6,mb:3,pt:4,borderTop:"1px solid #E5E7EB"},children:O.jsxs(L.Box,{sx:{pb:2,borderBottom:"2px solid #7C3AED",display:"flex",alignItems:"center",gap:1.5},children:[O.jsx(L.Box,{sx:{width:4,height:20,backgroundColor:"#7C3AED",borderRadius:1}}),O.jsx(L.Typography,{sx:{fontSize:15,fontWeight:600,color:"#101828"},children:"Custom Frameworks"}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#667085",ml:1},children:"Imported compliance frameworks"})]})}),O.jsxs(L.Box,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"repeat(3, 1fr)"},gap:"16px"},children:[O.jsxs(L.Box,{sx:Ft.cardContainer,children:[O.jsx(L.Box,{sx:Ft.cardHeader,children:O.jsx(L.Typography,{sx:Ft.cardHeaderTitle,children:"Framework progress"})}),O.jsxs(L.Box,{sx:Ft.cardContentWithGradient,children:[O.jsx(L.Typography,{sx:{fontSize:12,color:"#666666",mb:6,lineHeight:"16px"},children:"Track implementation progress across custom frameworks."}),O.jsx(L.Stack,{spacing:0,children:a.map((N,_)=>{const C=E(N.completed,N.total);return O.jsxs(L.Box,{children:[_>0&&O.jsx(L.Box,{sx:{height:"1px",backgroundColor:"#E5E7EB",mx:"-16px",mb:4,mt:1}}),O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,mb:2,color:"#000000"},children:N.name}),O.jsxs(L.Box,{sx:{mb:2},children:[O.jsxs(L.Box,{sx:{display:"grid",gridTemplateColumns:"1fr auto 1fr",alignItems:"center",mb:1},children:[O.jsx(L.Typography,{sx:{fontSize:12,color:"#666666"},children:"Controls"}),O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:.5,justifyContent:"flex-end"},children:[O.jsx(L.Typography,{sx:{fontSize:12,color:"#000000",fontWeight:500},children:N.completed}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#000000",fontWeight:500},children:"/"}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#999999",fontWeight:500},children:N.total})]}),O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1,justifyContent:"flex-end"},children:[$(C),O.jsxs(L.Typography,{sx:{fontSize:12,color:C===100?"#13715B":"#666666",fontWeight:500},children:[C,"%"]})]})]}),O.jsx(L.LinearProgress,{variant:"determinate",value:C,sx:{height:6,borderRadius:3,backgroundColor:"#F3F4F6","& .MuiLinearProgress-bar":{backgroundColor:j(C),borderRadius:3}}})]}),_<a.length-1&&O.jsx(L.Box,{sx:{mb:4}})]},N.framework_id)})})]})]}),O.jsxs(L.Box,{sx:Ft.cardContainer,children:[O.jsx(L.Box,{sx:Ft.cardHeader,children:O.jsx(L.Typography,{sx:Ft.cardHeaderTitle,children:"Assignment status"})}),O.jsxs(L.Box,{sx:Ft.cardContentWithGradient,children:[O.jsx(L.Typography,{sx:{fontSize:12,color:"#666666",mb:6,lineHeight:"16px"},children:"Monitor completion status for custom frameworks."}),O.jsx(L.Stack,{spacing:0,children:a.map((N,_)=>O.jsxs(L.Box,{children:[_>0&&O.jsx(L.Box,{sx:{height:"1px",backgroundColor:"#E5E7EB",mx:"-16px",mb:4,mt:1}}),O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,mb:2,color:"#000000"},children:N.name}),O.jsx(L.Stack,{spacing:1.5,children:O.jsxs(L.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[O.jsx(L.Typography,{sx:{fontSize:12,color:"#666666"},children:"Controls"}),O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:1},children:[D(N.completed,N.total),O.jsx(L.Typography,{sx:{fontSize:12,color:"#000000",fontWeight:500},children:N.completed}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#000000",fontWeight:500},children:"/"}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#999999",fontWeight:500},children:N.total}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#666666",fontWeight:400,ml:1},children:"completed"})]})]})}),_<a.length-1&&O.jsx(L.Box,{sx:{mb:4}})]},N.framework_id))})]})]}),O.jsxs(L.Box,{sx:Ft.cardContainer,children:[O.jsx(L.Box,{sx:Ft.cardHeader,children:O.jsx(L.Typography,{sx:Ft.cardHeaderTitle,children:"Status breakdown"})}),O.jsx(L.Box,{sx:Ft.cardContentWithGradient,children:O.jsx(L.Stack,{spacing:0,children:a.map((N,_)=>{const C=N.total-N.completed,v=N.completed,p=[{label:"Not Started",value:C,color:"#9CA3AF"},{label:"Completed",value:v,color:"#13715B"}];return O.jsxs(L.Box,{children:[_>0&&O.jsx(L.Box,{sx:{height:"1px",backgroundColor:"#E5E7EB",mx:"-16px",mb:4,mt:1}}),O.jsx(L.Typography,{sx:{fontSize:13,fontWeight:500,color:"#000000",mb:2},children:N.name}),O.jsx(L.Stack,{spacing:.5,children:p.map((b,g)=>O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[O.jsxs(L.Box,{sx:{display:"flex",alignItems:"center",gap:2.5},children:[O.jsx(L.Box,{sx:{width:12,height:12,borderRadius:"50%",backgroundColor:b.color}}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#666666"},children:b.label})]}),O.jsx(L.Typography,{sx:{fontSize:12,color:"#000000",fontWeight:500},children:b.value})]},g))}),_<a.length-1&&O.jsx(L.Box,{sx:{mb:4}})]},N.framework_id)})})})]})]}),O.jsx(L.Box,{sx:{height:"16px"}}),a.length>0&&O.jsxs(L.Box,{children:[O.jsx(L.Box,{sx:{borderBottom:1,borderColor:"divider"},children:O.jsx(L.Tabs,{value:u,onChange:(N,_)=>c(_),TabIndicatorProps:{style:{backgroundColor:"#13715B"}},sx:Bn,children:a.map(N=>O.jsx(L.Tab,{label:N.name,sx:On,disableRipple:!0},N.framework_id))})}),O.jsx(L.Box,{sx:{height:"16px"}}),a.map((N,_)=>O.jsx(L.Box,{sx:{display:u===_?"block":"none"},children:H(N.framework_id)},N.framework_id))]})]})},Nn={display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",minWidth:"300px",maxWidth:"100%",gap:"40px",backgroundColor:"white",padding:"10px 25px",border:"1px solid #d0d5dd",borderRadius:"4px",boxShadow:"none"},zn={color:"#2D3748",fontSize:26},Ln={color:"#1A1919",fontWeight:600,mb:"10px",fontSize:16},Rn={width:"100%"},$n=ce=>ce<=10||ce<=20?"#FF4500":ce<=30?"#FFA500":ce<=40?"#FFD700":ce<=50?"#E9F14F":ce<=60?"#CDDD24":ce<=70?"#64E730":ce<=80?"#32CD32":ce<=90?"#228B22":"#008000",qn=({project:ce,columnStyle:_e,projectRiskSection:i,apiServices:T,pluginKey:S})=>{const[m,o]=fe.useState([]),[l,n]=fe.useState([]),[e,t]=fe.useState(!0),a=_e||Rn,r=i||Ln,s=()=>{try{const f=localStorage.getItem("persist:root");if(f){const h=JSON.parse(f);if(h.auth)return JSON.parse(h.auth).authToken||null}}catch{}return null},d=fe.useRef(T||{get:async f=>{const h=s(),w={};h&&(w.Authorization=`Bearer ${h}`);const k=await fetch(`/api${f}`,{headers:w});return{data:await k.json(),status:k.status}}});fe.useEffect(()=>{T&&(d.current=T)},[T]);const u=fe.useCallback(async()=>{const f=d.current;if(!(ce!=null&&ce.id)){t(!1);return}try{t(!0);let w=(await f.get(`/plugins/${S}/projects/${ce.id}/custom-frameworks?is_organizational=${ce.is_organizational}`)).data;w&&typeof w=="object"&&"data"in w&&(w=w.data),w&&typeof w=="object"&&!Array.isArray(w)&&"data"in w&&(w=w.data);const k=Array.isArray(w)?w:[];o(k);const E=k.map(async $=>{var D;try{const P=await f.get(`/plugins/${S}/projects/${ce.id}/frameworks/${$.framework_id}/progress`),R=((D=P.data)==null?void 0:D.data)||P.data||{},H=(R==null?void 0:R.overall)||(R==null?void 0:R.level2)||R;return{framework_id:$.framework_id,name:$.name,total:(H==null?void 0:H.total)||0,completed:(H==null?void 0:H.completed)||0,percentage:(H==null?void 0:H.percentage)||0}}catch{return{framework_id:$.framework_id,name:$.name,total:0,completed:0,percentage:0}}}),j=await Promise.all(E);n(j)}catch(h){console.error("[CustomFrameworkOverview] Error loading data:",h),o([]),n([])}finally{t(!1)}},[ce==null?void 0:ce.id,S]),c=fe.useRef(u);return c.current=u,fe.useEffect(()=>{u()},[u]),fe.useEffect(()=>{const f=h=>{var w;console.log("[CustomFrameworkOverview] Received event:",h.detail),((w=h.detail)==null?void 0:w.projectId)===(ce==null?void 0:ce.id)&&(console.log("[CustomFrameworkOverview] Reloading data..."),c.current())};return window.addEventListener("customFrameworkChanged",f),()=>{window.removeEventListener("customFrameworkChanged",f)}},[ce==null?void 0:ce.id]),e||m.length===0?null:O.jsx(O.Fragment,{children:l.map(f=>{const h=f.total>0?Math.floor(f.completed/f.total*100):0;return O.jsxs(L.Stack,{sx:a,children:[O.jsxs(L.Typography,{sx:r,children:[f.name," Completion Status"]}),O.jsxs(L.Box,{sx:Nn,children:[O.jsx(L.Stack,{sx:{width:"100%",display:"flex",justifyContent:"space-between",gap:8,mt:"10px"},children:O.jsxs(L.Stack,{sx:{gap:1},children:[O.jsx(L.LinearProgress,{variant:"determinate",value:h,sx:{height:8,borderRadius:0,backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{backgroundColor:$n(h),borderRadius:0}}}),O.jsx(L.Typography,{sx:{color:"#8594AC",fontSize:13},children:`${f.completed} Controls out of ${f.total} is completed`})]})}),O.jsx(L.Stack,{sx:{display:"flex",flexDirection:"column",gap:"8px"},children:O.jsx(L.Typography,{sx:zn,children:`${h}%`})})]})]},f.framework_id)})})};return St.ControlItemDrawer=jr,St.CustomFrameworkCards=In,St.CustomFrameworkConfig=dn,St.CustomFrameworkControls=Fn,St.CustomFrameworkDashboard=Pn,St.CustomFrameworkDrawer=Tn,St.CustomFrameworkOverview=qn,St.CustomFrameworkViewer=Nr,St.FrameworkDetailDrawer=Br,St.FrameworkImportButton=gn,St.FrameworkImportModal=gr,St.FrameworksTable=Or,St.statusOptions=mr,St.theme=cn,Object.defineProperty(St,Symbol.toStringTag,{value:"Module"}),St}({},jsxRuntime,React,MUI);
//# sourceMappingURL=index.esm.js.map
