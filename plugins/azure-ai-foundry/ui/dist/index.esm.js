var PluginAzureAIFoundry=function(_,e,c,o){"use strict";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),P=(i,x)=>{const b=c.forwardRef(({color:w="currentColor",size:h=24,strokeWidth:d=2,absoluteStrokeWidth:f,className:l="",children:u,...C},p)=>c.createElement("svg",{ref:p,...U,width:h,height:h,stroke:w,strokeWidth:f?Number(d)*24/Number(h):d,className:["lucide",`lucide-${G(i)}`,l].join(" "),...C},[...x.map(([y,S])=>c.createElement(y,S)),...Array.isArray(u)?u:[u]]));return b.displayName=`${i}`,b};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=P("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=P("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=P("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=P("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),s={primary:"#13715B",primaryHover:"#0f604d",primaryLight:"rgba(19, 113, 91, 0.08)",successLight:"rgba(5, 150, 105, 0.1)",warningLight:"rgba(217, 119, 6, 0.1)",error:"#DB504A",errorLight:"rgba(219, 80, 74, 0.1)",textPrimary:"#1A1919",textSecondary:"#344054",textTertiary:"#667085",textDisabled:"#9CA3AF",background:"#ffffff",backgroundSecondary:"#f9fafb",backgroundHover:"#f5f5f5",border:"#d0d5dd",borderLight:"#e5e7eb",disabled:"#E5E7EB"},t={sizes:{sm:"12px",md:"13px",xl:"16px",xxl:"18px"},weights:{medium:500,semibold:600}},F={sm:"8px",lg:"16px"},z={sm:"4px",md:"8px",lg:"12px"},j={none:"none",lg:"0px 4px 24px -4px rgba(16, 24, 40, 0.08), 0px 3px 3px -3px rgba(16, 24, 40, 0.03)"},M={base:{borderRadius:z.sm,fontWeight:t.weights.medium,fontSize:t.sizes.md,textTransform:"none",boxShadow:j.none,transition:"all 0.2s ease",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:F.sm},sizes:{medium:{height:"34px",padding:"8px 16px",fontSize:t.sizes.md}},primary:{outlined:{backgroundColor:"transparent",color:s.primary,border:`1px solid ${s.primary}`,"&:hover":{backgroundColor:s.primaryLight,borderColor:s.primaryHover},"&:disabled":{borderColor:s.disabled,color:s.textDisabled,cursor:"not-allowed"}}}},I={base:{backgroundColor:s.background,borderRadius:z.md,border:`1px solid ${s.border}`,padding:F.lg}},T={header:{backgroundColor:s.backgroundSecondary,fontWeight:t.weights.semibold,fontSize:t.sizes.sm,color:s.textTertiary,textTransform:"uppercase",padding:"12px 16px"},cell:{fontSize:t.sizes.md,color:s.textSecondary,padding:"12px 16px",borderBottom:`1px solid ${s.borderLight}`},row:{"&:hover":{backgroundColor:s.backgroundHover}}},A={base:{borderRadius:z.sm,fontSize:t.sizes.sm,fontWeight:t.weights.medium,padding:"2px 8px",display:"inline-flex",alignItems:"center"},success:{backgroundColor:s.successLight,color:"#16a34a"},warning:{backgroundColor:s.warningLight,color:"#ca8a04"},error:{backgroundColor:s.errorLight,color:s.error},neutral:{backgroundColor:"rgba(107, 114, 128, 0.1)",color:"#4b5563"}},W={overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1300},content:{backgroundColor:s.background,borderRadius:z.lg,boxShadow:j.lg,maxWidth:"600px",width:"90%",maxHeight:"90vh",overflow:"auto"},title:{fontSize:t.sizes.xxl,fontWeight:t.weights.semibold,color:s.textPrimary,margin:0}},X=i=>e.jsx(H,{size:16,...i}),q={get:async i=>({data:await(await fetch(`/api${i}`)).json()}),post:async(i,x)=>({data:await(await fetch(`/api${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json()})},Z=({apiServices:i})=>{const[x,b]=c.useState(!1),[w,h]=c.useState(null),[d,f]=c.useState(null),[l,u]=c.useState([]),[C,p]=c.useState(0),[y,S]=c.useState(10),N=c.useRef(i||q).current,B=c.useMemo(()=>{const r=l.reduce((g,v)=>{const k=(v.provisioning_state||"").toLowerCase();return k==="succeeded"?g.succeeded+=1:k==="updating"?g.updating+=1:k==="failed"&&(g.failed+=1),g},{succeeded:0,updating:0,failed:0}),n=l.filter(g=>{var v;return(v=g.model_name)==null?void 0:v.toLowerCase().includes("gpt")}).length,a=l.filter(g=>{var v,k;return((v=g.model_name)==null?void 0:v.toLowerCase().includes("embedding"))||((k=g.model_name)==null?void 0:k.toLowerCase().includes("ada"))}).length;return{total:l.length,succeeded:r.succeeded,updating:r.updating,failed:r.failed,gptModels:n,embeddingModels:a}},[l]),L=r=>r?new Date(r).toLocaleDateString():"N/A",$=async()=>{b(!0),h(null);try{const n=(await N.post("/plugins/azure-ai-foundry/execute/getModels")).data;if(n!=null&&n.data){const a=n.data;"models"in a&&Array.isArray(a.models)?(a.configured?a.connected===!1?h(a.message||"Azure AI Foundry is not reachable."):a.error&&h(a.error):h("Configure the Azure AI Foundry plugin to start syncing model deployments."),u(a.models)):u([])}else u([])}catch{h("Unable to reach the Azure AI Foundry backend."),u([])}finally{b(!1)}};c.useEffect(()=>{$()},[]);const Y=async()=>{var r,n;b(!0),h(null);try{await N.post("/plugins/azure-ai-foundry/execute/syncModels")}catch(a){console.error("Error syncing Azure AI Foundry data:",a);const g=a;(n=(r=g.response)==null?void 0:r.data)!=null&&n.message?h(`Sync failed: ${g.response.data.message}`):h("Failed to sync with Azure AI Foundry. Showing cached data.")}await $()},D=r=>{f(r)},E=()=>{f(null)},Q=c.useCallback((r,n)=>{p(n)},[]),m=c.useCallback(r=>{S(parseInt(r.target.value,10)),p(0)},[]),R=c.useMemo(()=>{if(!l.length)return"0 - 0";const r=C*y+1,n=Math.min(C*y+y,l.length);return`${r} - ${n}`},[C,y,l.length]),ee=r=>{const n=(r||"unknown").toLowerCase();let a=A.neutral;return n==="succeeded"?a=A.success:n==="updating"||n==="creating"?a=A.warning:(n==="failed"||n==="deleting")&&(a=A.error),e.jsx(o.Chip,{label:r||"Unknown",size:"small",sx:{...A.base,...a}})},oe=l.slice(C*y,C*y+y);return x&&l.length===0?e.jsxs(o.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"400px"},children:[e.jsx(o.CircularProgress,{}),e.jsx(o.Typography,{variant:"body2",sx:{ml:2},children:"Loading Azure AI Foundry data..."})]}):e.jsxs(o.Box,{sx:{p:3,maxWidth:"100%",overflowX:"hidden"},children:[w&&e.jsx(o.Alert,{severity:"warning",sx:{mb:3},children:w}),e.jsx(o.Box,{sx:{mb:2,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:2,width:"100%"},children:e.jsx(o.Button,{variant:"outlined",startIcon:e.jsx(V,{size:16}),onClick:Y,disabled:x,sx:{...M.base,...M.sizes.medium,...M.primary.outlined,textTransform:"none"},children:"Sync"})}),e.jsxs(o.Box,{sx:{display:"flex",gap:2,mb:4,flexWrap:"wrap"},children:[e.jsx(o.Card,{sx:{flex:"1 1 200px",minWidth:150,...I.base},children:e.jsxs(o.CardContent,{children:[e.jsx(o.Typography,{variant:"body2",sx:{color:s.textTertiary,fontSize:t.sizes.md},children:"Total deployments"}),e.jsx(o.Typography,{variant:"h4",sx:{fontWeight:t.weights.semibold,color:s.textPrimary},children:B.total})]})}),e.jsx(o.Card,{sx:{flex:"1 1 200px",minWidth:150,...I.base},children:e.jsxs(o.CardContent,{children:[e.jsx(o.Typography,{variant:"body2",sx:{color:s.textTertiary,fontSize:t.sizes.md},children:"Succeeded"}),e.jsx(o.Typography,{variant:"h4",sx:{fontWeight:t.weights.semibold,color:s.textPrimary},children:B.succeeded})]})}),e.jsx(o.Card,{sx:{flex:"1 1 200px",minWidth:150,...I.base},children:e.jsxs(o.CardContent,{children:[e.jsx(o.Typography,{variant:"body2",sx:{color:s.textTertiary,fontSize:t.sizes.md},children:"GPT models"}),e.jsx(o.Typography,{variant:"h4",sx:{fontWeight:t.weights.semibold,color:s.textPrimary},children:B.gptModels})]})}),e.jsx(o.Card,{sx:{flex:"1 1 200px",minWidth:150,...I.base},children:e.jsxs(o.CardContent,{children:[e.jsx(o.Typography,{variant:"body2",sx:{color:s.textTertiary,fontSize:t.sizes.md},children:"Embeddings"}),e.jsx(o.Typography,{variant:"h4",sx:{fontWeight:t.weights.semibold,color:s.textPrimary},children:B.embeddingModels})]})})]}),e.jsx(o.Box,{sx:{mt:3,mb:2},children:l.length===0&&!x?e.jsx(o.Box,{sx:{textAlign:"center",py:4,color:s.textTertiary},children:e.jsx(o.Typography,{sx:{fontSize:t.sizes.md},children:"No Azure AI Foundry deployments have been synced yet. Configure the integration and click Sync to pull the latest models."})}):e.jsx(o.TableContainer,{sx:{border:`1px solid ${s.border}`,borderRadius:z.md},children:e.jsxs(o.Table,{sx:{minWidth:800},children:[e.jsx(o.TableHead,{sx:{backgroundColor:s.backgroundSecondary},children:e.jsx(o.TableRow,{children:["Deployment name","Model","Version","Status","SKU","Capacity","Last synced","Actions"].map(r=>e.jsx(o.TableCell,{sx:T.header,children:r},r))})}),e.jsx(o.TableBody,{children:oe.map(r=>e.jsxs(o.TableRow,{sx:{...T.row,cursor:"pointer"},onClick:()=>D(r),children:[e.jsx(o.TableCell,{sx:T.cell,children:r.deployment_name}),e.jsx(o.TableCell,{sx:T.cell,children:r.model_name}),e.jsx(o.TableCell,{sx:T.cell,children:r.model_version||"N/A"}),e.jsx(o.TableCell,{sx:T.cell,children:ee(r.provisioning_state)}),e.jsx(o.TableCell,{sx:T.cell,children:r.sku_name||"N/A"}),e.jsx(o.TableCell,{sx:T.cell,children:r.sku_capacity??"N/A"}),e.jsx(o.TableCell,{sx:T.cell,children:L(r.last_synced_at)}),e.jsx(o.TableCell,{children:e.jsx(o.Tooltip,{title:"View details",children:e.jsx(o.IconButton,{size:"small",onClick:n=>{n.stopPropagation(),D(r)},children:e.jsx(O,{size:16})})})})]},r.id))}),l.length>0&&e.jsx(o.TableFooter,{children:e.jsxs(o.TableRow,{children:[e.jsxs(o.TableCell,{sx:{fontSize:t.sizes.md,color:s.textTertiary},children:["Showing ",R," of ",l.length," deployment(s)"]}),e.jsx(o.TablePagination,{count:l.length,page:C,onPageChange:Q,rowsPerPage:y,rowsPerPageOptions:[5,10,15,25],onRowsPerPageChange:m,labelRowsPerPage:"Rows per page",labelDisplayedRows:({page:r,count:n})=>`Page ${r+1} of ${Math.max(1,Math.ceil(n/y))}`,slotProps:{select:{IconComponent:X}},sx:{fontSize:t.sizes.md}})]})})]})})}),d&&e.jsx(o.Box,{sx:{position:"fixed",top:0,left:0,width:"100%",height:"100%",...W.overlay,display:"flex",justifyContent:"center",alignItems:"center"},onClick:E,children:e.jsx(o.Card,{sx:{...W.content},onClick:r=>r.stopPropagation(),children:e.jsxs(o.CardContent,{children:[e.jsxs(o.Box,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(o.Typography,{variant:"h6",sx:{...W.title,fontSize:t.sizes.xl},children:d.deployment_name}),e.jsx(o.IconButton,{onClick:E,sx:{color:s.textTertiary},children:e.jsx(K,{size:20})})]}),e.jsxs(o.Grid,{container:!0,spacing:2,children:[e.jsxs(o.Grid,{item:!0,xs:12,sm:6,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Model information"}),e.jsxs(o.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Model:"})," ",d.model_name]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Version:"})," ",d.model_version||"N/A"]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Format:"})," ",d.model_format||"N/A"]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Status:"})," ",d.provisioning_state||"N/A"]})]})]}),e.jsxs(o.Grid,{item:!0,xs:12,sm:6,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Deployment details"}),e.jsxs(o.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"SKU:"})," ",d.sku_name||"N/A"]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Capacity:"})," ",d.sku_capacity??"N/A"]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"RAI policy:"})," ",d.rai_policy_name||"N/A"]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Created by:"})," ",d.created_by||"N/A"]})]})]}),e.jsxs(o.Grid,{item:!0,xs:12,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Capabilities"}),e.jsx(o.Box,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:Object.entries(d.capabilities||{}).length>0?Object.entries(d.capabilities).map(([r,n])=>e.jsx(o.Chip,{label:`${r}: ${n}`,size:"small",sx:{backgroundColor:"#E0EAFF",color:"#0F172A",borderRadius:"4px"}},r)):e.jsx(o.Typography,{variant:"body2",sx:{color:s.textTertiary},children:"No capabilities data available"})})]}),e.jsxs(o.Grid,{item:!0,xs:12,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Rate limits"}),e.jsx(o.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:d.rate_limits&&d.rate_limits.length>0?d.rate_limits.map((r,n)=>e.jsxs(o.Typography,{variant:"body2",children:[e.jsxs("strong",{children:[r.key,":"]})," ",r.count," per"," ",r.renewalPeriod,"s"]},n)):e.jsx(o.Typography,{variant:"body2",sx:{color:s.textTertiary},children:"No rate limits data available"})})]}),e.jsxs(o.Grid,{item:!0,xs:12,children:[e.jsx(o.Typography,{variant:"subtitle2",sx:{fontWeight:600,mb:1},children:"Timestamps"}),e.jsxs(o.Box,{sx:{display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Azure created:"})," ",L(d.azure_created_at)]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Azure modified:"})," ",L(d.azure_modified_at)]}),e.jsxs(o.Typography,{variant:"body2",children:[e.jsx("strong",{children:"Last synced:"})," ",L(d.last_synced_at)]})]})]})]})]})})})]})},J=({configData:i={},onConfigChange:x,onSaveConfiguration:b,onTestConnection:w,isSavingConfig:h=!1,isTestingConnection:d=!1})=>{const[f,l]=c.useState({...i});c.useEffect(()=>{l({...i})},[i]);const u=(p,y)=>{l(S=>({...S,[p]:y})),x&&x(p,y)},C=[{key:"project_endpoint",label:"Project endpoint",placeholder:"https://your-resource.services.ai.azure.com/api/projects/your-project",type:"url",helperText:"The endpoint URL for your Azure AI Foundry project"},{key:"api_key",label:"API key",placeholder:"Enter your API key",type:"password",helperText:"Your Azure AI Foundry API key"}];return e.jsxs(o.Box,{children:[e.jsx(o.Typography,{variant:"body2",color:"text.secondary",fontSize:13,sx:{mb:3},children:"Configure your Azure AI Foundry connection to sync model deployments."}),e.jsx(o.Stack,{spacing:2.5,children:C.map(p=>e.jsxs(o.Box,{children:[e.jsx(o.Typography,{variant:"body2",fontWeight:500,fontSize:13,sx:{mb:.75,color:"#344054"},children:p.label}),e.jsx(o.TextField,{fullWidth:!0,type:p.type,placeholder:p.placeholder,value:f[p.key]||"",onChange:y=>u(p.key,y.target.value),size:"small",sx:{"& .MuiOutlinedInput-root":{fontSize:"13px",backgroundColor:"white"}}}),p.helperText&&e.jsx(o.Typography,{variant:"caption",sx:{mt:.5,display:"block",color:"#667085",fontSize:"12px"},children:p.helperText})]},p.key))}),e.jsxs(o.Box,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:3},children:[w&&e.jsx(o.Button,{variant:"outlined",onClick:w,disabled:d||h||!f.project_endpoint||!f.api_key,sx:{borderColor:"#13715B",color:"#13715B",textTransform:"none",fontSize:"13px",fontWeight:500,height:"34px","&:hover":{borderColor:"#0f5a47",backgroundColor:"rgba(19, 113, 91, 0.04)"},"&:disabled":{borderColor:"#d0d5dd",color:"#98a2b3"}},children:d?"Testing...":"Test connection"}),b&&e.jsx(o.Button,{variant:"contained",onClick:b,disabled:h||d||!f.project_endpoint||!f.api_key,sx:{backgroundColor:"#13715B",textTransform:"none",fontSize:"13px",fontWeight:500,height:"34px","&:hover":{backgroundColor:"#0f5a47"},"&:disabled":{backgroundColor:"#d0d5dd"}},children:h?"Saving...":"Save configuration"})]})]})};return _.AzureAIFoundryConfiguration=J,_.AzureAIFoundryTab=Z,Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),_}({},jsxRuntime,React,MUI);
//# sourceMappingURL=index.esm.js.map
